{"version":3,"file":"index-BHHon17r.js","sources":["../../node_modules/react-dom/client.js","../../src/lib/firebase/config.ts","../../src/lib/firebase/auth.ts","../../src/contexts/AuthContext.tsx","../../src/components/ProtectedRoute.tsx","../../node_modules/date-fns/toDate.mjs","../../node_modules/date-fns/constructFrom.mjs","../../node_modules/date-fns/addDays.mjs","../../node_modules/date-fns/constants.mjs","../../node_modules/date-fns/_lib/defaultOptions.mjs","../../node_modules/date-fns/startOfWeek.mjs","../../node_modules/date-fns/startOfISOWeek.mjs","../../node_modules/date-fns/getISOWeekYear.mjs","../../node_modules/date-fns/startOfDay.mjs","../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs","../../node_modules/date-fns/differenceInCalendarDays.mjs","../../node_modules/date-fns/startOfISOWeekYear.mjs","../../node_modules/date-fns/isDate.mjs","../../node_modules/date-fns/isValid.mjs","../../node_modules/date-fns/endOfDay.mjs","../../node_modules/date-fns/startOfYear.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs","../../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs","../../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/localize.mjs","../../node_modules/date-fns/locale/_lib/buildMatchFn.mjs","../../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/match.mjs","../../node_modules/date-fns/locale/en-US.mjs","../../node_modules/date-fns/getDayOfYear.mjs","../../node_modules/date-fns/getISOWeek.mjs","../../node_modules/date-fns/getWeekYear.mjs","../../node_modules/date-fns/startOfWeekYear.mjs","../../node_modules/date-fns/getWeek.mjs","../../node_modules/date-fns/_lib/addLeadingZeros.mjs","../../node_modules/date-fns/_lib/format/lightFormatters.mjs","../../node_modules/date-fns/_lib/format/formatters.mjs","../../node_modules/date-fns/_lib/format/longFormatters.mjs","../../node_modules/date-fns/_lib/protectedTokens.mjs","../../node_modules/date-fns/format.mjs","../../node_modules/date-fns/subDays.mjs","../../node_modules/date-fns/locale/es/_lib/formatDistance.mjs","../../node_modules/date-fns/locale/es/_lib/formatLong.mjs","../../node_modules/date-fns/locale/es/_lib/formatRelative.mjs","../../node_modules/date-fns/locale/es/_lib/localize.mjs","../../node_modules/date-fns/locale/es/_lib/match.mjs","../../node_modules/date-fns/locale/es.mjs","../../src/lib/utils/formatting.ts","../../node_modules/clsx/dist/clsx.mjs","../../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../../src/lib/utils/cn.ts","../../src/config/constants.ts","../../src/lib/utils/order.ts","../../src/components/Layout/TopNav.tsx","../../src/components/Layout/index.tsx","../../src/components/ui/Button.tsx","../../src/components/ui/Input.tsx","../../src/pages/Login.tsx","../../src/lib/firebase/database.ts","../../src/hooks/useProviders.ts","../../src/components/ui/Card.tsx","../../src/lib/dateUtils.ts","../../src/hooks/useTodayOrdersCount.ts","../../src/lib/services/database/operations.ts","../../src/lib/services/database/collections.ts","../../src/lib/services/analytics.ts","../../src/hooks/useAnalytics.ts","../../src/components/dashboard/AnalyticsCard.tsx","../../src/components/ui/Dialog.tsx","../../src/components/dashboard/TopProductsModal.tsx","../../src/lib/services/orders.ts","../../src/hooks/useProviderOrders.ts","../../src/components/dashboard/ProviderOrderStatus.tsx","../../src/components/dashboard/ProviderDeliveryStatus.tsx","../../src/hooks/useGlobalProducts.ts","../../src/lib/services/products.ts","../../src/lib/utils/csvParser.ts","../../src/lib/utils/csvImport.ts","../../src/components/dashboard/CsvImportResultsModal.tsx","../../src/components/dashboard/CsvImportCard.tsx","../../src/pages/Dashboard.tsx","../../src/components/providers/ProviderForm.tsx","../../src/pages/Providers.tsx","../../src/components/ui/SearchableSelect.tsx","../../src/lib/validation/productValidation.ts","../../src/lib/services/errors.ts","../../src/lib/services/database/products.ts","../../src/hooks/useProducts.ts","../../src/lib/order/reorder.ts","../../src/lib/order/utils.ts","../../src/hooks/useProductUpdate.ts","../../src/components/ui/TagInput.tsx","../../src/components/ui/TagsInput.tsx","../../src/hooks/usePackaging.ts","../../src/hooks/useTags.ts","../../src/hooks/useSkuSuggestion.ts","../../src/hooks/useProductForm.ts","../../src/lib/sectorColors.ts","../../src/lib/services/database/productOrder.ts","../../src/hooks/useProductOrder.ts","../../src/components/products/ProductOrderModal.tsx","../../src/components/products/ProductForm.tsx","../../src/components/products/FullscreenProductForm.tsx","../../src/components/products/ProductCard.tsx","../../src/hooks/useMediaQuery.ts","../../src/components/products/ProductCarousel.tsx","../../src/components/products/GlobalProductSearch.tsx","../../src/components/products/ProviderProductSearch.tsx","../../src/pages/Products.tsx","../../src/hooks/useOrders.ts","../../src/hooks/useGlobalOrders.ts","../../src/lib/utils/formatting/reportUtils.ts","../../src/lib/utils/formatting/whatsappReport.ts","../../src/lib/utils/formatting/printTemplate.ts","../../src/components/orders/OrderSummary.tsx","../../src/components/orders/OrderActions.tsx","../../src/components/orders/OrderList.tsx","../../src/components/orders/OrderDetails.tsx","../../src/components/orders/OrderListSearch.tsx","../../src/lib/utils/formatting/currency.ts","../../src/components/products/FullscreenProductEditor.tsx","../../src/components/orders/OrderProductCard.tsx","../../src/components/orders/ProductFilter.tsx","../../src/components/orders/ProductSelector.tsx","../../src/components/orders/FullscreenOrderEditor.tsx","../../src/lib/order/calculations.ts","../../src/lib/order/validation.ts","../../src/pages/Orders.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { initializeApp } from 'firebase/app';\n\nconst firebaseConfig = {\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\n  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,\n  databaseURL: import.meta.env.VITE_FIREBASE_DATABASE_URL,\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\n  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,\n  appId: import.meta.env.VITE_FIREBASE_APP_ID\n};\n\n// Log environment information\nconst environment = import.meta.env.MODE;\nconsole.log(`Running in ${environment} mode`);\nconsole.log(`Using database: ${firebaseConfig.databaseURL}`);\n\n// Initialize Firebase with environment-specific config\nexport const app = initializeApp(firebaseConfig);","import { getAuth, signInWithEmailAndPassword, signOut as firebaseSignOut, User } from 'firebase/auth';\nimport { app } from './config';\n\nexport const auth = getAuth(app);\n\nexport interface AuthUser extends User {\n  displayName: string | null;\n  email: string | null;\n}\n\nexport async function signIn(email: string, password: string) {\n  try {\n    const result = await signInWithEmailAndPassword(auth, email, password);\n    return result.user as AuthUser;\n  } catch (error) {\n    console.error('Sign in error:', error);\n    throw error;\n  }\n}\n\nexport async function signOut() {\n  try {\n    await firebaseSignOut(auth);\n  } catch (error) {\n    console.error('Sign out error:', error);\n    throw error;\n  }\n}","import React, { createContext, useContext, useEffect, useState } from 'react';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, signIn, signOut, AuthUser } from '@/lib/firebase/auth';\nimport { toast } from 'react-hot-toast';\n\ninterface AuthContextType {\n  user: AuthUser | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<void>;\n  signOut: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<AuthUser | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setUser(user as AuthUser);\n      setLoading(false);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const handleSignIn = async (email: string, password: string) => {\n    try {\n      await signIn(email, password);\n      toast.success('¡Bienvenido!');\n    } catch (error) {\n      console.error('Sign in error:', error);\n      toast.error('Credenciales inválidas');\n      throw error;\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await signOut();\n      toast.success('Sesión cerrada');\n    } catch (error) {\n      console.error('Sign out error:', error);\n      toast.error('Error al cerrar sesión');\n      throw error;\n    }\n  };\n\n  const value = {\n    user,\n    loading,\n    signIn: handleSignIn,\n    signOut: handleSignOut\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}","import { Navigate, Outlet } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\n\nexport function ProtectedRoute() {\n  const { user } = useAuth();\n\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return <Outlet />;\n}","/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n","import { startOfWeek } from \"./startOfWeek.mjs\";\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date) {\n  return startOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { millisecondsInDay } from \"./constants.mjs\";\nimport { startOfDay } from \"./startOfDay.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(dateLeft, dateRight) {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft =\n    +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight =\n    +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n","import { getISOWeekYear } from \"./getISOWeekYear.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date) {\n  const year = getISOWeekYear(date);\n  const fourthOfJanuary = constructFrom(date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n","/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n","import { isDate } from \"./isDate.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  if (!isDate(date) && typeof date !== \"number\") {\n    return false;\n  }\n  const _date = toDate(date);\n  return !isNaN(Number(_date));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date) {\n  const cleanDate = toDate(date);\n  const _date = constructFrom(date, 0);\n  _date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { startOfYear } from \"./startOfYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date) {\n  const _date = toDate(date);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date) {\n  const _date = toDate(date);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { getWeekYear } from \"./getWeekYear.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { startOfWeekYear } from \"./startOfWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport function getWeek(date, options) {\n  const _date = toDate(date);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n","export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n","import { addLeadingZeros } from \"../addLeadingZeros.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n","import { getDayOfYear } from \"../../getDayOfYear.mjs\";\nimport { getISOWeek } from \"../../getISOWeek.mjs\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.mjs\";\nimport { getWeek } from \"../../getWeek.mjs\";\nimport { getWeekYear } from \"../../getWeekYear.mjs\";\nimport { addLeadingZeros } from \"../addLeadingZeros.mjs\";\nimport { lightFormatters } from \"./lightFormatters.mjs\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(date.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    const timestamp = date.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n","const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n","const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n","import { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { formatters } from \"./_lib/format/formatters.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\nimport { isValid } from \"./isValid.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n","import { addDays } from \"./addDays.mjs\";\n\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be subtracted.\n *\n * @returns The new date with the days subtracted\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport function subDays(date, amount) {\n  return addDays(date, -amount);\n}\n\n// Fallback for modularized imports:\nexport default subDays;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"menos de un segundo\",\n    other: \"menos de {{count}} segundos\",\n  },\n\n  xSeconds: {\n    one: \"1 segundo\",\n    other: \"{{count}} segundos\",\n  },\n\n  halfAMinute: \"medio minuto\",\n\n  lessThanXMinutes: {\n    one: \"menos de un minuto\",\n    other: \"menos de {{count}} minutos\",\n  },\n\n  xMinutes: {\n    one: \"1 minuto\",\n    other: \"{{count}} minutos\",\n  },\n\n  aboutXHours: {\n    one: \"alrededor de 1 hora\",\n    other: \"alrededor de {{count}} horas\",\n  },\n\n  xHours: {\n    one: \"1 hora\",\n    other: \"{{count}} horas\",\n  },\n\n  xDays: {\n    one: \"1 día\",\n    other: \"{{count}} días\",\n  },\n\n  aboutXWeeks: {\n    one: \"alrededor de 1 semana\",\n    other: \"alrededor de {{count}} semanas\",\n  },\n\n  xWeeks: {\n    one: \"1 semana\",\n    other: \"{{count}} semanas\",\n  },\n\n  aboutXMonths: {\n    one: \"alrededor de 1 mes\",\n    other: \"alrededor de {{count}} meses\",\n  },\n\n  xMonths: {\n    one: \"1 mes\",\n    other: \"{{count}} meses\",\n  },\n\n  aboutXYears: {\n    one: \"alrededor de 1 año\",\n    other: \"alrededor de {{count}} años\",\n  },\n\n  xYears: {\n    one: \"1 año\",\n    other: \"{{count}} años\",\n  },\n\n  overXYears: {\n    one: \"más de 1 año\",\n    other: \"más de {{count}} años\",\n  },\n\n  almostXYears: {\n    one: \"casi 1 año\",\n    other: \"casi {{count}} años\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"en \" + result;\n    } else {\n      return \"hace \" + result;\n    }\n  }\n\n  return result;\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, d 'de' MMMM 'de' y\",\n  long: \"d 'de' MMMM 'de' y\",\n  medium: \"d MMM y\",\n  short: \"dd/MM/y\",\n};\n\nconst timeFormats = {\n  full: \"HH:mm:ss zzzz\",\n  long: \"HH:mm:ss z\",\n  medium: \"HH:mm:ss\",\n  short: \"HH:mm\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'a las' {{time}}\",\n  long: \"{{date}} 'a las' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'el' eeee 'pasado a la' p\",\n  yesterday: \"'ayer a la' p\",\n  today: \"'hoy a la' p\",\n  tomorrow: \"'mañana a la' p\",\n  nextWeek: \"eeee 'a la' p\",\n  other: \"P\",\n};\n\nconst formatRelativeLocalePlural = {\n  lastWeek: \"'el' eeee 'pasado a las' p\",\n  yesterday: \"'ayer a las' p\",\n  today: \"'hoy a las' p\",\n  tomorrow: \"'mañana a las' p\",\n  nextWeek: \"eeee 'a las' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, date, _baseDate, _options) => {\n  if (date.getHours() !== 1) {\n    return formatRelativeLocalePlural[token];\n  } else {\n    return formatRelativeLocale[token];\n  }\n};\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"AC\", \"DC\"],\n  abbreviated: [\"AC\", \"DC\"],\n  wide: [\"antes de cristo\", \"después de cristo\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"T1\", \"T2\", \"T3\", \"T4\"],\n  wide: [\"1º trimestre\", \"2º trimestre\", \"3º trimestre\", \"4º trimestre\"],\n};\n\nconst monthValues = {\n  narrow: [\"e\", \"f\", \"m\", \"a\", \"m\", \"j\", \"j\", \"a\", \"s\", \"o\", \"n\", \"d\"],\n  abbreviated: [\n    \"ene\",\n    \"feb\",\n    \"mar\",\n    \"abr\",\n    \"may\",\n    \"jun\",\n    \"jul\",\n    \"ago\",\n    \"sep\",\n    \"oct\",\n    \"nov\",\n    \"dic\",\n  ],\n\n  wide: [\n    \"enero\",\n    \"febrero\",\n    \"marzo\",\n    \"abril\",\n    \"mayo\",\n    \"junio\",\n    \"julio\",\n    \"agosto\",\n    \"septiembre\",\n    \"octubre\",\n    \"noviembre\",\n    \"diciembre\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"d\", \"l\", \"m\", \"m\", \"j\", \"v\", \"s\"],\n  short: [\"do\", \"lu\", \"ma\", \"mi\", \"ju\", \"vi\", \"sá\"],\n  abbreviated: [\"dom\", \"lun\", \"mar\", \"mié\", \"jue\", \"vie\", \"sáb\"],\n  wide: [\n    \"domingo\",\n    \"lunes\",\n    \"martes\",\n    \"miércoles\",\n    \"jueves\",\n    \"viernes\",\n    \"sábado\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"mañana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"mañana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"mañana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"de la mañana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"de la mañana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"de la mañana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n  return number + \"º\";\n};\n\nexport const localize = {\n  ordinalNumber: ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => Number(quarter) - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\nimport { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(º)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(ac|dc|a|d)/i,\n  abbreviated: /^(a\\.?\\s?c\\.?|a\\.?\\s?e\\.?\\s?c\\.?|d\\.?\\s?c\\.?|e\\.?\\s?c\\.?)/i,\n  wide: /^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i,\n};\nconst parseEraPatterns = {\n  any: [/^ac/i, /^dc/i],\n  wide: [\n    /^(antes de cristo|antes de la era com[uú]n)/i,\n    /^(despu[eé]s de cristo|era com[uú]n)/i,\n  ],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^T[1234]/i,\n  wide: /^[1234](º)? trimestre/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[efmajsond]/i,\n  abbreviated: /^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,\n  wide: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^e/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^en/i,\n    /^feb/i,\n    /^mar/i,\n    /^abr/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^ago/i,\n    /^sep/i,\n    /^oct/i,\n    /^nov/i,\n    /^dic/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[dlmjvs]/i,\n  short: /^(do|lu|ma|mi|ju|vi|s[áa])/i,\n  abbreviated: /^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,\n  wide: /^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],\n  any: [/^do/i, /^lu/i, /^ma/i, /^mi/i, /^ju/i, /^vi/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,\n  any: /^([ap]\\.?\\s?m\\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mn/i,\n    noon: /^md/i,\n    morning: /mañana/i,\n    afternoon: /tarde/i,\n    evening: /tarde/i,\n    night: /noche/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    },\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./es/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./es/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./es/_lib/formatRelative.mjs\";\nimport { localize } from \"./es/_lib/localize.mjs\";\nimport { match } from \"./es/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary Spanish locale.\n * @language Spanish\n * @iso-639-2 spa\n * @author Juan Angosto [@juanangosto](https://github.com/juanangosto)\n * @author Guillermo Grau [@guigrpa](https://github.com/guigrpa)\n * @author Fernando Agüero [@fjaguero](https://github.com/fjaguero)\n * @author Gastón Haro [@harogaston](https://github.com/harogaston)\n * @author Yago Carballo [@YagoCarballo](https://github.com/YagoCarballo)\n */\nexport const es = {\n  code: \"es\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1 /* Monday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default es;\n","import { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Order, Product } from '@/types';\n\nexport function formatPrice(price: number): string {\n  return new Intl.NumberFormat('es-UY', {\n    style: 'currency',\n    currency: 'UYU'\n  }).format(price);\n}\n\nexport function formatPhoneNumber(phone: string): string {\n  const cleaned = phone.replace(/\\D/g, '');\n  const number = cleaned.startsWith('598') ? cleaned.slice(3) : cleaned;\n  \n  if (number.length >= 8) {\n    const parts = [\n      number.slice(0, 2),\n      number.slice(2, 5),\n      number.slice(5)\n    ];\n    return `+598 ${parts.join(' ')}`;\n  }\n  \n  return `+598 ${number}`;\n}\n\nexport function validatePhoneNumber(phone: string): boolean {\n  const cleaned = phone.replace(/\\D/g, '');\n  const number = cleaned.startsWith('598') ? cleaned.slice(3) : cleaned;\n  return /^[0-9]{8,9}$/.test(number);\n}\n\nexport function generateWhatsAppLink(phone: string, message: string): string {\n  const cleaned = phone.replace(/\\D/g, '');\n  const number = cleaned.startsWith('598') ? cleaned : `598${cleaned}`;\n  return `https://wa.me/${number}?text=${encodeURIComponent(message)}`;\n}\n\nexport function formatOrderMessage(order: Order, products: Product[], providerName: string, providerLegalName?: string): string {\n  const date = format(new Date(order.date), \"dd/MM/yyyy HH:mm:ss\", { locale: es });\n  \n  // Format header with provider names\n  const header = [\n    `Pedido: ${date}`,\n    providerName,\n    providerLegalName && providerLegalName !== providerName ? providerLegalName : '',\n    '________________________________'\n  ].filter(Boolean).join('\\n');\n\n  // Format items\n  const items = order.items\n    .map(item => {\n      const product = products.find(p => p.id === item.productId);\n      if (!product) return null;\n      \n      const skuPart = product.sku ? `[${product.sku}] ` : '';\n      return `. ${item.quantity} ${product.purchasePackaging} - ${skuPart}${product.name}`;\n    })\n    .filter(Boolean)\n    .join('\\n');\n\n  return `${header}\\n${items}`;\n}","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    prefix\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  const prefixedClassGroupEntries = getPrefixedClassGroupEntries(Object.entries(config.classGroups), prefix);\n  prefixedClassGroupEntries.forEach(([classGroupId, classGroup]) => {\n    processClassesRecursively(classGroup, classMap, classGroupId, theme);\n  });\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\nconst getPrefixedClassGroupEntries = (classGroupEntries, prefix) => {\n  if (!prefix) {\n    return classGroupEntries;\n  }\n  return classGroupEntries.map(([classGroupId, classGroup]) => {\n    const prefixedClassGroup = classGroup.map(classDefinition => {\n      if (typeof classDefinition === 'string') {\n        return prefix + classDefinition;\n      }\n      if (typeof classDefinition === 'object') {\n        return Object.fromEntries(Object.entries(classDefinition).map(([key, value]) => [prefix + key, value]));\n      }\n      return classDefinition;\n    });\n    return [classGroupId, prefixedClassGroup];\n  });\n};\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst createParseClassName = config => {\n  const {\n    separator,\n    experimentalParseClassName\n  } = config;\n  const isSeparatorSingleCharacter = separator.length === 1;\n  const firstSeparatorCharacter = separator[0];\n  const separatorLength = separator.length;\n  // parseClassName inspired by https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n  const parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0) {\n        if (currentCharacter === firstSeparatorCharacter && (isSeparatorSingleCharacter || className.slice(index, index + separatorLength) === separator)) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + separatorLength;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const hasImportantModifier = baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER);\n    const baseClassName = hasImportantModifier ? baseClassNameWithImportantModifier.substring(1) : baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (experimentalParseClassName) {\n    return className => experimentalParseClassName({\n      className,\n      parseClassName\n    });\n  }\n  return parseClassName;\n};\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst sortModifiers = modifiers => {\n  if (modifiers.length <= 1) {\n    return modifiers;\n  }\n  const sortedModifiers = [];\n  let unsortedModifiers = [];\n  modifiers.forEach(modifier => {\n    const isArbitraryVariant = modifier[0] === '[';\n    if (isArbitraryVariant) {\n      sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n      unsortedModifiers = [];\n    } else {\n      unsortedModifiers.push(modifier);\n    }\n  });\n  sortedModifiers.push(...unsortedModifiers.sort());\n  return sortedModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    let hasPostfixModifier = Boolean(maybePostfixModifierPosition);\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:([a-z-]+):)?(.+)\\]$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst stringLengths = /*#__PURE__*/new Set(['px', 'full', 'screen']);\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isLength = value => isNumber(value) || stringLengths.has(value) || fractionRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, 'length', isLengthOnly);\nconst isNumber = value => Boolean(value) && !Number.isNaN(Number(value));\nconst isArbitraryNumber = value => getIsArbitraryValue(value, 'number', isNumber);\nconst isInteger = value => Boolean(value) && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst sizeLabels = /*#__PURE__*/new Set(['length', 'size', 'percentage']);\nconst isArbitrarySize = value => getIsArbitraryValue(value, sizeLabels, isNever);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, 'position', isNever);\nconst imageLabels = /*#__PURE__*/new Set(['image', 'url']);\nconst isArbitraryImage = value => getIsArbitraryValue(value, imageLabels, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, '', isShadow);\nconst isAny = () => true;\nconst getIsArbitraryValue = (value, label, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return typeof label === 'string' ? result[1] === label : label.has(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isInteger,\n  isLength,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  const colors = fromTheme('colors');\n  const spacing = fromTheme('spacing');\n  const blur = fromTheme('blur');\n  const brightness = fromTheme('brightness');\n  const borderColor = fromTheme('borderColor');\n  const borderRadius = fromTheme('borderRadius');\n  const borderSpacing = fromTheme('borderSpacing');\n  const borderWidth = fromTheme('borderWidth');\n  const contrast = fromTheme('contrast');\n  const grayscale = fromTheme('grayscale');\n  const hueRotate = fromTheme('hueRotate');\n  const invert = fromTheme('invert');\n  const gap = fromTheme('gap');\n  const gradientColorStops = fromTheme('gradientColorStops');\n  const gradientColorStopPositions = fromTheme('gradientColorStopPositions');\n  const inset = fromTheme('inset');\n  const margin = fromTheme('margin');\n  const opacity = fromTheme('opacity');\n  const padding = fromTheme('padding');\n  const saturate = fromTheme('saturate');\n  const scale = fromTheme('scale');\n  const sepia = fromTheme('sepia');\n  const skew = fromTheme('skew');\n  const space = fromTheme('space');\n  const translate = fromTheme('translate');\n  const getOverscroll = () => ['auto', 'contain', 'none'];\n  const getOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const getSpacingWithAutoAndArbitrary = () => ['auto', isArbitraryValue, spacing];\n  const getSpacingWithArbitrary = () => [isArbitraryValue, spacing];\n  const getLengthWithEmptyAndArbitrary = () => ['', isLength, isArbitraryLength];\n  const getNumberWithAutoAndArbitrary = () => ['auto', isNumber, isArbitraryValue];\n  const getPositions = () => ['bottom', 'center', 'left', 'left-bottom', 'left-top', 'right', 'right-bottom', 'right-top', 'top'];\n  const getLineStyles = () => ['solid', 'dashed', 'dotted', 'double', 'none'];\n  const getBlendModes = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const getAlign = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch'];\n  const getZeroAndEmpty = () => ['', '0', isArbitraryValue];\n  const getBreaks = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const getNumberAndArbitrary = () => [isNumber, isArbitraryValue];\n  return {\n    cacheSize: 500,\n    separator: ':',\n    theme: {\n      colors: [isAny],\n      spacing: [isLength, isArbitraryLength],\n      blur: ['none', '', isTshirtSize, isArbitraryValue],\n      brightness: getNumberAndArbitrary(),\n      borderColor: [colors],\n      borderRadius: ['none', '', 'full', isTshirtSize, isArbitraryValue],\n      borderSpacing: getSpacingWithArbitrary(),\n      borderWidth: getLengthWithEmptyAndArbitrary(),\n      contrast: getNumberAndArbitrary(),\n      grayscale: getZeroAndEmpty(),\n      hueRotate: getNumberAndArbitrary(),\n      invert: getZeroAndEmpty(),\n      gap: getSpacingWithArbitrary(),\n      gradientColorStops: [colors],\n      gradientColorStopPositions: [isPercent, isArbitraryLength],\n      inset: getSpacingWithAutoAndArbitrary(),\n      margin: getSpacingWithAutoAndArbitrary(),\n      opacity: getNumberAndArbitrary(),\n      padding: getSpacingWithArbitrary(),\n      saturate: getNumberAndArbitrary(),\n      scale: getNumberAndArbitrary(),\n      sepia: getZeroAndEmpty(),\n      skew: getNumberAndArbitrary(),\n      space: getSpacingWithArbitrary(),\n      translate: getSpacingWithArbitrary()\n    },\n    classGroups: {\n      // Layout\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', 'video', isArbitraryValue]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isTshirtSize]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': getBreaks()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': getBreaks()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: [...getPositions(), isArbitraryValue]\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: getOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': getOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': getOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': getOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: [inset]\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': [inset]\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': [inset]\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: [inset]\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: [inset]\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: [inset]\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: [inset]\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: [inset]\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: [inset]\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: ['auto', isInteger, isArbitraryValue]\n      }],\n      // Flexbox and Grid\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: getSpacingWithAutoAndArbitrary()\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['wrap', 'wrap-reverse', 'nowrap']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: ['1', 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: getZeroAndEmpty()\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: getZeroAndEmpty()\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: ['first', 'last', 'none', isInteger, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': [isAny]\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: ['auto', {\n          span: ['full', isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': [isAny]\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: ['auto', {\n          span: [isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: [gap]\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': [gap]\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': [gap]\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: ['normal', ...getAlign()]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': ['start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...getAlign(), 'baseline']\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', 'start', 'end', 'center', 'stretch', 'baseline']\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': [...getAlign(), 'baseline']\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: [padding]\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: [padding]\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: [padding]\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: [padding]\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: [padding]\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: [padding]\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: [padding]\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: [padding]\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: [padding]\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: [margin]\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: [margin]\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: [margin]\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: [margin]\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: [margin]\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: [margin]\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: [margin]\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: [margin]\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: [margin]\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x': [{\n        'space-x': [space]\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y': [{\n        'space-y': [space]\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // Sizing\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: ['auto', 'min', 'max', 'fit', 'svw', 'lvw', 'dvw', isArbitraryValue, spacing]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [isArbitraryValue, spacing, 'min', 'max', 'fit']\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [isArbitraryValue, spacing, 'none', 'full', 'min', 'max', 'fit', 'prose', {\n          screen: [isTshirtSize]\n        }, isTshirtSize]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/size\n       */\n      size: [{\n        size: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit']\n      }],\n      // Typography\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', isTshirtSize, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black', isArbitraryNumber]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isAny]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest', isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': ['none', isNumber, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose', isLength, isArbitraryValue]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryValue]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['none', 'disc', 'decimal', isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: [colors]\n      }],\n      /**\n       * Placeholder Opacity\n       * @see https://tailwindcss.com/docs/placeholder-opacity\n       */\n      'placeholder-opacity': [{\n        'placeholder-opacity': [opacity]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: [colors]\n      }],\n      /**\n       * Text Opacity\n       * @see https://tailwindcss.com/docs/text-opacity\n       */\n      'text-opacity': [{\n        'text-opacity': [opacity]\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...getLineStyles(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: ['auto', 'from-font', isLength, isArbitraryLength]\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': ['auto', isLength, isArbitraryValue]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: [colors]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: getSpacingWithArbitrary()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryValue]\n      }],\n      // Backgrounds\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Opacity\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/background-opacity\n       */\n      'bg-opacity': [{\n        'bg-opacity': [opacity]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: [...getPositions(), isArbitraryPosition]\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: ['no-repeat', {\n          repeat: ['', 'x', 'y', 'round', 'space']\n        }]\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: ['auto', 'cover', 'contain', isArbitrarySize]\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          'gradient-to': ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n        }, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: [colors]\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: [gradientColorStops]\n      }],\n      // Borders\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: [borderRadius]\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': [borderRadius]\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': [borderRadius]\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': [borderRadius]\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': [borderRadius]\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': [borderRadius]\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': [borderRadius]\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': [borderRadius]\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': [borderRadius]\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': [borderRadius]\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: [borderWidth]\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': [borderWidth]\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': [borderWidth]\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': [borderWidth]\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': [borderWidth]\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': [borderWidth]\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': [borderWidth]\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': [borderWidth]\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': [borderWidth]\n      }],\n      /**\n       * Border Opacity\n       * @see https://tailwindcss.com/docs/border-opacity\n       */\n      'border-opacity': [{\n        'border-opacity': [opacity]\n      }],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...getLineStyles(), 'hidden']\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x': [{\n        'divide-x': [borderWidth]\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y': [{\n        'divide-y': [borderWidth]\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Divide Opacity\n       * @see https://tailwindcss.com/docs/divide-opacity\n       */\n      'divide-opacity': [{\n        'divide-opacity': [opacity]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/divide-style\n       */\n      'divide-style': [{\n        divide: getLineStyles()\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: [borderColor]\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': [borderColor]\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': [borderColor]\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': [borderColor]\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': [borderColor]\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': [borderColor]\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': [borderColor]\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': [borderColor]\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': [borderColor]\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: [borderColor]\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: ['', ...getLineStyles()]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isLength, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: [isLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: [colors]\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w': [{\n        ring: getLengthWithEmptyAndArbitrary()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/ring-color\n       */\n      'ring-color': [{\n        ring: [colors]\n      }],\n      /**\n       * Ring Opacity\n       * @see https://tailwindcss.com/docs/ring-opacity\n       */\n      'ring-opacity': [{\n        'ring-opacity': [opacity]\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://tailwindcss.com/docs/ring-offset-width\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isLength, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://tailwindcss.com/docs/ring-offset-color\n       */\n      'ring-offset-color': [{\n        'ring-offset': [colors]\n      }],\n      // Effects\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: ['', 'inner', 'none', isTshirtSize, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow-color\n       */\n      'shadow-color': [{\n        shadow: [isAny]\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [opacity]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...getBlendModes(), 'plus-lighter', 'plus-darker']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': getBlendModes()\n      }],\n      // Filters\n      /**\n       * Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: ['', 'none']\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: [blur]\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [brightness]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [contrast]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': ['', 'none', isTshirtSize, isArbitraryValue]\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [grayscale]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [hueRotate]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [invert]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [saturate]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [sepia]\n      }],\n      /**\n       * Backdrop Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': ['', 'none']\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': [blur]\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [brightness]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [contrast]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': [grayscale]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [hueRotate]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': [invert]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [opacity]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [saturate]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': [sepia]\n      }],\n      // Tables\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': [borderSpacing]\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': [borderSpacing]\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': [borderSpacing]\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // Transitions and Animation\n      /**\n       * Tranisition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['none', 'all', '', 'colors', 'opacity', 'shadow', 'transform', isArbitraryValue]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: getNumberAndArbitrary()\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'in', 'out', 'in-out', isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: getNumberAndArbitrary()\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', 'spin', 'ping', 'pulse', 'bounce', isArbitraryValue]\n      }],\n      // Transforms\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: ['', 'gpu', 'none']\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: [scale]\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': [scale]\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': [scale]\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: [isInteger, isArbitraryValue]\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': [translate]\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': [translate]\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': [skew]\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': [skew]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: ['center', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left', isArbitraryValue]\n      }],\n      // Interactivity\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: ['auto', colors]\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryValue]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: [colors]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['none', 'auto']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', 'y', 'x', '']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryValue]\n      }],\n      // SVG\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [colors, 'none']\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [colors, 'none']\n      }],\n      // Accessibility\n      /**\n       * Screen Readers\n       * @see https://tailwindcss.com/docs/screen-readers\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    }\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  separator,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'separator', separator);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  for (const configKey in override) {\n    overrideConfigProperties(baseConfig[configKey], override[configKey]);\n  }\n  for (const key in extend) {\n    mergeConfigProperties(baseConfig[key], extend[key]);\n  }\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      const mergeValue = mergeObject[key];\n      if (mergeValue !== undefined) {\n        baseObject[key] = (baseObject[key] || []).concat(mergeValue);\n      }\n    }\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * Merges Tailwind CSS classes with proper precedence\n */\nexport function mergeClasses(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}","export type Sector = {\n  code: string;\n  name: string;\n};\n\nexport const SECTORS: Sector[] = [\n  { code: 'GRL', name: 'General' },\n  { code: 'GFR', name: 'Granja Fresco' },\n  { code: 'GRE', name: 'Granja Refrigerado' },\n  { code: 'GTM', name: 'Granja Terminado' },\n  { code: 'GPA', name: 'Granja Panadería' },\n  { code: 'GSC', name: 'Granja Seco' },\n  { code: 'HEL', name: 'Heladería' },\n  { code: 'REF', name: 'Refrigerado' },\n  { code: 'CON', name: 'Congelado' },\n  { code: 'FRU', name: 'Frutas' }\n];\n\nexport const PACKAGING_TYPES = ['CAJA', 'BOLSA', 'PAQUETE', 'KILO'];\n\nexport const BUSINESS_INFO = {\n  name: 'Panadería Nueva Río D\\'or',\n  owner: 'TEJAS DE LA CRUZ YOSBANY'\n} as const;","import { Product } from '@/types';\nimport { SECTORS } from '@/config/constants';\n\n/**\n * Gets the sector code from an order number\n */\nexport function getSectorFromOrder(order: number): string {\n  const orderStr = order.toString().padStart(5, '0');\n  const sectorIndex = parseInt(orderStr.slice(0, 2)) - 1;\n  return sectorIndex >= 0 && sectorIndex < SECTORS.length ? SECTORS[sectorIndex].code : SECTORS[0].code;\n}\n\n/**\n * Gets the sequence number from an order number\n */\nexport function getSequenceFromOrder(order: number): number {\n  const orderStr = order.toString().padStart(5, '0');\n  return parseInt(orderStr.slice(2));\n}\n\n/**\n * Calculates a new order number from sector and sequence\n */\nexport function calculateNewOrder(sectorCode: string, sequence: number): number {\n  const sectorIndex = SECTORS.findIndex(s => s.code === sectorCode) + 1;\n  return parseInt(`${sectorIndex.toString().padStart(2, '0')}${sequence.toString().padStart(3, '0')}`);\n}\n\n/**\n * Formats an order number for display\n */\nexport function formatOrderNumber(order: number): string {\n  const sector = getSectorFromOrder(order);\n  const sequence = getSequenceFromOrder(order);\n  return `${sector}-${sequence.toString().padStart(3, '0')}`;\n}\n\n/**\n * Gets products for a specific sector, sorted by sequence\n */\nexport function getSectorProducts(products: Product[], sectorCode: string): Product[] {\n  return products\n    .filter(p => getSectorFromOrder(p.order) === sectorCode)\n    .sort((a, b) => getSequenceFromOrder(a.order) - getSequenceFromOrder(b.order));\n}\n\n/**\n * Gets the next available order number for a sector\n */\nexport function getNextAvailableOrder(products: Product[], sectorCode: string): number {\n  const sectorProducts = getSectorProducts(products, sectorCode);\n  const maxSequence = sectorProducts.length;\n  return calculateNewOrder(sectorCode, maxSequence + 1);\n}","import React, { useState } from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { LayoutDashboard, Users, Package, ShoppingCart, LogOut, Menu, X } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { cn } from '@/lib/utils';\n\nconst navigation = [\n  { name: 'Dashboard', to: '/', icon: LayoutDashboard },\n  { name: 'Proveedores', to: '/providers', icon: Users },\n  { name: 'Productos', to: '/products', icon: Package },\n  { name: 'Órdenes', to: '/orders', icon: ShoppingCart },\n];\n\nexport function TopNav() {\n  const { signOut } = useAuth();\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  return (\n    <header className=\"bg-white border-b border-gray-200\">\n      <div className=\"mx-auto px-4\">\n        <div className=\"flex h-16 items-center justify-between\">\n          <div className=\"flex items-center\">\n            <h1 className=\"text-xl font-bold text-gray-900 mr-4 whitespace-nowrap\">Gestión de Compras</h1>\n            \n            {/* Mobile menu button */}\n            <button\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\n              className=\"md:hidden ml-2 p-2 rounded-md hover:bg-gray-100\"\n            >\n              {isMenuOpen ? (\n                <X className=\"h-6 w-6\" />\n              ) : (\n                <Menu className=\"h-6 w-6\" />\n              )}\n            </button>\n          </div>\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden md:flex space-x-4\">\n            {navigation.map((item) => (\n              <NavLink\n                key={item.name}\n                to={item.to}\n                className={({ isActive }) =>\n                  cn(\n                    'inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors',\n                    isActive\n                      ? 'text-blue-600 bg-blue-50'\n                      : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n                  )\n                }\n              >\n                <item.icon className=\"mr-2 h-5 w-5\" />\n                {item.name}\n              </NavLink>\n            ))}\n            <button\n              onClick={() => signOut()}\n              className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors\"\n            >\n              <LogOut className=\"mr-2 h-5 w-5\" />\n              Cerrar Sesión\n            </button>\n          </nav>\n        </div>\n\n        {/* Mobile Navigation */}\n        {isMenuOpen && (\n          <nav className=\"md:hidden py-4 space-y-2\">\n            {navigation.map((item) => (\n              <NavLink\n                key={item.name}\n                to={item.to}\n                onClick={() => setIsMenuOpen(false)}\n                className={({ isActive }) =>\n                  cn(\n                    'flex items-center px-3 py-2 text-base font-medium rounded-md w-full transition-colors',\n                    isActive\n                      ? 'text-blue-600 bg-blue-50'\n                      : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n                  )\n                }\n              >\n                <item.icon className=\"mr-3 h-5 w-5\" />\n                {item.name}\n              </NavLink>\n            ))}\n            <button\n              onClick={() => signOut()}\n              className=\"flex items-center px-3 py-2 text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md w-full transition-colors\"\n            >\n              <LogOut className=\"mr-3 h-5 w-5\" />\n              Cerrar Sesión\n            </button>\n          </nav>\n        )}\n      </div>\n    </header>\n  );\n}","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { TopNav } from './TopNav';\n\nexport function Layout() {\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <TopNav />\n      <main className=\"flex-1 overflow-auto bg-gray-100 p-4\">\n        <Outlet />\n      </main>\n    </div>\n  );\n}","import React from 'react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  className,\n  variant = 'primary',\n  size = 'md',\n  isLoading,\n  children,\n  ...props\n}) => {\n  const baseStyles = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50';\n  \n  const variants = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700',\n    secondary: 'bg-gray-100 text-gray-900 hover:bg-gray-200',\n    outline: 'border border-gray-300 bg-transparent hover:bg-gray-100',\n    ghost: 'hover:bg-gray-100 hover:text-gray-900'\n  };\n\n  const sizes = {\n    sm: 'h-9 px-3 text-sm',\n    md: 'h-10 px-4',\n    lg: 'h-11 px-8'\n  };\n\n  return (\n    <button\n      className={mergeClasses(\n        baseStyles,\n        variants[variant],\n        sizes[size],\n        className\n      )}\n      disabled={isLoading}\n      {...props}\n    >\n      {isLoading ? (\n        <span className=\"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent\" />\n      ) : null}\n      {children}\n    </button>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n  isCurrency?: boolean;\n}\n\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, label, error, value, type, onChange, isCurrency, ...props }, ref) => {\n    const [displayValue, setDisplayValue] = useState('');\n\n    // Format number with thousand separators and comma decimal\n    const formatNumber = (num: number): string => {\n      const parts = num.toFixed(2).split('.');\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n      return parts.join(',');\n    };\n\n    // Initialize display value\n    useEffect(() => {\n      if (isCurrency && typeof value === 'number') {\n        setDisplayValue(formatNumber(value));\n      }\n    }, [value, isCurrency]);\n\n    // Handle number inputs to prevent NaN values\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (isCurrency) {\n        // Remove all non-numeric characters except comma and dot\n        let value = e.target.value.replace(/[^\\d.,]/g, '');\n        \n        // Replace comma with dot for calculations\n        value = value.replace(/,/g, '.');\n        \n        // Keep only the last dot\n        const dots = value.split('.').length - 1;\n        if (dots > 1) {\n          const parts = value.split('.');\n          value = parts[0] + '.' + parts.slice(1).join('');\n        }\n\n        // Limit to 2 decimal places\n        const parts = value.split('.');\n        if (parts[1]?.length > 2) {\n          parts[1] = parts[1].slice(0, 2);\n          value = parts.join('.');\n        }\n\n        const numericValue = parseFloat(value) || 0;\n        setDisplayValue(formatNumber(numericValue));\n        \n        // Pass the numeric value to onChange\n        onChange?.({ \n          ...e, \n          target: { ...e.target, value: numericValue.toString() } \n        });\n      } else if (type === 'number') {\n        const value = e.target.value;\n        if (value === '' || !isNaN(Number(value))) {\n          onChange?.(e);\n        }\n      } else {\n        onChange?.(e);\n      }\n    };\n\n    // Handle focus to show unformatted value\n    const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n      if (isCurrency && typeof value === 'number') {\n        setDisplayValue(value.toFixed(2).replace('.', ','));\n      }\n      props.onFocus?.(e);\n    };\n\n    // Handle blur to reformat value\n    const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n      if (isCurrency && typeof value === 'number') {\n        setDisplayValue(formatNumber(value));\n      }\n      props.onBlur?.(e);\n    };\n\n    const inputValue = isCurrency \n      ? displayValue\n      : type === 'number' && value === 0 && !props.min ? '' : value;\n\n    return (\n      <div className=\"space-y-2\">\n        {label && (\n          <label className=\"block text-sm font-medium text-gray-700\">\n            {label}\n          </label>\n        )}\n        <div className=\"relative\">\n          {isCurrency && (\n            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">\n              $\n            </span>\n          )}\n          <input\n            className={mergeClasses(\n              'block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500',\n              'focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500',\n              'disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500',\n              error && 'border-red-500 focus:border-red-500 focus:ring-red-500',\n              isCurrency && 'pl-7 text-right',\n              className\n            )}\n            ref={ref}\n            value={inputValue}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n            type={isCurrency ? 'text' : type}\n            inputMode={isCurrency ? 'decimal' : undefined}\n            {...props}\n          />\n        </div>\n        {error && (\n          <p className=\"text-sm text-red-600\">{error}</p>\n        )}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';","import React, { useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { Lock, Mail } from 'lucide-react';\n\nexport function Login() {\n  const { user, signIn } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  if (user) {\n    return <Navigate to=\"/\" replace />;\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      await signIn(email, password);\n    } catch (error) {\n      console.error('Login error:', error);\n      setError('Credenciales inválidas');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-lg\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Órdenes de Compra\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Inicia sesión para continuar\n          </p>\n        </div>\n        \n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"sr-only\">\n                Correo electrónico\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Mail className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  className=\"pl-10\"\n                  placeholder=\"Correo electrónico\"\n                  autoComplete=\"email\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Contraseña\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Lock className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  className=\"pl-10\"\n                  placeholder=\"Contraseña\"\n                  autoComplete=\"current-password\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"text-red-600 text-sm text-center\">\n              {error}\n            </div>\n          )}\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            isLoading={loading}\n          >\n            Iniciar sesión\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n}","import { getDatabase } from 'firebase/database';\nimport { app } from './config';\n\n// Initialize Firebase Realtime Database\nexport const db = getDatabase(app);\n\n// Export database instance as default\nexport default db;","import { useState, useEffect } from 'react';\nimport { ref, push, update, remove, onValue, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Provider } from '@/types';\n\nexport function useProviders() {\n  const [providers, setProviders] = useState<Provider[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const providersRef = ref(db, 'providers');\n    const unsubscribe = onValue(providersRef, (snapshot) => {\n      const data = snapshot.val();\n      const providersList = data ? Object.entries(data).map(([id, provider]) => ({\n        id,\n        ...(provider as Omit<Provider, 'id'>)\n      })) : [];\n      setProviders(providersList);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const addProvider = async (provider: Omit<Provider, 'id'>) => {\n    const providersRef = ref(db, 'providers');\n    await push(providersRef, provider);\n  };\n\n  const updateProvider = async (id: string, provider: Partial<Provider>) => {\n    const providerRef = ref(db, `providers/${id}`);\n    await update(providerRef, provider);\n  };\n\n  const deleteProvider = async (id: string) => {\n    const providerRef = ref(db, `providers/${id}`);\n    await remove(providerRef);\n  };\n\n  const getProvider = async (id: string) => {\n    const providerRef = ref(db, `providers/${id}`);\n    const snapshot = await get(providerRef);\n    if (snapshot.exists()) {\n      return { id, ...snapshot.val() } as Provider;\n    }\n    return null;\n  };\n\n  return {\n    providers,\n    loading,\n    addProvider,\n    updateProvider,\n    deleteProvider,\n    getProvider\n  };\n}","import React from 'react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  isSelected?: boolean;\n  onClick?: () => void;\n}\n\nexport function Card({ children, className, isSelected, onClick }: CardProps) {\n  return (\n    <div\n      className={mergeClasses(\n        'rounded-lg transition-all duration-200 h-full',\n        isSelected \n          ? 'border-2 border-blue-500 shadow-sm ring-2 ring-blue-100 bg-blue-50'\n          : 'border border-gray-200 shadow-sm hover:border-gray-300 hover:shadow bg-gradient-to-br from-slate-50 to-gray-50',\n        onClick && 'cursor-pointer',\n        className\n      )}\n      onClick={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nCard.Header = function CardHeader({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <div className={mergeClasses('p-3 sm:p-4 space-y-2', className)}>\n      {children}\n    </div>\n  );\n};\n\nCard.Content = function CardContent({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <div className={mergeClasses('px-3 sm:px-4 pb-3 sm:pb-4', className)}>\n      {children}\n    </div>\n  );\n};\n\nCard.Footer = function CardFooter({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <div className={mergeClasses('px-3 sm:px-4 py-2 sm:py-3 border-t bg-white/50 rounded-b-lg', className)}>\n      {children}\n    </div>\n  );\n};\n\nCard.Title = function CardTitle({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <h3 className={mergeClasses('text-base sm:text-lg font-semibold text-gray-900 line-clamp-2', className)}>\n      {children}\n    </h3>\n  );\n};\n\nCard.Grid = function CardGrid({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <div className={mergeClasses('grid grid-cols-2 gap-2 text-sm text-gray-600', className)}>\n      {children}\n    </div>\n  );\n};","import { startOfDay as dateFnsStartOfDay, endOfDay as dateFnsEndOfDay, subDays } from 'date-fns';\nimport { WeekDay } from '@/types';\n\nexport function toTimestamp(date: Date | string): number {\n  return new Date(date).getTime();\n}\n\nexport function fromTimestamp(timestamp: number): Date {\n  return new Date(timestamp);\n}\n\nexport function startOfDay(date: Date | string | number): Date {\n  return dateFnsStartOfDay(new Date(date));\n}\n\nexport function endOfDay(date: Date | string | number): Date {\n  return dateFnsEndOfDay(new Date(date));\n}\n\nexport function startOfDayTimestamp(date: Date | string | number): number {\n  return startOfDay(date).getTime();\n}\n\nexport function endOfDayTimestamp(date: Date | string | number): number {\n  return endOfDay(date).getTime();\n}\n\nexport function getCurrentTimestamp(): number {\n  return Date.now();\n}\n\nexport function isToday(timestamp: number): boolean {\n  const today = new Date();\n  const date = new Date(timestamp);\n  return startOfDay(today).getTime() === startOfDay(date).getTime();\n}\n\nexport function isSameDay(timestamp1: number, timestamp2: number): boolean {\n  return startOfDay(timestamp1).getTime() === startOfDay(timestamp2).getTime();\n}\n\nconst WEEKDAYS: WeekDay[] = [\n  'sunday',\n  'monday',\n  'tuesday',\n  'wednesday',\n  'thursday',\n  'friday',\n  'saturday'\n];\n\nexport function getPreviousDay(date: Date, orderDays: WeekDay[]): Date {\n  if (!orderDays.length) return date;\n\n  let currentDate = subDays(date, 1);\n  let attempts = 7; // Prevent infinite loop\n\n  while (attempts > 0) {\n    const dayName = WEEKDAYS[currentDate.getDay()];\n    if (orderDays.includes(dayName)) {\n      return currentDate;\n    }\n    currentDate = subDays(currentDate, 1);\n    attempts--;\n  }\n\n  return date; // Fallback to current date if no previous order day found\n}\n\nexport function getDayName(date: Date): WeekDay {\n  return WEEKDAYS[date.getDay()];\n}","import { useState, useEffect } from 'react';\nimport { ref, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Order } from '@/types';\nimport { startOfDayTimestamp, endOfDayTimestamp, getCurrentTimestamp } from '@/lib/dateUtils';\n\nexport function useTodayOrdersCount() {\n  const [count, setCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchTodayOrders = async () => {\n      try {\n        const ordersRef = ref(db, 'orders');\n        const snapshot = await get(ordersRef);\n\n        if (!snapshot.exists()) {\n          setCount(0);\n          return;\n        }\n\n        const todayStart = startOfDayTimestamp(getCurrentTimestamp());\n        const todayEnd = endOfDayTimestamp(getCurrentTimestamp());\n\n        const orders = Object.values(snapshot.val()) as Order[];\n        const todayOrders = orders.filter(order => \n          order.date >= todayStart && order.date <= todayEnd\n        );\n\n        setCount(todayOrders.length);\n      } catch (error) {\n        console.error('Error fetching today orders count:', error);\n        setCount(0);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTodayOrders();\n  }, []);\n\n  return { count, loading };\n}","import { ref, get, set, push, remove, query, orderByChild, equalTo } from 'firebase/database';\nimport { db } from './index';\n\nexport async function createDocument<T>(path: string, data: T): Promise<string> {\n  const collectionRef = ref(db, path);\n  const newRef = push(collectionRef);\n  await set(newRef, data);\n  return newRef.key!;\n}\n\nexport async function updateDocument<T>(path: string, id: string, data: Partial<T>): Promise<void> {\n  const docRef = ref(db, `${path}/${id}`);\n  await set(docRef, data);\n}\n\nexport async function deleteDocument(path: string, id: string): Promise<void> {\n  const docRef = ref(db, `${path}/${id}`);\n  await remove(docRef);\n}\n\nexport async function getDocument<T>(path: string, id: string): Promise<T | null> {\n  const docRef = ref(db, `${path}/${id}`);\n  const snapshot = await get(docRef);\n  return snapshot.exists() ? { id: snapshot.key, ...snapshot.val() } as T : null;\n}\n\nexport async function getCollection<T>(path: string): Promise<T[]> {\n  const collectionRef = ref(db, path);\n  const snapshot = await get(collectionRef);\n  if (!snapshot.exists()) return [];\n  \n  return Object.entries(snapshot.val()).map(([id, data]) => ({\n    id,\n    ...(data as any)\n  })) as T[];\n}\n\nexport async function queryByField<T>(\n  path: string,\n  field: string,\n  value: string | number | boolean\n): Promise<T[]> {\n  const collectionRef = ref(db, path);\n  const queryRef = query(collectionRef, orderByChild(field), equalTo(value));\n  const snapshot = await get(queryRef);\n  \n  if (!snapshot.exists()) return [];\n  \n  return Object.entries(snapshot.val()).map(([id, data]) => ({\n    id,\n    ...(data as any)\n  })) as T[];\n}","import { ref, get, set } from 'firebase/database';\nimport { db } from './index';\n\nconst COLLECTIONS = ['orders', 'products', 'providers', 'packaging'] as const;\ntype Collection = typeof COLLECTIONS[number];\n\ninterface CollectionStatus {\n  name: Collection;\n  exists: boolean;\n  error?: string;\n}\n\nasync function checkCollection(collection: Collection): Promise<CollectionStatus> {\n  try {\n    const collectionRef = ref(db, collection);\n    const snapshot = await get(collectionRef);\n    \n    return {\n      name: collection,\n      exists: snapshot.exists()\n    };\n  } catch (error) {\n    return {\n      name: collection,\n      exists: false,\n      error: error instanceof Error ? error.message : 'Unknown error'\n    };\n  }\n}\n\nasync function createCollection(collection: Collection): Promise<void> {\n  const collectionRef = ref(db, collection);\n  await set(collectionRef, {});\n}\n\nexport async function initializeCollections(): Promise<void> {\n  try {\n    console.log('Starting collections initialization...');\n    \n    // Check all collections first\n    const statuses = await Promise.all(\n      COLLECTIONS.map(collection => checkCollection(collection))\n    );\n\n    // Create missing collections\n    const createPromises = statuses\n      .filter(status => !status.exists)\n      .map(async ({ name }) => {\n        try {\n          await createCollection(name);\n          console.log(`Collection \"${name}\" created successfully`);\n        } catch (error) {\n          console.error(`Failed to create collection \"${name}\":`, error);\n        }\n      });\n\n    await Promise.all(createPromises);\n    console.log('Collections initialization completed');\n  } catch (error) {\n    console.error('Failed to initialize collections:', error);\n    throw error;\n  }\n}\n\n// Initialize collections when the module is imported\ninitializeCollections().catch(error => {\n  console.error('Critical error during collections initialization:', error);\n});","import { Order, Product, Provider } from '@/types';\nimport { getCollection } from './database';\n\nconst ORDERS_COLLECTION = 'orders';\nconst PRODUCTS_COLLECTION = 'products';\nconst PROVIDERS_COLLECTION = 'providers';\n\nexport interface WeeklyOrdersCount {\n  date: string;\n  count: number;\n}\n\nexport interface TopProduct {\n  id: string;\n  name: string;\n  totalQuantity: number;\n  orderCount: number;\n}\n\nexport interface ProductFrequency {\n  id: string;\n  name: string;\n  frequency: number;\n}\n\nexport async function getWeeklyOrdersCount(): Promise<WeeklyOrdersCount[]> {\n  try {\n    const orders = await getCollection<Order>(ORDERS_COLLECTION);\n    if (!orders || orders.length === 0) {\n      console.warn('No se encontraron órdenes en la última semana');\n      return [];\n    }\n\n    const today = new Date();\n    const lastWeek = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\n\n    const weeklyOrders = orders.filter(order => {\n      const orderDate = new Date(order.date);\n      return orderDate >= lastWeek && orderDate <= today;\n    });\n\n    const countByDate = weeklyOrders.reduce((acc, order) => {\n      const date = new Date(order.date).toISOString().split('T')[0];\n      acc[date] = (acc[date] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n\n    return Object.entries(countByDate)\n      .map(([date, count]) => ({ date, count }))\n      .sort((a, b) => b.date.localeCompare(a.date));\n  } catch (error: unknown) {\n    console.error(\n      'Error al obtener el conteo semanal de órdenes:',\n      error instanceof Error ? error.message : error\n    );\n    return [];\n  }\n}\n\nexport async function getTopProducts(): Promise<TopProduct[]> {\n  try {\n    const [orders, products] = await Promise.all([\n      getCollection<Order>(ORDERS_COLLECTION),\n      getCollection<Product>(PRODUCTS_COLLECTION)\n    ]);\n\n    if (!orders || orders.length === 0) {\n      console.warn('No se encontraron órdenes');\n      return [];\n    }\n\n    if (!products || products.length === 0) {\n      console.warn('No se encontraron productos');\n      return [];\n    }\n\n    const productStats = new Map<string, { quantity: number; orders: Set<string> }>();\n\n    orders.forEach(order => {\n      order.items.forEach(item => {\n        const stats = productStats.get(item.productId) || { quantity: 0, orders: new Set() };\n        stats.quantity += item.quantity;\n        stats.orders.add(order.id!);\n        productStats.set(item.productId, stats);\n      });\n    });\n\n    const topProducts = Array.from(productStats.entries())\n      .map(([productId, stats]) => {\n        const product = products.find(p => p.id === productId);\n        if (!product) {\n          console.warn(`Producto no encontrado para el ID: ${productId}`);\n          return null;\n        }\n\n        return {\n          id: productId,\n          name: product.name,\n          totalQuantity: stats.quantity,\n          orderCount: stats.orders.size\n        };\n      })\n      .filter((p): p is TopProduct => p !== null)\n      .sort((a, b) => b.totalQuantity - a.totalQuantity)\n      .slice(0, 10);\n\n    return topProducts;\n  } catch (error: unknown) {\n    console.error(\n      'Error al obtener los productos más vendidos:',\n      error instanceof Error ? error.message : error\n    );\n    return [];\n  }\n}\n\nexport async function getProductFrequency(): Promise<ProductFrequency[]> {\n  try {\n    const [orders, products] = await Promise.all([\n      getCollection<Order>(ORDERS_COLLECTION),\n      getCollection<Product>(PRODUCTS_COLLECTION)\n    ]);\n\n    if (!orders || orders.length === 0) {\n      console.warn('No se encontraron órdenes');\n      return [];\n    }\n\n    if (!products || products.length === 0) {\n      console.warn('No se encontraron productos');\n      return [];\n    }\n\n    const frequencyMap = new Map<string, number>();\n\n    orders.forEach(order => {\n      const productIds = new Set(order.items.map(item => item.productId));\n      productIds.forEach(id => {\n        frequencyMap.set(id, (frequencyMap.get(id) || 0) + 1);\n      });\n    });\n\n    const frequencies = Array.from(frequencyMap.entries())\n      .map(([productId, frequency]) => {\n        const product = products.find(p => p.id === productId);\n        if (!product) {\n          console.warn(`Producto no encontrado para el ID: ${productId}`);\n          return null;\n        }\n\n        return {\n          id: productId,\n          name: product.name,\n          frequency\n        };\n      })\n      .filter((p): p is ProductFrequency => p !== null)\n      .sort((a, b) => b.frequency - a.frequency)\n      .slice(0, 10);\n\n    return frequencies;\n  } catch (error: unknown) {\n    console.error(\n      'Error al obtener la frecuencia de productos:',\n      error instanceof Error ? error.message : error\n    );\n    return [];\n  }\n}\n\nexport async function getTotalProducts(): Promise<number> {\n  try {\n    const products = await getCollection<Product>(PRODUCTS_COLLECTION);\n    return products?.length || 0;\n  } catch (error) {\n    console.error('Error getting total products:', error);\n    return 0;\n  }\n}\n\nexport async function getTotalProviders(): Promise<number> {\n  try {\n    const providers = await getCollection<Provider>(PROVIDERS_COLLECTION);\n    return providers?.length || 0;\n  } catch (error) {\n    console.error('Error getting total providers:', error);\n    return 0;\n  }\n}","import { useState, useEffect } from 'react';\nimport { \n  getWeeklyOrdersCount, \n  getTopProducts, \n  getProductFrequency,\n  getTotalProducts,\n  getTotalProviders,\n  WeeklyOrdersCount,\n  TopProduct,\n  ProductFrequency\n} from '@/lib/services/analytics';\n\nexport function useAnalytics() {\n  const [weeklyOrders, setWeeklyOrders] = useState<WeeklyOrdersCount[]>([]);\n  const [topProducts, setTopProducts] = useState<TopProduct[]>([]);\n  const [productFrequency, setProductFrequency] = useState<ProductFrequency[]>([]);\n  const [totalProducts, setTotalProducts] = useState<number>(0);\n  const [totalProviders, setTotalProviders] = useState<number>(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [weekly, top, frequency, products, providers] = await Promise.all([\n          getWeeklyOrdersCount(),\n          getTopProducts(),\n          getProductFrequency(),\n          getTotalProducts(),\n          getTotalProviders()\n        ]);\n\n        if (!mounted) return;\n\n        setWeeklyOrders(weekly);\n        setTopProducts(top);\n        setProductFrequency(frequency);\n        setTotalProducts(products);\n        setTotalProviders(providers);\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching analytics:', err);\n        if (!mounted) return;\n        setError('Error al cargar los datos analíticos');\n      } finally {\n        if (mounted) {\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchData();\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  return {\n    weeklyOrders,\n    topProducts,\n    productFrequency,\n    totalProducts,\n    totalProviders,\n    loading,\n    error\n  };\n}","import React from 'react';\nimport { Card } from '@/components/ui/Card';\n\ninterface AnalyticsCardProps {\n  title: string;\n  icon: React.ReactNode;\n  children: React.ReactNode;\n  loading?: boolean;\n  className?: string;\n  onClick?: () => void;\n}\n\nexport function AnalyticsCard({ \n  title, \n  icon, \n  children, \n  loading,\n  className,\n  onClick \n}: AnalyticsCardProps) {\n  return (\n    <Card \n      className={className}\n      onClick={onClick}\n    >\n      <Card.Header className=\"!p-4\">\n        <div className=\"flex items-start justify-between gap-4\">\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-sm font-medium text-gray-600 mb-1\">{title}</h3>\n            {loading ? (\n              <div className=\"h-6 w-24 bg-gray-200 rounded animate-pulse\" />\n            ) : (\n              <div className=\"break-words\">\n                {children}\n              </div>\n            )}\n          </div>\n          <div className=\"flex-shrink-0 p-2 bg-blue-100 rounded-lg\">\n            {icon}\n          </div>\n        </div>\n      </Card.Header>\n    </Card>\n  );\n}","import React from 'react';\nimport { X } from 'lucide-react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface DialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport function Dialog({ isOpen, onClose, title, children, className }: DialogProps) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n      <div className=\"flex min-h-full items-center justify-center p-4 text-center\">\n        <div className=\"fixed inset-0 bg-black bg-opacity-25\" onClick={onClose} />\n        \n        <div\n          className={mergeClasses(\n            \"relative transform overflow-hidden rounded-lg bg-white p-6 text-left shadow-xl transition-all w-full max-w-md\",\n            className\n          )}\n        >\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold\">{title}</h3>\n            <button\n              onClick={onClose}\n              className=\"rounded-full p-1 hover:bg-gray-100\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n          \n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { TopProduct } from '@/lib/services/analytics';\nimport { formatPrice } from '@/lib/utils';\nimport { Package, ShoppingCart } from 'lucide-react';\n\ninterface TopProductsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  products: TopProduct[];\n}\n\nexport function TopProductsModal({ isOpen, onClose, products }: TopProductsModalProps) {\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Top 10 Productos Más Comprados\"\n    >\n      <div className=\"space-y-4\">\n        {products.map((product, index) => (\n          <div\n            key={product.id}\n            className=\"flex items-start gap-4 p-4 bg-white rounded-lg border transition-colors hover:bg-gray-50\"\n          >\n            <div className=\"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-blue-100 text-blue-600 font-bold\">\n              {index + 1}\n            </div>\n            \n            <div className=\"flex-1 min-w-0\">\n              <h3 className=\"font-medium text-gray-900 truncate\">\n                {product.name}\n              </h3>\n              \n              <div className=\"mt-1 grid grid-cols-2 gap-2 text-sm text-gray-600\">\n                <div className=\"flex items-center gap-1\">\n                  <Package className=\"w-4 h-4\" />\n                  <span>{product.totalQuantity} unidades</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <ShoppingCart className=\"w-4 h-4\" />\n                  <span>{product.orderCount} órdenes</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </Dialog>\n  );\n}","import { Order } from '@/types';\nimport { \n  createDocument, \n  updateDocument, \n  deleteDocument, \n  queryByField,\n  getCollection,\n  subscribeToCollection \n} from './database';\nimport { ref, query, orderByChild, equalTo, onValue, get } from 'firebase/database';\nimport { db } from './database';\n\nconst ORDERS_COLLECTION = 'orders';\n\nexport const orderService = {\n  subscribeToProviderOrders(providerId: string, callback: (orders: Order[]) => void): () => void {\n    const ordersRef = ref(db, ORDERS_COLLECTION);\n    const providerOrdersQuery = query(\n      ordersRef,\n      orderByChild('providerId'),\n      equalTo(providerId)\n    );\n\n    const unsubscribe = onValue(providerOrdersQuery, (snapshot) => {\n      if (!snapshot.exists()) {\n        callback([]);\n        return;\n      }\n\n      const orders = Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Order, 'id'>)\n      }));\n\n      // Sort orders by date in descending order\n      const sortedOrders = orders.sort((a, b) => \n        new Date(b.date).getTime() - new Date(a.date).getTime()\n      );\n\n      callback(sortedOrders);\n    });\n\n    return unsubscribe;\n  },\n\n  async getByProvider(providerId: string): Promise<Order[]> {\n    try {\n      const orders = await queryByField<Order>(ORDERS_COLLECTION, 'providerId', providerId);\n      return orders.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n    } catch (error) {\n      console.error('Error fetching provider orders:', error);\n      return [];\n    }\n  },\n\n  async create(data: Omit<Order, 'id'>): Promise<string> {\n    try {\n      return await createDocument(ORDERS_COLLECTION, data);\n    } catch (error) {\n      console.error('Error creating order:', error);\n      throw error;\n    }\n  },\n\n  async update(id: string, updates: Partial<Order>): Promise<void> {\n    try {\n      // First get the current order\n      const orderRef = ref(db, `${ORDERS_COLLECTION}/${id}`);\n      const snapshot = await get(orderRef);\n      \n      if (!snapshot.exists()) {\n        throw new Error('Order not found');\n      }\n\n      // Merge current order with updates\n      const currentOrder = snapshot.val();\n      const updatedOrder = {\n        ...currentOrder,\n        ...updates\n      };\n\n      // Update the order with merged data\n      await updateDocument(ORDERS_COLLECTION, id, updatedOrder);\n    } catch (error) {\n      console.error('Error updating order:', error);\n      throw error;\n    }\n  },\n\n  async delete(id: string): Promise<void> {\n    try {\n      await deleteDocument(ORDERS_COLLECTION, id);\n    } catch (error) {\n      console.error('Error deleting order:', error);\n      throw error;\n    }\n  }\n};\n\nexport async function getProviderOrders(providerId: string): Promise<Order[]> {\n  try {\n    const orders = await queryByField<Order>(ORDERS_COLLECTION, 'providerId', providerId);\n    return orders.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n  } catch (error) {\n    console.error('Error fetching provider orders:', error);\n    return [];\n  }\n}\n\nexport async function getTodayOrdersCount(providerId: string): Promise<number> {\n  try {\n    const orders = await queryByField<Order>(ORDERS_COLLECTION, 'providerId', providerId);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    \n    return orders.filter(order => {\n      const orderDate = new Date(order.date);\n      orderDate.setHours(0, 0, 0, 0);\n      return orderDate.getTime() === today.getTime();\n    }).length;\n  } catch (error) {\n    console.error('Error fetching today orders count:', error);\n    return 0;\n  }\n}","import { useState, useEffect } from 'react';\nimport { Order } from '@/types';\nimport { getProviderOrders } from '@/lib/services/orders';\n\nexport function useProviderOrders(providerId: string) {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchOrders = async () => {\n      try {\n        const data = await getProviderOrders(providerId);\n        if (mounted) {\n          setOrders(data);\n        }\n      } catch (error) {\n        console.error('Error fetching provider orders:', error);\n      } finally {\n        if (mounted) {\n          setLoading(false);\n        }\n      }\n    };\n\n    if (providerId) {\n      fetchOrders();\n    } else {\n      setOrders([]);\n      setLoading(false);\n    }\n\n    return () => {\n      mounted = false;\n    };\n  }, [providerId]);\n\n  return { orders, loading };\n}","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Provider } from '@/types';\nimport { useProviderOrders } from '@/hooks/useProviderOrders';\nimport { startOfDay, endOfDay } from '@/lib/dateUtils';\n\ninterface ProviderOrderStatusProps {\n  provider: Provider;\n}\n\nexport function ProviderOrderStatus({ provider }: ProviderOrderStatusProps) {\n  const navigate = useNavigate();\n  const { orders } = useProviderOrders(provider.id!);\n  const today = new Date();\n  const todayStart = startOfDay(today);\n  const todayEnd = endOfDay(today);\n\n  // Get today's orders count\n  const todayOrdersCount = orders.filter(order => {\n    const orderDate = new Date(order.date);\n    return orderDate >= todayStart && orderDate <= todayEnd;\n  }).length;\n\n  const handleClick = () => {\n    if (todayOrdersCount > 0) {\n      // Navigate to edit existing order\n      navigate(`/orders?provider=${provider.id}`);\n    } else {\n      // Navigate to create new order\n      navigate(`/orders?provider=${provider.id}&new=true`);\n    }\n  };\n\n  return (\n    <li className=\"py-3\">\n      <div className=\"flex items-center justify-between gap-2\">\n        <button\n          onClick={handleClick}\n          className=\"font-medium text-gray-900 hover:text-blue-600 text-left transition-colors\"\n        >\n          {provider.legalName && provider.legalName !== provider.commercialName ? (\n            `${provider.legalName} (${provider.commercialName})`\n          ) : (\n            provider.commercialName\n          )}\n        </button>\n        <div className=\"flex items-center gap-3\">\n          {todayOrdersCount > 0 ? (\n            <span className=\"text-sm font-medium text-blue-600 whitespace-nowrap\">\n              {todayOrdersCount} {todayOrdersCount === 1 ? 'pedido' : 'pedidos'}\n            </span>\n          ) : (\n            <span className=\"text-sm font-medium text-amber-600 whitespace-nowrap\">\n              Pendiente\n            </span>\n          )}\n        </div>\n      </div>\n    </li>\n  );\n}","import React from 'react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Provider } from '@/types';\nimport { useProviderOrders } from '@/hooks/useProviderOrders';\nimport { startOfDay, endOfDay, getPreviousDay, getDayName } from '@/lib/dateUtils';\nimport { formatPrice } from '@/lib/utils';\n\ninterface ProviderDeliveryStatusProps {\n  provider: Provider;\n}\n\nexport function ProviderDeliveryStatus({ provider }: ProviderDeliveryStatusProps) {\n  const { orders } = useProviderOrders(provider.id!);\n  const today = new Date();\n  const todayName = getDayName(today);\n  \n  // Check if today is also an order day\n  const isTodayOrderDay = provider.orderDays?.includes(todayName);\n  \n  // Get previous order day if today is not an order day\n  const previousDay = isTodayOrderDay ? today : getPreviousDay(today, provider.orderDays || []);\n  \n  // Get orders from the previous order day\n  const previousDayOrders = orders.filter(order => {\n    const orderDate = new Date(order.date);\n    return orderDate >= startOfDay(previousDay) && orderDate <= endOfDay(previousDay);\n  });\n\n  // Calculate total amount for previous day's orders\n  const totalAmount = previousDayOrders.reduce((sum, order) => sum + order.total, 0);\n\n  return (\n    <li className=\"py-3\">\n      <div className=\"flex items-center justify-between gap-2\">\n        <span className=\"font-medium text-gray-900\">\n          {provider.legalName && provider.legalName !== provider.commercialName ? (\n            `${provider.legalName} (${provider.commercialName})`\n          ) : (\n            provider.commercialName\n          )}\n        </span>\n        <div className=\"flex items-center gap-3\">\n          {previousDayOrders.length > 0 ? (\n            <div className=\"text-right\">\n              <div className=\"text-sm font-medium text-blue-600\">\n                {formatPrice(totalAmount)}\n              </div>\n              <div className=\"text-xs text-gray-500\">\n                {isTodayOrderDay ? (\n                  'Pedido de hoy'\n                ) : (\n                  format(previousDay, \"d 'de' MMM\", { locale: es })\n                )}\n              </div>\n            </div>\n          ) : (\n            <span className=\"text-sm font-medium text-gray-500\">\n              Sin pedidos previos\n            </span>\n          )}\n        </div>\n      </div>\n    </li>\n  );\n}","import { useState, useEffect } from 'react';\nimport { ref, onValue } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Product } from '@/types';\n\nexport function useGlobalProducts() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const productsRef = ref(db, 'products');\n    \n    const unsubscribe = onValue(productsRef, (snapshot) => {\n      if (!snapshot.exists()) {\n        setProducts([]);\n        setLoading(false);\n        return;\n      }\n\n      const productsData = Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Product, 'id'>)\n      }));\n\n      setProducts(productsData);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return { products, loading };\n}\n","import { ref, update } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Product } from '@/types';\n\nexport async function updateProduct(id: string, updates: Partial<Product>): Promise<void> {\n  try {\n    const productRef = ref(db, `products/${id}`);\n    await update(productRef, updates);\n  } catch (error) {\n    console.error('Error updating product:', error);\n    throw error;\n  }\n}","export function parseCSVLine(line: string): string[] {\n  const values: string[] = [];\n  let currentValue = '';\n  let insideQuotes = false;\n  \n  for (let i = 0; i < line.length; i++) {\n    const char = line[i];\n    \n    if (char === '\"') {\n      if (insideQuotes && line[i + 1] === '\"') {\n        // Handle escaped quotes (\"\") inside quoted values\n        currentValue += '\"';\n        i++; // Skip next quote\n      } else {\n        // Toggle quote state\n        insideQuotes = !insideQuotes;\n      }\n    } else if (char === ',' && !insideQuotes) {\n      // End of field\n      values.push(currentValue.trim());\n      currentValue = '';\n    } else {\n      currentValue += char;\n    }\n  }\n  \n  // Add the last value\n  values.push(currentValue.trim());\n  \n  return values;\n}\n\nexport function parseCSVContent(content: string): string[][] {\n  const lines = content.trim().split(/\\r?\\n/);\n  return lines.map(line => parseCSVLine(line));\n}","import { Product, Provider } from '@/types';\nimport { updateProduct } from '@/lib/services/products';\nimport { parseCSVContent } from './csvParser';\n\ninterface CsvRow {\n  fecha: string;\n  rut: string;\n  codigo: string;\n  nombre: string;\n  precio: string;\n}\n\ninterface ImportResult {\n  updated: number;\n  errors: string[];\n  details: {\n    updatedProducts: Array<{\n      name: string;\n      oldPrice: number;\n      newPrice: number;\n      csvName: string;\n    }>;\n    notFoundProducts: Array<{\n      code: string;\n      providerRut: string;\n      csvName: string;\n    }>;\n    invalidRows: Array<{\n      row: number;\n      reason: string;\n    }>;\n  };\n}\n\nfunction normalizeHeaders(headers: string[]): string[] {\n  return headers.map(header => \n    header\n      .toLowerCase()\n      .trim()\n      .normalize(\"NFD\")\n      .replace(/[\\u0300-\\u036f]/g, \"\") // Remove accents\n  );\n}\n\nfunction parseCsvRows(content: string): CsvRow[] {\n  const rows = parseCSVContent(content);\n  if (rows.length < 2) {\n    throw new Error('El archivo está vacío o no tiene el formato correcto');\n  }\n\n  // Get headers and validate\n  const headers = normalizeHeaders(rows[0]);\n  const requiredHeaders = ['fecha', 'rut', 'codigo', 'nombre', 'precio'];\n  \n  const missingHeaders = requiredHeaders.filter(h => !headers.includes(h));\n  if (missingHeaders.length > 0) {\n    throw new Error(`Faltan las siguientes columnas: ${missingHeaders.join(', ')}`);\n  }\n\n  // Get header indexes\n  const headerIndexes = requiredHeaders.map(h => headers.indexOf(h));\n\n  // Parse data rows\n  return rows.slice(1).map(values => {\n    if (values.length < headerIndexes.length) {\n      throw new Error('Número incorrecto de columnas');\n    }\n\n    return {\n      fecha: values[headerIndexes[0]],\n      rut: values[headerIndexes[1]],\n      codigo: values[headerIndexes[2]],\n      nombre: values[headerIndexes[3]],\n      precio: values[headerIndexes[4]]\n    };\n  });\n}\n\nfunction validateRow(row: CsvRow): string | null {\n  // Clean and validate RUT\n  const cleanRut = row.rut.replace(/\\D/g, '');\n  if (!cleanRut) return 'RUT vacío';\n  if (!/^\\d{12}$/.test(cleanRut)) return 'RUT inválido';\n\n  // Clean and validate code\n  const cleanCode = row.codigo.trim();\n  if (!cleanCode) return 'Código vacío';\n\n  // Clean and validate price\n  const cleanPrice = row.precio\n    .replace(/[^\\d.,]/g, '') // Remove all non-digit, non-decimal characters\n    .replace(/\\./g, '') // Remove thousands separator\n    .replace(',', '.'); // Replace decimal comma with dot\n\n  const price = parseFloat(cleanPrice);\n  if (isNaN(price) || price < 0) return 'Precio inválido';\n  \n  return null;\n}\n\nfunction parsePrice(priceStr: string): number {\n  // Remove currency symbols and spaces\n  let clean = priceStr.replace(/[^\\d.,]/g, '');\n  \n  // Handle different number formats:\n  // 1.234,56 -> 1234.56\n  // 1,234.56 -> 1234.56\n  // 1234,56 -> 1234.56\n  if (clean.includes(',')) {\n    // If there's a dot before the comma, it's thousands (1.234,56)\n    if (clean.indexOf('.') < clean.indexOf(',')) {\n      clean = clean.replace(/\\./g, '').replace(',', '.');\n    } else {\n      // Otherwise, just replace comma with dot\n      clean = clean.replace(',', '.');\n    }\n  }\n\n  const price = parseFloat(clean);\n  if (isNaN(price)) {\n    throw new Error(`Precio inválido: ${priceStr}`);\n  }\n  \n  return Number(price.toFixed(2)); // Ensure 2 decimal places\n}\n\nexport async function processCsvImport(\n  content: string,\n  products: Product[],\n  providers: Provider[]\n): Promise<ImportResult> {\n  const result: ImportResult = {\n    updated: 0,\n    errors: [],\n    details: {\n      updatedProducts: [],\n      notFoundProducts: [],\n      invalidRows: []\n    }\n  };\n  \n  try {\n    // Validate content is not empty\n    if (!content.trim()) {\n      throw new Error('El archivo está vacío');\n    }\n\n    const rows = parseCsvRows(content);\n    if (rows.length === 0) {\n      throw new Error('No se encontraron datos para procesar');\n    }\n\n    // Process each row\n    for (const [index, row] of rows.entries()) {\n      try {\n        // Validate row\n        const error = validateRow(row);\n        if (error) {\n          result.details.invalidRows.push({\n            row: index + 2,\n            reason: error\n          });\n          continue;\n        }\n\n        // Clean RUT\n        const cleanRut = row.rut.replace(/\\D/g, '');\n\n        // Find provider by RUT\n        const provider = providers.find(p => p.rut?.replace(/\\D/g, '') === cleanRut);\n        if (!provider) {\n          result.details.notFoundProducts.push({\n            code: row.codigo,\n            providerRut: row.rut,\n            csvName: row.nombre\n          });\n          continue;\n        }\n\n        // Find product by provider code\n        const product = products.find(p => \n          p.providerId === provider.id && \n          p.supplierCode?.toLowerCase() === row.codigo.toLowerCase()\n        );\n\n        if (!product) {\n          result.details.notFoundProducts.push({\n            code: row.codigo,\n            providerRut: row.rut,\n            csvName: row.nombre\n          });\n          continue;\n        }\n\n        // Parse and validate price\n        try {\n          const newPrice = parsePrice(row.precio);\n\n          // Update product price if different\n          if (Math.abs(product.price - newPrice) > 0.01) {\n            await updateProduct(product.id!, { price: newPrice });\n            result.updated++;\n            result.details.updatedProducts.push({\n              name: product.name,\n              oldPrice: product.price,\n              newPrice: newPrice,\n              csvName: row.nombre\n            });\n          }\n        } catch (error) {\n          result.details.invalidRows.push({\n            row: index + 2,\n            reason: error instanceof Error ? error.message : 'Precio inválido'\n          });\n        }\n      } catch (error) {\n        result.details.invalidRows.push({\n          row: index + 2,\n          reason: error instanceof Error ? error.message : 'Error desconocido'\n        });\n      }\n    }\n\n    return result;\n  } catch (error) {\n    throw new Error(\n      error instanceof Error ? error.message : 'Error procesando el archivo'\n    );\n  }\n}","import React, { useState, useMemo } from 'react';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { CheckCircle, AlertCircle, XCircle, Search } from 'lucide-react';\n\ninterface ImportResult {\n  updated: number;\n  errors: string[];\n  details: {\n    updatedProducts: Array<{\n      name: string;\n      oldPrice: number;\n      newPrice: number;\n      csvName: string;\n    }>;\n    notFoundProducts: Array<{\n      code: string;\n      providerRut: string;\n      csvName: string;\n    }>;\n    invalidRows: Array<{\n      row: number;\n      reason: string;\n    }>;\n  };\n}\n\ninterface CsvImportResultsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  result: ImportResult | null;\n}\n\nexport function CsvImportResultsModal({ isOpen, onClose, result }: CsvImportResultsModalProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Filter results based on search term\n  const filteredResults = useMemo(() => {\n    if (!result) return null;\n\n    const term = searchTerm.toLowerCase();\n    return {\n      updatedProducts: result.details.updatedProducts.filter(product => \n        product.name.toLowerCase().includes(term) ||\n        product.csvName.toLowerCase().includes(term)\n      ),\n      notFoundProducts: result.details.notFoundProducts.filter(item => \n        item.code.toLowerCase().includes(term) ||\n        item.csvName.toLowerCase().includes(term) ||\n        item.providerRut.toLowerCase().includes(term)\n      ),\n      invalidRows: result.details.invalidRows.filter(error => \n        error.reason.toLowerCase().includes(term)\n      )\n    };\n  }, [result, searchTerm]);\n  \n  if (!result || !filteredResults) return null;\n\n  const hasUpdates = result.updated > 0;\n  const hasErrors = result.errors.length > 0;\n\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Resultado de la Importación\"\n    >\n      <div className=\"space-y-6\">\n        {/* Summary */}\n        <div className=\"flex items-center gap-3 p-4 rounded-lg bg-gray-50\">\n          {hasUpdates && !hasErrors ? (\n            <CheckCircle className=\"w-6 h-6 text-green-500 flex-shrink-0\" />\n          ) : hasErrors ? (\n            <AlertCircle className=\"w-6 h-6 text-amber-500 flex-shrink-0\" />\n          ) : (\n            <XCircle className=\"w-6 h-6 text-red-500 flex-shrink-0\" />\n          )}\n          <div>\n            <h3 className=\"font-medium\">Resumen de la importación</h3>\n            <p className=\"text-sm text-gray-600\">\n              {result.updated} producto{result.updated !== 1 ? 's' : ''} actualizado{result.updated !== 1 ? 's' : ''}\n            </p>\n          </div>\n        </div>\n\n        {/* Search */}\n        <div className=\"relative\">\n          <Input\n            placeholder=\"Buscar en los resultados...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n        </div>\n\n        {/* Results Sections */}\n        <div className=\"space-y-6 max-h-[60vh] overflow-y-auto\">\n          {/* Updated Products */}\n          {filteredResults.updatedProducts.length > 0 && (\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n              <h4 className=\"font-medium text-green-800 mb-3\">\n                Productos Actualizados ({filteredResults.updatedProducts.length})\n              </h4>\n              <div className=\"space-y-3\">\n                {filteredResults.updatedProducts.map((product, index) => (\n                  <div key={index} className=\"bg-white rounded-lg p-3 shadow-sm\">\n                    <div className=\"font-medium text-green-700\">{product.name}</div>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      Nombre en CSV: {product.csvName}\n                    </div>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      Precio anterior: ${product.oldPrice.toFixed(2)} → \n                      Nuevo precio: ${product.newPrice.toFixed(2)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Not Found Products */}\n          {filteredResults.notFoundProducts.length > 0 && (\n            <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-4\">\n              <h4 className=\"font-medium text-amber-800 mb-3\">\n                Productos no encontrados ({filteredResults.notFoundProducts.length})\n              </h4>\n              <div className=\"space-y-3\">\n                {filteredResults.notFoundProducts.map((item, index) => (\n                  <div key={index} className=\"bg-white rounded-lg p-3 shadow-sm\">\n                    <div className=\"font-medium text-amber-700\">\n                      Código: {item.code}\n                    </div>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      Nombre en CSV: {item.csvName}\n                    </div>\n                    <div className=\"text-sm text-gray-600\">\n                      RUT Proveedor: {item.providerRut}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Invalid Rows */}\n          {filteredResults.invalidRows.length > 0 && (\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n              <h4 className=\"font-medium text-red-800 mb-3\">\n                Filas con errores ({filteredResults.invalidRows.length})\n              </h4>\n              <div className=\"space-y-3\">\n                {filteredResults.invalidRows.map((error, index) => (\n                  <div key={index} className=\"bg-white rounded-lg p-3 shadow-sm\">\n                    <div className=\"font-medium text-red-700\">\n                      Fila {error.row}\n                    </div>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      {error.reason}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex justify-end\">\n          <Button onClick={onClose}>\n            Cerrar\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n}","import React, { useRef, useState } from 'react';\nimport { FileUp } from 'lucide-react';\nimport { Card } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\nimport { useProviders } from '@/hooks/useProviders';\nimport { processCsvImport } from '@/lib/utils/csvImport';\nimport { CsvImportResultsModal } from './CsvImportResultsModal';\nimport { toast } from 'react-hot-toast';\n\nexport function CsvImportCard() {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [importResult, setImportResult] = useState(null);\n  const [isResultsModalOpen, setIsResultsModalOpen] = useState(false);\n  const { products, loading: productsLoading } = useGlobalProducts();\n  const { providers, loading: providersLoading } = useProviders();\n\n  const handleFileSelect = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.name.toLowerCase().endsWith('.csv')) {\n      toast.error('El archivo debe ser de tipo CSV');\n      return;\n    }\n\n    setIsProcessing(true);\n    try {\n      const text = await file.text();\n      const result = await processCsvImport(text, products, providers);\n      \n      setImportResult(result);\n      setIsResultsModalOpen(true);\n\n      // Show brief toast notification\n      if (result.updated > 0) {\n        toast.success(`${result.updated} productos actualizados`);\n      }\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : 'Error al procesar el archivo');\n    } finally {\n      setIsProcessing(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  if (productsLoading || providersLoading) {\n    return (\n      <Card>\n        <Card.Header className=\"!p-4\">\n          <div className=\"animate-pulse\">\n            <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n          </div>\n        </Card.Header>\n      </Card>\n    );\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\"!p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-bold mt-1\">Actualizar Precios</h3>\n            </div>\n            <div className=\"p-2 bg-violet-100 rounded-lg\">\n              <FileUp className=\"w-5 h-5 text-violet-600\" />\n            </div>\n          </div>\n\n          <div className=\"mt-4\">\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\".csv\"\n              onChange={handleFileSelect}\n              className=\"hidden\"\n            />\n            <Button\n              onClick={handleClick}\n              isLoading={isProcessing}\n              className=\"w-full\"\n            >\n              {isProcessing ? 'Procesando...' : 'Seleccionar Archivo'}\n            </Button>\n            <p className=\"text-xs text-gray-500 mt-2\">\n              Formato: Fecha, RUT, Código, Nombre, Precio\n            </p>\n          </div>\n        </Card.Header>\n      </Card>\n\n      <CsvImportResultsModal\n        isOpen={isResultsModalOpen}\n        onClose={() => setIsResultsModalOpen(false)}\n        result={importResult}\n      />\n    </>\n  );\n}","import React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { useProviders } from '@/hooks/useProviders';\nimport { Card } from '@/components/ui/Card';\nimport { \n  Package, \n  Calendar, \n  Users, \n  BarChart2, \n  TrendingUp, \n  Archive, \n  ShoppingCart \n} from 'lucide-react';\nimport { WeekDay } from '@/types';\nimport { useTodayOrdersCount } from '@/hooks/useTodayOrdersCount';\nimport { useAnalytics } from '@/hooks/useAnalytics';\nimport { AnalyticsCard } from '@/components/dashboard/AnalyticsCard';\nimport { TopProductsModal } from '@/components/dashboard/TopProductsModal';\nimport { ProviderOrderStatus } from '@/components/dashboard/ProviderOrderStatus';\nimport { ProviderDeliveryStatus } from '@/components/dashboard/ProviderDeliveryStatus';\nimport { CsvImportCard } from '@/components/dashboard/CsvImportCard';\n\nconst WEEKDAY_MAP: Record<string, WeekDay> = {\n  'lunes': 'monday',\n  'martes': 'tuesday',\n  'miércoles': 'wednesday',\n  'jueves': 'thursday',\n  'viernes': 'friday',\n  'sábado': 'saturday',\n  'domingo': 'sunday'\n};\n\nexport function Dashboard() {\n  const { providers } = useProviders();\n  const today = new Date();\n  const currentDayName = WEEKDAY_MAP[format(today, 'EEEE', { locale: es })];\n  const { count: todayOrdersCount, loading: ordersLoading } = useTodayOrdersCount();\n  const { weeklyOrders, topProducts, totalProducts, totalProviders, loading: analyticsLoading } = useAnalytics();\n  const [isTopProductsModalOpen, setIsTopProductsModalOpen] = useState(false);\n  \n  // Filter providers that have orders scheduled for today\n  const providersForOrder = providers.filter(p => \n    p.orderDays?.includes(currentDayName)\n  );\n\n  // Get weekly orders total\n  const totalWeeklyOrders = weeklyOrders[0]?.count || 0;\n\n  // Get most ordered product\n  const topProduct = topProducts[0];\n\n  // Calculate total orders\n  const totalOrders = weeklyOrders.reduce((sum, week) => sum + week.count, 0);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n        {/* Date Card */}\n        <Card>\n          <Card.Header className=\"!p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold capitalize\">\n                  {format(today, 'EEEE', { locale: es })}\n                </div>\n                <div className=\"text-sm text-gray-600 mt-1\">\n                  {format(today, 'dd/MM/yyyy')}\n                </div>\n              </div>\n              <div className=\"p-2 bg-orange-100 rounded-lg\">\n                <Calendar className=\"w-5 h-5 text-orange-600\" />\n              </div>\n            </div>\n          </Card.Header>\n        </Card>\n\n        {/* Total Products Card */}\n        <AnalyticsCard\n          title=\"Total Productos\"\n          icon={<Archive className=\"w-5 h-5 text-indigo-600\" />}\n          loading={analyticsLoading}\n        >\n          <h3 className=\"text-2xl font-bold mt-1\">{totalProducts}</h3>\n        </AnalyticsCard>\n\n        {/* Total Providers Card */}\n        <AnalyticsCard\n          title=\"Total Proveedores\"\n          icon={<Users className=\"w-5 h-5 text-emerald-600\" />}\n          loading={analyticsLoading}\n        >\n          <h3 className=\"text-2xl font-bold mt-1\">{totalProviders}</h3>\n        </AnalyticsCard>\n\n        {/* Total Orders Card */}\n        <AnalyticsCard\n          title=\"Total Órdenes\"\n          icon={<ShoppingCart className=\"w-5 h-5 text-amber-600\" />}\n          loading={analyticsLoading}\n        >\n          <h3 className=\"text-2xl font-bold mt-1\">{totalOrders}</h3>\n        </AnalyticsCard>\n\n        {/* Today's Orders Card */}\n        <Card>\n          <Card.Header className=\"!p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Pedidos Hoy</p>\n                <h3 className=\"text-2xl font-bold mt-1\">\n                  {ordersLoading ? (\n                    <span className=\"text-gray-400\">...</span>\n                  ) : (\n                    todayOrdersCount\n                  )}\n                </h3>\n              </div>\n              <div className=\"p-2 bg-purple-100 rounded-lg\">\n                <Package className=\"w-5 h-5 text-purple-600\" />\n              </div>\n            </div>\n          </Card.Header>\n        </Card>\n\n        {/* Weekly Orders Card */}\n        <AnalyticsCard\n          title=\"Órdenes Semanales\"\n          icon={<BarChart2 className=\"w-5 h-5 text-blue-600\" />}\n          loading={analyticsLoading}\n        >\n          <h3 className=\"text-2xl font-bold mt-1\">{totalWeeklyOrders}</h3>\n        </AnalyticsCard>\n\n        {/* Most Bought Product Card */}\n        <AnalyticsCard\n          title=\"Producto Más Comprado\"\n          icon={<TrendingUp className=\"w-5 h-5 text-green-600\" />}\n          loading={analyticsLoading}\n          className=\"lg:col-span-2 cursor-pointer hover:shadow-md transition-shadow\"\n          onClick={() => setIsTopProductsModalOpen(true)}\n        >\n          {topProduct && (\n            <div className=\"mt-1\">\n              <h3 className=\"text-lg font-bold break-words\">{topProduct.name}</h3>\n              <p className=\"text-sm text-gray-500 mt-1\">\n                {topProduct.totalQuantity} unidades en {topProduct.orderCount} órdenes\n              </p>\n            </div>\n          )}\n        </AnalyticsCard>\n\n        {/* CSV Import Card */}\n        <CsvImportCard />\n      </div>\n\n      {/* Daily Activities */}\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        {/* Orders Section */}\n        <Card>\n          <Card.Header>\n            <Card.Title>Hoy se deben realizar pedidos a:</Card.Title>\n          </Card.Header>\n          <Card.Content>\n            {providersForOrder.length > 0 ? (\n              <ul className=\"divide-y\">\n                {providersForOrder.map(provider => (\n                  <ProviderOrderStatus \n                    key={provider.id} \n                    provider={provider}\n                  />\n                ))}\n              </ul>\n            ) : (\n              <p className=\"text-gray-500 py-3\">\n                No hay pedidos programados para hoy\n              </p>\n            )}\n          </Card.Content>\n        </Card>\n\n        {/* Deliveries Section */}\n        <Card>\n          <Card.Header>\n            <Card.Title>Hoy se deben recibir pedidos de:</Card.Title>\n          </Card.Header>\n          <Card.Content>\n            {providersForOrder.length > 0 ? (\n              <ul className=\"divide-y\">\n                {providersForOrder.map(provider => (\n                  <ProviderDeliveryStatus \n                    key={provider.id} \n                    provider={provider}\n                  />\n                ))}\n              </ul>\n            ) : (\n              <p className=\"text-gray-500 py-3\">\n                No hay entregas programadas para hoy\n              </p>\n            )}\n          </Card.Content>\n        </Card>\n      </div>\n\n      {/* Top Products Modal */}\n      <TopProductsModal\n        isOpen={isTopProductsModalOpen}\n        onClose={() => setIsTopProductsModalOpen(false)}\n        products={topProducts}\n      />\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Provider, WeekDay } from '@/types';\nimport { validatePhoneNumber, formatPhoneNumber } from '@/lib/utils';\n\ninterface ProviderFormProps {\n  initialData?: Provider;\n  onSubmit: (data: Omit<Provider, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isLoading?: boolean;\n}\n\nconst WEEK_DAYS: { value: WeekDay; label: string }[] = [\n  { value: 'monday', label: 'Lunes' },\n  { value: 'tuesday', label: 'Martes' },\n  { value: 'wednesday', label: 'Miércoles' },\n  { value: 'thursday', label: 'Jueves' },\n  { value: 'friday', label: 'Viernes' },\n  { value: 'saturday', label: 'Sábado' },\n  { value: 'sunday', label: 'Domingo' },\n];\n\nexport function ProviderForm({ initialData, onSubmit, onCancel, isLoading }: ProviderFormProps) {\n  const [formData, setFormData] = React.useState<Omit<Provider, 'id'>>({\n    commercialName: initialData?.commercialName || '',\n    legalName: initialData?.legalName || '',\n    rut: initialData?.rut || '',\n    phone: initialData?.phone || '',\n    deliveryDays: initialData?.deliveryDays || [],\n    orderDays: initialData?.orderDays || [],\n  });\n\n  const [phoneError, setPhoneError] = useState<string>('');\n\n  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let value = e.target.value;\n    value = value.replace(/\\D/g, '');\n    if (value.startsWith('598')) {\n      value = value.slice(3);\n    }\n    value = value.slice(0, 9);\n    \n    setFormData(prev => ({ ...prev, phone: value }));\n    \n    if (value && !validatePhoneNumber(value)) {\n      setPhoneError('Ingrese un número de celular válido de Uruguay (8 o 9 dígitos)');\n    } else {\n      setPhoneError('');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (formData.phone && !validatePhoneNumber(formData.phone)) {\n      setPhoneError('Ingrese un número de celular válido de Uruguay (8 o 9 dígitos)');\n      return;\n    }\n\n    await onSubmit(formData);\n  };\n\n  const handleDayToggle = (day: WeekDay, type: 'delivery' | 'order') => {\n    setFormData(prev => ({\n      ...prev,\n      [type === 'delivery' ? 'deliveryDays' : 'orderDays']: prev[type === 'delivery' ? 'deliveryDays' : 'orderDays']?.includes(day)\n        ? prev[type === 'delivery' ? 'deliveryDays' : 'orderDays']?.filter(d => d !== day)\n        : [...(prev[type === 'delivery' ? 'deliveryDays' : 'orderDays'] || []), day],\n    }));\n  };\n\n  const formattedPhone = formData.phone ? formatPhoneNumber(formData.phone) : '';\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <Input\n        label=\"Nombre comercial\"\n        value={formData.commercialName}\n        onChange={(e) => setFormData(prev => ({ ...prev, commercialName: e.target.value }))}\n        required\n      />\n      <Input\n        label=\"Razón social\"\n        value={formData.legalName}\n        onChange={(e) => setFormData(prev => ({ ...prev, legalName: e.target.value }))}\n      />\n      <Input\n        label=\"RUT\"\n        value={formData.rut}\n        onChange={(e) => setFormData(prev => ({ ...prev, rut: e.target.value }))}\n      />\n      <div>\n        <Input\n          label=\"Celular\"\n          type=\"tel\"\n          value={formData.phone}\n          onChange={handlePhoneChange}\n          error={phoneError}\n          placeholder=\"93609319\"\n        />\n        {formData.phone && (\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Se guardará como: {formattedPhone}\n          </p>\n        )}\n      </div>\n      \n      <div className=\"space-y-6\">\n        <div className=\"space-y-3\">\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Días de pedido\n          </label>\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-7 gap-2\">\n            {WEEK_DAYS.map(({ value, label }) => (\n              <button\n                key={value}\n                type=\"button\"\n                onClick={() => handleDayToggle(value, 'order')}\n                className={`\n                  px-3 py-2 text-sm font-medium rounded-md transition-colors\n                  ${formData.orderDays?.includes(value)\n                    ? 'bg-blue-100 text-blue-800 hover:bg-blue-200'\n                    : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n                  }\n                `}\n              >\n                {label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Días de entrega\n          </label>\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-7 gap-2\">\n            {WEEK_DAYS.map(({ value, label }) => (\n              <button\n                key={value}\n                type=\"button\"\n                onClick={() => handleDayToggle(value, 'delivery')}\n                className={`\n                  px-3 py-2 text-sm font-medium rounded-md transition-colors\n                  ${formData.deliveryDays?.includes(value)\n                    ? 'bg-green-100 text-green-800 hover:bg-green-200'\n                    : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n                  }\n                `}\n              >\n                {label}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex justify-end space-x-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n          Cancelar\n        </Button>\n        <Button type=\"submit\" isLoading={isLoading}>\n          {initialData ? 'Actualizar' : 'Crear'} Proveedor\n        </Button>\n      </div>\n    </form>\n  );\n}","import React, { useState } from 'react';\nimport { Plus, Pencil, Trash2, Phone } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport { Button } from '@/components/ui/Button';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { ProviderForm } from '@/components/providers/ProviderForm';\nimport { useProviders } from '@/hooks/useProviders';\nimport { Provider } from '@/types';\nimport { generateWhatsAppLink, formatPhoneNumber } from '@/lib/utils';\n\nexport function Providers() {\n  const { providers, loading, addProvider, updateProvider, deleteProvider } = useProviders();\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [editingProvider, setEditingProvider] = useState<Provider | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [providerToDelete, setProviderToDelete] = useState<Provider | null>(null);\n\n  const handleSubmit = async (data: Omit<Provider, 'id'>) => {\n    setIsSubmitting(true);\n    try {\n      if (editingProvider) {\n        await updateProvider(editingProvider.id!, data);\n        toast.success('Proveedor actualizado exitosamente');\n      } else {\n        await addProvider(data);\n        toast.success('Proveedor creado exitosamente');\n      }\n      handleCloseForm();\n    } catch (error) {\n      toast.error('Ocurrió un error al guardar el proveedor');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDelete = async (provider: Provider) => {\n    setProviderToDelete(provider);\n  };\n\n  const confirmDelete = async () => {\n    if (!providerToDelete) return;\n    \n    try {\n      await deleteProvider(providerToDelete.id!);\n      toast.success('Proveedor eliminado exitosamente');\n      setProviderToDelete(null);\n    } catch (error) {\n      toast.error('Ocurrió un error al eliminar el proveedor');\n    }\n  };\n\n  const handleCloseForm = () => {\n    setIsFormOpen(false);\n    setEditingProvider(null);\n  };\n\n  const handleEdit = (provider: Provider) => {\n    setEditingProvider(provider);\n    setIsFormOpen(true);\n  };\n\n  const handleNewProvider = () => {\n    if (editingProvider) {\n      const dialog = Dialog({\n        isOpen: true,\n        onClose: () => {},\n        title: \"Advertencia\",\n        children: (\n          <div className=\"space-y-4\">\n            <p className=\"text-amber-600\">\n              Hay un proveedor en edición. ¿Desea cancelar los cambios y crear uno nuevo?\n            </p>\n            <div className=\"flex justify-end space-x-2\">\n              <Button variant=\"outline\" onClick={() => dialog.close()}>\n                Cancelar\n              </Button>\n              <Button\n                onClick={() => {\n                  setEditingProvider(null);\n                  setIsFormOpen(true);\n                  dialog.close();\n                }}\n              >\n                Continuar\n              </Button>\n            </div>\n          </div>\n        ),\n      });\n    } else {\n      setIsFormOpen(true);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n      </div>\n    );\n  }\n\n  if (isFormOpen || editingProvider) {\n    return (\n      <div className=\"bg-white p-4 md:p-6 rounded-lg shadow\">\n        <h2 className=\"text-xl font-semibold mb-4\">\n          {editingProvider ? 'Editar' : 'Nuevo'} Proveedor\n        </h2>\n        <ProviderForm\n          initialData={editingProvider || undefined}\n          onSubmit={handleSubmit}\n          onCancel={handleCloseForm}\n          isLoading={isSubmitting}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-end\">\n        <Button onClick={handleNewProvider}>\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Nuevo Proveedor\n        </Button>\n      </div>\n\n      <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n        {providers.map((provider) => (\n          <div\n            key={provider.id}\n            className=\"bg-white p-4 md:p-6 rounded-lg shadow-sm space-y-4\"\n          >\n            <div className=\"space-y-2\">\n              <h3 className=\"text-lg font-semibold break-words\">{provider.commercialName}</h3>\n              {provider.legalName && (\n                <p className=\"text-sm text-gray-600 break-words\">{provider.legalName}</p>\n              )}\n              {provider.rut && (\n                <p className=\"text-sm text-gray-600\">RUT: {provider.rut}</p>\n              )}\n              {provider.phone && (\n                <p className=\"text-sm text-gray-600\">\n                  Celular: {formatPhoneNumber(provider.phone)}\n                </p>\n              )}\n            </div>\n\n            <div className=\"flex flex-wrap gap-2 items-center justify-between\">\n              <div className=\"flex flex-wrap gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handleEdit(provider)}\n                >\n                  <Pencil className=\"w-4 h-4 mr-2\" />\n                  Editar\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handleDelete(provider)}\n                >\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\n                  Eliminar\n                </Button>\n              </div>\n              \n              {provider.phone && (\n                <a\n                  href={generateWhatsAppLink(provider.phone, '')}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Button variant=\"ghost\" size=\"sm\">\n                    <Phone className=\"w-4 h-4\" />\n                  </Button>\n                </a>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <Dialog\n        isOpen={!!providerToDelete}\n        onClose={() => setProviderToDelete(null)}\n        title=\"Eliminar proveedor\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-amber-600\">\n            ¿Está seguro que desea eliminar el proveedor \"{providerToDelete?.commercialName}\"?\n          </p>\n          <div className=\"flex justify-end space-x-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setProviderToDelete(null)}\n            >\n              Cancelar\n            </Button>\n            <Button onClick={confirmDelete}>\n              Eliminar\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { Search } from 'lucide-react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface Option {\n  value: string;\n  label: string;\n}\n\ninterface SearchableSelectProps {\n  options: Option[];\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  className?: string;\n}\n\nexport function SearchableSelect({\n  options,\n  value,\n  onChange,\n  placeholder = 'Seleccionar...',\n  className\n}: SearchableSelectProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const containerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const filteredOptions = options.filter(option =>\n    option.label.toLowerCase().includes(search.toLowerCase())\n  );\n\n  const selectedOption = options.find(option => option.value === value);\n\n  const handleSelect = (option: Option) => {\n    onChange(option.value);\n    setSearch('');\n    setIsOpen(false);\n  };\n\n  return (\n    <div className={mergeClasses(\"relative\", className)} ref={containerRef}>\n      <div\n        className={mergeClasses(\n          \"flex items-center border rounded-md bg-white\",\n          isOpen ? \"border-blue-500 ring-2 ring-blue-200\" : \"border-gray-300\",\n          \"cursor-pointer\"\n        )}\n        onClick={() => {\n          setIsOpen(!isOpen);\n          if (!isOpen && inputRef.current) {\n            inputRef.current.focus();\n          }\n        }}\n      >\n        {isOpen ? (\n          <div className=\"flex-1 flex items-center px-3\">\n            <Search className=\"w-4 h-4 text-gray-400 mr-2\" />\n            <input\n              ref={inputRef}\n              type=\"text\"\n              className=\"w-full py-2 outline-none\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              placeholder=\"Buscar...\"\n              onClick={(e) => e.stopPropagation()}\n            />\n          </div>\n        ) : (\n          <div className=\"flex-1 p-2 px-3\">\n            {selectedOption ? selectedOption.label : placeholder}\n          </div>\n        )}\n      </div>\n\n      {isOpen && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto\">\n          {filteredOptions.length > 0 ? (\n            filteredOptions.map((option) => (\n              <div\n                key={option.value}\n                className={mergeClasses(\n                  \"px-3 py-2 cursor-pointer hover:bg-gray-100\",\n                  option.value === value && \"bg-blue-50\"\n                )}\n                onClick={() => handleSelect(option)}\n              >\n                {option.label}\n              </div>\n            ))\n          ) : (\n            <div className=\"px-3 py-2 text-gray-500\">\n              No se encontraron resultados\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}","import { Product } from '@/types';\n\nexport interface ValidationError {\n  field: string;\n  message: string;\n}\n\nexport function validateProduct(data: Omit<Product, 'id'>): ValidationError | null {\n  // Required fields\n  if (!data.name?.trim()) {\n    return { field: 'name', message: 'El nombre es requerido' };\n  }\n\n  if (!data.sku?.trim()) {\n    return { field: 'sku', message: 'El SKU es requerido' };\n  }\n\n  if (!data.purchasePackaging?.trim()) {\n    return { field: 'purchasePackaging', message: 'El empaque de compra es requerido' };\n  }\n\n  if (!data.providerId) {\n    return { field: 'providerId', message: 'El proveedor es requerido' };\n  }\n\n  // Stock validation\n  if (typeof data.minPackageStock !== 'number' || isNaN(data.minPackageStock)) {\n    return { field: 'minPackageStock', message: 'El stock mínimo debe ser un número válido' };\n  }\n\n  if (typeof data.desiredStock !== 'number' || isNaN(data.desiredStock)) {\n    return { field: 'desiredStock', message: 'El stock deseado debe ser un número válido' };\n  }\n\n  if (data.minPackageStock < 0) {\n    return { field: 'minPackageStock', message: 'El stock mínimo no puede ser negativo' };\n  }\n\n  if (data.desiredStock < 0) {\n    return { field: 'desiredStock', message: 'El stock deseado no puede ser negativo' };\n  }\n\n  if (data.minPackageStock > data.desiredStock) {\n    return { field: 'minPackageStock', message: 'El stock mínimo no puede ser mayor al stock deseado' };\n  }\n\n  // Price validation - allow zero or positive numbers\n  if (typeof data.price !== 'number' || isNaN(data.price)) {\n    return { field: 'price', message: 'El precio debe ser un número válido' };\n  }\n\n  if (data.price < 0) {\n    return { field: 'price', message: 'El precio no puede ser negativo' };\n  }\n\n  // Order validation\n  if (typeof data.order !== 'number' || isNaN(data.order)) {\n    return { field: 'order', message: 'El orden debe ser un número válido' };\n  }\n\n  return null;\n}\n\nexport function formatProductData(data: Omit<Product, 'id'>): Omit<Product, 'id'> {\n  return {\n    name: data.name.trim().toUpperCase(),\n    sku: data.sku.trim().toUpperCase(),\n    supplierCode: data.supplierCode?.trim().toUpperCase() || '',\n    purchasePackaging: data.purchasePackaging.trim().toUpperCase(),\n    salePackaging: data.salePackaging?.trim().toUpperCase() || '',\n    price: Number(data.price),\n    minPackageStock: Number(data.minPackageStock),\n    desiredStock: Number(data.desiredStock),\n    order: Number(data.order),\n    providerId: data.providerId,\n    tags: data.tags || []\n  };\n}","export class DatabaseError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(message, options);\n    this.name = 'DatabaseError';\n  }\n}\n\nexport class ValidationError extends Error {\n  constructor(\n    message: string,\n    public field?: string,\n    options?: ErrorOptions\n  ) {\n    super(message, options);\n    this.name = 'ValidationError';\n  }\n}\n\nexport function isKnownError(error: unknown): error is Error {\n  return error instanceof DatabaseError || error instanceof ValidationError;\n}\n\nexport function getErrorMessage(error: unknown): string {\n  if (error instanceof Error) {\n    return error.message;\n  }\n  return 'An unexpected error occurred';\n}","import { ref, push, update, remove, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Product } from '@/types';\nimport { DatabaseError } from '../errors';\n\nexport async function createProduct(data: Omit<Product, 'id'>): Promise<string> {\n  try {\n    const productsRef = ref(db, 'products');\n    const newProductRef = await push(productsRef, data);\n    \n    if (!newProductRef.key) {\n      throw new DatabaseError('Failed to generate product ID');\n    }\n\n    return newProductRef.key;\n  } catch (error) {\n    throw new DatabaseError('Failed to create product', { cause: error });\n  }\n}\n\nexport async function updateProductById(id: string, data: Partial<Product>): Promise<void> {\n  try {\n    const productRef = ref(db, `products/${id}`);\n    \n    // Verify product exists\n    const snapshot = await get(productRef);\n    if (!snapshot.exists()) {\n      throw new DatabaseError('Product not found');\n    }\n\n    await update(productRef, data);\n  } catch (error) {\n    throw new DatabaseError('Failed to update product', { cause: error });\n  }\n}\n\nexport async function getProductById(id: string): Promise<Product | null> {\n  try {\n    const productRef = ref(db, `products/${id}`);\n    const snapshot = await get(productRef);\n    \n    if (!snapshot.exists()) {\n      return null;\n    }\n\n    return {\n      id,\n      ...snapshot.val()\n    } as Product;\n  } catch (error) {\n    throw new DatabaseError('Failed to get product', { cause: error });\n  }\n}\n\nexport async function deleteProductById(id: string): Promise<void> {\n  try {\n    const productRef = ref(db, `products/${id}`);\n    await remove(productRef);\n  } catch (error) {\n    throw new DatabaseError('Failed to delete product', { cause: error });\n  }\n}","import { useState, useEffect } from 'react';\nimport { ref, onValue, query, orderByChild, equalTo } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Product } from '@/types';\nimport { toast } from 'react-hot-toast';\nimport { validateProduct, formatProductData } from '@/lib/validation/productValidation';\nimport { createProduct, updateProductById, deleteProductById, getProductById } from '@/lib/services/database/products';\nimport { isKnownError, getErrorMessage, ValidationError } from '@/lib/services/errors';\n\nexport function useProducts(providerId?: string) {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!providerId) {\n      setProducts([]);\n      setLoading(false);\n      return;\n    }\n\n    const productsRef = ref(db, 'products');\n    const providerProductsQuery = query(\n      productsRef,\n      orderByChild('providerId'),\n      equalTo(providerId)\n    );\n\n    const unsubscribe = onValue(providerProductsQuery, (snapshot) => {\n      const data = snapshot.val();\n      const productsList = data\n        ? Object.entries(data).map(([id, product]) => ({\n            id,\n            ...(product as Omit<Product, 'id'>),\n          }))\n        : [];\n      setProducts(productsList);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [providerId]);\n\n  const addProduct = async (product: Omit<Product, 'id'>) => {\n    try {\n      // Validate product data\n      const validationError = validateProduct(product);\n      if (validationError) {\n        throw new ValidationError(validationError.message, validationError.field);\n      }\n\n      // Format product data\n      const formattedProduct = formatProductData(product);\n\n      // Save to database\n      const productId = await createProduct(formattedProduct);\n      return productId;\n    } catch (error) {\n      const message = isKnownError(error) ? error.message : 'Error al crear el producto';\n      toast.error(message);\n      throw error;\n    }\n  };\n\n  const updateProduct = async (id: string, updates: Partial<Product>) => {\n    if (!id) {\n      throw new ValidationError('ID de producto no válido');\n    }\n\n    try {\n      // Get current product data\n      const currentProduct = await getProductById(id);\n      if (!currentProduct) {\n        throw new ValidationError('Producto no encontrado');\n      }\n\n      // Merge updates with current data\n      const updatedProduct = {\n        ...currentProduct,\n        ...updates\n      };\n\n      // Validate complete product data\n      const validationError = validateProduct(updatedProduct);\n      if (validationError) {\n        throw new ValidationError(validationError.message, validationError.field);\n      }\n\n      // Format and save updates\n      const formattedUpdates = formatProductData(updatedProduct);\n      await updateProductById(id, formattedUpdates);\n\n      return formattedUpdates;\n    } catch (error) {\n      const message = getErrorMessage(error);\n      toast.error(message);\n      throw error;\n    }\n  };\n\n  const deleteProduct = async (id: string) => {\n    if (!id) {\n      throw new ValidationError('ID de producto no válido');\n    }\n\n    try {\n      await deleteProductById(id);\n    } catch (error) {\n      const message = getErrorMessage(error);\n      toast.error(message);\n      throw error;\n    }\n  };\n\n  return {\n    products,\n    loading,\n    addProduct,\n    updateProduct,\n    deleteProduct,\n  };\n}","import { Product } from '@/types';\nimport { getSectorFromOrder, getSequenceFromOrder, calculateNewOrder } from '@/lib/utils';\n\nexport function reorderProducts(\n  products: Product[],\n  targetSector: string,\n  targetPosition: number,\n  movedProductId: string\n): Product[] {\n  const movedProduct = products.find(p => p.id === movedProductId);\n  if (!movedProduct) return products;\n\n  const sourceSector = getSectorFromOrder(movedProduct.order);\n  const isChangingSector = sourceSector !== targetSector;\n\n  if (isChangingSector) {\n    // First, reorder source sector (decrement positions after the moved product)\n    const sourceProducts = products\n      .filter(p => getSectorFromOrder(p.order) === sourceSector && p.id !== movedProductId)\n      .sort((a, b) => getSequenceFromOrder(a.order) - getSequenceFromOrder(b.order));\n\n    const sourceSequence = getSequenceFromOrder(movedProduct.order);\n\n    // Then, reorder target sector (increment positions from target position)\n    const targetProducts = products\n      .filter(p => getSectorFromOrder(p.order) === targetSector)\n      .sort((a, b) => getSequenceFromOrder(a.order) - getSequenceFromOrder(b.order));\n\n    return products.map(product => {\n      // Handle moved product\n      if (product.id === movedProductId) {\n        return {\n          ...product,\n          order: calculateNewOrder(targetSector, targetPosition)\n        };\n      }\n\n      const productSector = getSectorFromOrder(product.order);\n      const sequence = getSequenceFromOrder(product.order);\n\n      // Handle source sector products\n      if (productSector === sourceSector && sequence > sourceSequence) {\n        return {\n          ...product,\n          order: calculateNewOrder(sourceSector, sequence - 1)\n        };\n      }\n\n      // Handle target sector products\n      if (productSector === targetSector && sequence >= targetPosition) {\n        return {\n          ...product,\n          order: calculateNewOrder(targetSector, sequence + 1)\n        };\n      }\n\n      return product;\n    });\n  }\n\n  // If staying in same sector, handle reordering within sector\n  const currentPosition = getSequenceFromOrder(movedProduct.order);\n  \n  return products.map(product => {\n    // If product is not in this sector, keep it unchanged\n    if (getSectorFromOrder(product.order) !== targetSector) {\n      return product;\n    }\n\n    // If this is the moved product\n    if (product.id === movedProductId) {\n      return {\n        ...product,\n        order: calculateNewOrder(targetSector, targetPosition)\n      };\n    }\n\n    const sequence = getSequenceFromOrder(product.order);\n\n    // Moving up (to a lower position)\n    if (targetPosition < currentPosition) {\n      if (sequence >= targetPosition && sequence < currentPosition) {\n        return {\n          ...product,\n          order: calculateNewOrder(targetSector, sequence + 1)\n        };\n      }\n    }\n    // Moving down (to a higher position)\n    else if (targetPosition > currentPosition) {\n      if (sequence <= targetPosition && sequence > currentPosition) {\n        return {\n          ...product,\n          order: calculateNewOrder(targetSector, sequence - 1)\n        };\n      }\n    }\n\n    return product;\n  });\n}","import { Product } from '@/types';\nimport { SECTORS } from '@/config/constants';\n\nexport function getSectorFromOrder(order: number): string {\n  const orderStr = order.toString().padStart(5, '0');\n  const sectorIndex = parseInt(orderStr.slice(0, 2)) - 1;\n  return sectorIndex >= 0 && sectorIndex < SECTORS.length ? SECTORS[sectorIndex].code : SECTORS[0].code;\n}\n\nexport function getSequenceFromOrder(order: number): number {\n  const orderStr = order.toString().padStart(5, '0');\n  return parseInt(orderStr.slice(2));\n}\n\nexport function calculateNewOrder(sectorCode: string, sequence: number): number {\n  const sectorIndex = SECTORS.findIndex(s => s.code === sectorCode) + 1;\n  return parseInt(`${sectorIndex.toString().padStart(2, '0')}${sequence.toString().padStart(3, '0')}`);\n}\n\nexport function formatOrderNumber(order: number): string {\n  const sector = getSectorFromOrder(order);\n  const sequence = getSequenceFromOrder(order);\n  return `${sector}-${sequence.toString().padStart(3, '0')}`;\n}\n\nexport function getSectorProducts(products: Product[], sectorCode: string): Product[] {\n  return products\n    .filter(p => getSectorFromOrder(p.order) === sectorCode)\n    .sort((a, b) => getSequenceFromOrder(a.order) - getSequenceFromOrder(b.order));\n}\n\nexport function getNextAvailableOrder(products: Product[], sectorCode: string): number {\n  const sectorProducts = getSectorProducts(products, sectorCode);\n  const maxSequence = sectorProducts.length;\n  return calculateNewOrder(sectorCode, maxSequence + 1);\n}","import { useState } from 'react';\nimport { Product } from '@/types';\nimport { ref, update, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { toast } from 'react-hot-toast';\nimport { reorderProducts } from '@/lib/order/reorder';\nimport { getSectorFromOrder, getSequenceFromOrder } from '@/lib/order/utils';\n\nexport function useProductUpdate() {\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const updateProduct = async (\n    product: Product,\n    updates: Partial<Product>\n  ): Promise<void> => {\n    if (!product.id) {\n      throw new Error('Product ID is required');\n    }\n\n    setIsProcessing(true);\n    try {\n      const productRef = ref(db, `products/${product.id}`);\n      \n      // Get current product data\n      const snapshot = await get(productRef);\n      if (!snapshot.exists()) {\n        throw new Error('Product not found');\n      }\n\n      const currentProduct = snapshot.val();\n      \n      // Format updates, keeping existing values for undefined fields\n      const formattedUpdates = {\n        ...currentProduct,\n        ...updates,\n        name: updates.name?.toUpperCase() ?? currentProduct.name,\n        sku: updates.sku?.toUpperCase() ?? currentProduct.sku,\n        supplierCode: updates.supplierCode?.toUpperCase() ?? currentProduct.supplierCode ?? '',\n        purchasePackaging: updates.purchasePackaging?.toUpperCase() ?? currentProduct.purchasePackaging,\n        salePackaging: updates.salePackaging?.toUpperCase() ?? currentProduct.salePackaging ?? '',\n        price: updates.price !== undefined ? Number(updates.price) : currentProduct.price,\n        minPackageStock: updates.minPackageStock !== undefined ? Number(updates.minPackageStock) : currentProduct.minPackageStock,\n        desiredStock: updates.desiredStock !== undefined ? Number(updates.desiredStock) : currentProduct.desiredStock,\n        order: updates.order !== undefined ? Number(updates.order) : currentProduct.order,\n        tags: updates.tags ?? currentProduct.tags ?? [],\n        providerId: updates.providerId ?? currentProduct.providerId\n      };\n\n      // Remove any undefined or null values\n      Object.keys(formattedUpdates).forEach(key => {\n        if (formattedUpdates[key as keyof typeof formattedUpdates] === undefined ||\n            formattedUpdates[key as keyof typeof formattedUpdates] === null) {\n          delete formattedUpdates[key as keyof typeof formattedUpdates];\n        }\n      });\n\n      // Handle reordering if order changed\n      if (updates.order !== undefined && updates.order !== currentProduct.order) {\n        const sector = getSectorFromOrder(updates.order);\n        const position = getSequenceFromOrder(updates.order);\n        \n        // Get all products in the sector\n        const productsRef = ref(db, 'products');\n        const productsSnapshot = await get(productsRef);\n        const allProducts = Object.entries(productsSnapshot.val() || {}).map(([id, data]) => ({\n          id,\n          ...(data as Omit<Product, 'id'>)\n        }));\n        \n        const updatedProducts = reorderProducts(\n          allProducts,\n          sector,\n          position,\n          product.id\n        );\n\n        // Create a multi-path update\n        const updates = updatedProducts\n          .filter(p => p.order !== allProducts.find(op => op.id === p.id)?.order)\n          .reduce((acc, p) => ({\n            ...acc,\n            [`products/${p.id}`]: {\n              ...p,\n              id: undefined // Remove id from the data to be saved\n            }\n          }), {});\n\n        // Update all products in a single transaction\n        await update(ref(db), updates);\n      } else {\n        // Just update the single product\n        await update(productRef, formattedUpdates);\n      }\n\n      toast.success('Producto actualizado exitosamente');\n    } catch (error) {\n      console.error('Error updating product:', error);\n      toast.error('Error al actualizar el producto');\n      throw error;\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return {\n    updateProduct,\n    isProcessing\n  };\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { X } from 'lucide-react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface TagInputProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value' | 'onChange'> {\n  label?: string;\n  value: string;\n  onChange: (value: string) => void;\n  onRemove: () => void;\n  suggestions?: string[];\n  error?: string;\n}\n\nexport function TagInput({\n  label,\n  value,\n  onChange,\n  onRemove,\n  suggestions = [],\n  className,\n  error,\n  ...props\n}: TagInputProps) {\n  const [inputValue, setInputValue] = useState('');\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setShowSuggestions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value.toUpperCase());\n    setShowSuggestions(true);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && inputValue.trim()) {\n      e.preventDefault();\n      onChange(inputValue.trim());\n      setInputValue('');\n      setShowSuggestions(false);\n    }\n  };\n\n  const handleSuggestionClick = (suggestion: string) => {\n    onChange(suggestion);\n    setInputValue('');\n    setShowSuggestions(false);\n    inputRef.current?.focus();\n  };\n\n  return (\n    <div ref={containerRef} className=\"relative\">\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n          {label}\n        </label>\n      )}\n      \n      <div\n        className={mergeClasses(\n          'flex items-center min-h-[42px] w-full rounded-lg border border-gray-300 bg-white px-3 py-1.5',\n          'focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500',\n          error && 'border-red-500 focus-within:border-red-500 focus-within:ring-red-500',\n          className\n        )}\n      >\n        {value ? (\n          <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm bg-blue-100 text-blue-800 mr-2\">\n            {value}\n            <button\n              type=\"button\"\n              onClick={onRemove}\n              className=\"ml-1 p-0.5 hover:bg-blue-200 rounded-full transition-colors\"\n            >\n              <X className=\"w-3 h-3\" />\n            </button>\n          </span>\n        ) : (\n          <input\n            ref={inputRef}\n            type=\"text\"\n            className=\"flex-1 outline-none bg-transparent text-gray-900 placeholder-gray-500 text-sm\"\n            value={inputValue}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            onFocus={() => setShowSuggestions(true)}\n            {...props}\n          />\n        )}\n      </div>\n\n      {error && (\n        <p className=\"mt-1 text-sm text-red-600\">{error}</p>\n      )}\n\n      {showSuggestions && !value && suggestions.length > 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\n          {suggestions\n            .filter(suggestion => suggestion.includes(inputValue.toUpperCase()))\n            .map((suggestion) => (\n              <button\n                key={suggestion}\n                type=\"button\"\n                className=\"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none\"\n                onClick={() => handleSuggestionClick(suggestion)}\n              >\n                {suggestion}\n              </button>\n            ))}\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { X, Plus } from 'lucide-react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface TagsInputProps {\n  label?: string;\n  value: string[];\n  onChange: (tags: string[]) => void;\n  suggestions?: string[];\n  error?: string;\n  className?: string;\n}\n\nexport function TagsInput({\n  label,\n  value = [],\n  onChange,\n  suggestions = [],\n  error,\n  className\n}: TagsInputProps) {\n  const [inputValue, setInputValue] = useState('');\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setShowSuggestions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value.toUpperCase());\n    setShowSuggestions(true);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && inputValue.trim()) {\n      e.preventDefault();\n      addTag(inputValue.trim());\n    } else if (e.key === 'Backspace' && !inputValue && value.length > 0) {\n      removeTag(value[value.length - 1]);\n    }\n  };\n\n  const addTag = (tag: string) => {\n    const normalizedTag = tag.toUpperCase();\n    if (!value.includes(normalizedTag)) {\n      onChange([...value, normalizedTag]);\n    }\n    setInputValue('');\n    setShowSuggestions(false);\n  };\n\n  const removeTag = (tagToRemove: string) => {\n    onChange(value.filter(tag => tag !== tagToRemove));\n  };\n\n  const handleSuggestionClick = (suggestion: string) => {\n    addTag(suggestion);\n    inputRef.current?.focus();\n  };\n\n  const filteredSuggestions = suggestions\n    .filter(suggestion => \n      !value.includes(suggestion) &&\n      suggestion.includes(inputValue.toUpperCase())\n    );\n\n  return (\n    <div ref={containerRef} className=\"relative\">\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n          {label}\n        </label>\n      )}\n      \n      <div\n        className={mergeClasses(\n          'flex flex-wrap items-center gap-2 min-h-[42px] w-full rounded-lg border border-gray-300 bg-white px-3 py-1.5',\n          'focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500',\n          error && 'border-red-500 focus-within:border-red-500 focus-within:ring-red-500',\n          className\n        )}\n      >\n        {value.map((tag) => (\n          <span\n            key={tag}\n            className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm bg-blue-100 text-blue-800\"\n          >\n            {tag}\n            <button\n              type=\"button\"\n              onClick={() => removeTag(tag)}\n              className=\"ml-1 p-0.5 hover:bg-blue-200 rounded-full transition-colors\"\n            >\n              <X className=\"w-3 h-3\" />\n            </button>\n          </span>\n        ))}\n\n        <div className=\"flex-1 min-w-[120px]\">\n          <input\n            ref={inputRef}\n            type=\"text\"\n            className=\"w-full outline-none bg-transparent text-gray-900 placeholder-gray-500 text-sm\"\n            value={inputValue}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            onFocus={() => setShowSuggestions(true)}\n            placeholder=\"Agregar etiqueta...\"\n          />\n        </div>\n      </div>\n\n      {error && (\n        <p className=\"mt-1 text-sm text-red-600\">{error}</p>\n      )}\n\n      {showSuggestions && inputValue && filteredSuggestions.length > 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\n          {filteredSuggestions.map((suggestion) => (\n            <button\n              key={suggestion}\n              type=\"button\"\n              className=\"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none flex items-center gap-2\"\n              onClick={() => handleSuggestionClick(suggestion)}\n            >\n              <Plus className=\"w-4 h-4 text-gray-400\" />\n              {suggestion}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { ref, onValue, push, set } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { PACKAGING_TYPES } from '@/config/constants';\n\nexport function usePackaging() {\n  const [packagingSuggestions, setPackagingSuggestions] = useState<string[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const packagingRef = ref(db, 'packaging');\n    const productsRef = ref(db, 'products');\n    \n    // Load custom packaging entries\n    const unsubscribePackaging = onValue(packagingRef, (snapshot) => {\n      const data = snapshot.val();\n      const customPackaging = data ? Object.values(data) as string[] : [];\n      \n      // Combine with default types and sort\n      const allPackaging = [...new Set([...PACKAGING_TYPES, ...customPackaging])];\n      setPackagingSuggestions(allPackaging.sort());\n      setLoading(false);\n    });\n\n    // Also monitor products for their packaging types\n    const unsubscribeProducts = onValue(productsRef, (snapshot) => {\n      const data = snapshot.val();\n      if (data) {\n        const productPackaging = Object.values(data)\n          .map((product: any) => product.packaging)\n          .filter(Boolean)\n          .map(pkg => pkg.toUpperCase());\n\n        // Update suggestions with new unique values\n        setPackagingSuggestions(prev => {\n          const newSuggestions = [...new Set([...prev, ...productPackaging])];\n          return newSuggestions.sort();\n        });\n      }\n    });\n\n    return () => {\n      unsubscribePackaging();\n      unsubscribeProducts();\n    };\n  }, []);\n\n  const addPackaging = async (packaging: string) => {\n    const packagingRef = ref(db, 'packaging');\n    const newPackagingRef = push(packagingRef);\n    await set(newPackagingRef, packaging.toUpperCase());\n  };\n\n  return {\n    packagingSuggestions,\n    loading,\n    addPackaging\n  };\n}","import { useState, useEffect } from 'react';\nimport { ref, onValue, push, set } from 'firebase/database';\nimport { db } from '@/lib/firebase';\n\nexport function useTags() {\n  const [tags, setTags] = useState<string[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const tagsRef = ref(db, 'tags');\n    const productsRef = ref(db, 'products');\n    \n    // Load custom tag entries\n    const unsubscribeTags = onValue(tagsRef, (snapshot) => {\n      const data = snapshot.val();\n      const customTags = data ? Object.values(data) as string[] : [];\n      setTags(customTags.sort());\n      setLoading(false);\n    });\n\n    // Also monitor products for their tags\n    const unsubscribeProducts = onValue(productsRef, (snapshot) => {\n      const data = snapshot.val();\n      if (data) {\n        const productTags = Object.values(data)\n          .flatMap((product: any) => product.tags || [])\n          .filter(Boolean)\n          .map(tag => tag.toUpperCase());\n\n        // Update suggestions with new unique values\n        setTags(prev => {\n          const newTags = [...new Set([...prev, ...productTags])];\n          return newTags.sort();\n        });\n      }\n    });\n\n    return () => {\n      unsubscribeTags();\n      unsubscribeProducts();\n    };\n  }, []);\n\n  const addTag = async (tag: string) => {\n    const tagsRef = ref(db, 'tags');\n    const newTagRef = push(tagsRef);\n    await set(newTagRef, tag.toUpperCase());\n  };\n\n  return {\n    tags,\n    loading,\n    addTag\n  };\n}","import { useState, useEffect } from 'react';\nimport { ref, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Product } from '@/types';\n\nconst SKU_PREFIX = 'M';\nconst SKU_PADDING = 4;\n\nexport function useSkuSuggestion() {\n  const [suggestedSku, setSuggestedSku] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const generateSku = async () => {\n      try {\n        const productsRef = ref(db, 'products');\n        const snapshot = await get(productsRef);\n\n        if (!snapshot.exists()) {\n          setSuggestedSku(`${SKU_PREFIX}${'0'.repeat(SKU_PADDING - 1)}1`);\n          return;\n        }\n\n        const products = Object.values(snapshot.val()) as Product[];\n        \n        // Filter products with SKUs that match our format\n        const skuRegex = new RegExp(`^${SKU_PREFIX}\\\\d{${SKU_PADDING}}$`);\n        const matchingSKUs = products\n          .map(p => p.sku)\n          .filter(sku => skuRegex.test(sku))\n          .map(sku => parseInt(sku.slice(SKU_PREFIX.length)));\n\n        // Find the highest number and increment\n        const nextNumber = matchingSKUs.length > 0 \n          ? Math.max(...matchingSKUs) + 1 \n          : 1;\n\n        // Format the new SKU\n        const paddedNumber = nextNumber.toString().padStart(SKU_PADDING, '0');\n        setSuggestedSku(`${SKU_PREFIX}${paddedNumber}`);\n      } catch (error) {\n        console.error('Error generating SKU suggestion:', error);\n        setSuggestedSku('');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    generateSku();\n  }, []);\n\n  return { suggestedSku, loading };\n}","import { useState } from 'react';\nimport { Product } from '@/types';\nimport { validateProduct } from '@/lib/validation/productValidation';\nimport { toast } from 'react-hot-toast';\n\ninterface UseProductFormProps {\n  initialData?: Product;\n  providerId: string;\n  onSubmit: (data: Omit<Product, 'id'>) => Promise<void>;\n}\n\nexport function useProductForm({ initialData, providerId, onSubmit }: UseProductFormProps) {\n  const [formData, setFormData] = useState<Omit<Product, 'id'>>({\n    name: initialData?.name?.toUpperCase() || '',\n    sku: initialData?.sku || '',\n    supplierCode: initialData?.supplierCode || '',\n    purchasePackaging: initialData?.purchasePackaging?.toUpperCase() || '',\n    salePackaging: initialData?.salePackaging?.toUpperCase() || '',\n    order: initialData?.order || 0,\n    price: initialData?.price || 0,\n    desiredStock: initialData?.desiredStock || 0,\n    minPackageStock: initialData?.minPackageStock || 0,\n    providerId: initialData?.providerId || providerId,\n    tags: initialData?.tags || []\n  });\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  const updateField = (field: keyof Omit<Product, 'id'>, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error when field is updated\n    if (errors[field]) {\n      setErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[field];\n        return newErrors;\n      });\n    }\n  };\n\n  const handleProviderChange = (newProviderId: string) => {\n    updateField('providerId', newProviderId);\n    // Clear supplier code when provider changes\n    updateField('supplierCode', '');\n  };\n\n  const validateForm = (): boolean => {\n    const validationError = validateProduct(formData);\n    if (validationError) {\n      setErrors({ [validationError.field]: validationError.message });\n      toast.error(validationError.message);\n      return false;\n    }\n    return true;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (isSubmitting) return;\n    \n    setErrors({});\n\n    try {\n      // Validate form\n      if (!validateForm()) return;\n\n      setIsSubmitting(true);\n\n      // Format data before submission\n      const formattedData = {\n        ...formData,\n        name: formData.name.toUpperCase(),\n        sku: formData.sku.toUpperCase(),\n        supplierCode: formData.supplierCode?.toUpperCase() || '',\n        purchasePackaging: formData.purchasePackaging.toUpperCase(),\n        salePackaging: formData.salePackaging?.toUpperCase() || '',\n        price: Number(formData.price),\n        minPackageStock: Number(formData.minPackageStock),\n        desiredStock: Number(formData.desiredStock),\n        order: Number(formData.order),\n        tags: formData.tags || []\n      };\n\n      await onSubmit(formattedData);\n    } catch (error) {\n      console.error('Error saving product:', error);\n      toast.error(error instanceof Error ? error.message : 'Error al guardar el producto');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return {\n    formData,\n    updateField,\n    handleProviderChange,\n    handleSubmit,\n    isSubmitting,\n    errors,\n    validateForm\n  };\n}","import { SECTORS } from '@/config/constants';\n\nexport type SectorColor = {\n  bg: string;\n  border: string;\n  text: string;\n};\n\nexport const SECTOR_COLORS: Record<string, SectorColor> = {\n  GRL: { bg: 'bg-gray-100', border: 'border-gray-200', text: 'text-gray-800' },\n  GFR: { bg: 'bg-green-100', border: 'border-green-200', text: 'text-green-800' },\n  GRE: { bg: 'bg-emerald-100', border: 'border-emerald-200', text: 'text-emerald-800' },\n  GTM: { bg: 'bg-teal-100', border: 'border-teal-200', text: 'text-teal-800' },\n  GPA: { bg: 'bg-amber-100', border: 'border-amber-200', text: 'text-amber-800' },\n  GSC: { bg: 'bg-orange-100', border: 'border-orange-200', text: 'text-orange-800' },\n  HEL: { bg: 'bg-blue-100', border: 'border-blue-200', text: 'text-blue-800' },\n  REF: { bg: 'bg-indigo-100', border: 'border-indigo-200', text: 'text-indigo-800' },\n  CON: { bg: 'bg-purple-100', border: 'border-purple-200', text: 'text-purple-800' },\n  FRU: { bg: 'bg-rose-100', border: 'border-rose-200', text: 'text-rose-800' },\n};\n\nexport function getSectorColor(sectorCode: string): SectorColor {\n  return SECTOR_COLORS[sectorCode] || SECTOR_COLORS.GRL;\n}","import { ref, get, update } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Product } from '@/types';\nimport { DatabaseError } from '../errors';\nimport { getSectorFromOrder, getSequenceFromOrder, calculateNewOrder } from '@/lib/order/utils';\n\nexport async function updateProductOrder(productId: string, newOrder: number): Promise<void> {\n  try {\n    // Get all products to handle reordering\n    const productsRef = ref(db, 'products');\n    const snapshot = await get(productsRef);\n    \n    if (!snapshot.exists()) {\n      throw new DatabaseError('No products found');\n    }\n\n    const products = Object.entries(snapshot.val()).map(([id, data]) => ({\n      id,\n      ...(data as Omit<Product, 'id'>)\n    }));\n\n    // Get the product being moved\n    const product = products.find(p => p.id === productId);\n    if (!product) {\n      throw new DatabaseError('Product not found');\n    }\n\n    const currentSector = getSectorFromOrder(product.order);\n    const newSector = getSectorFromOrder(newOrder);\n    const newSequence = getSequenceFromOrder(newOrder);\n\n    // Get all products in the target sector\n    const sectorProducts = products\n      .filter(p => getSectorFromOrder(p.order) === newSector)\n      .sort((a, b) => getSequenceFromOrder(a.order) - getSequenceFromOrder(b.order));\n\n    // Calculate updates for all affected products\n    const updates: Record<string, number> = {};\n\n    if (currentSector === newSector) {\n      // Moving within the same sector\n      const currentSequence = getSequenceFromOrder(product.order);\n      \n      sectorProducts.forEach(p => {\n        if (p.id === productId) return;\n\n        let newSeq = getSequenceFromOrder(p.order);\n        if (currentSequence < newSequence) {\n          // Moving forward\n          if (newSeq > currentSequence && newSeq <= newSequence) {\n            newSeq--;\n            updates[p.id] = calculateNewOrder(newSector, newSeq);\n          }\n        } else {\n          // Moving backward\n          if (newSeq >= newSequence && newSeq < currentSequence) {\n            newSeq++;\n            updates[p.id] = calculateNewOrder(newSector, newSeq);\n          }\n        }\n      });\n    } else {\n      // Moving to a different sector\n      // Shift all products in target sector from the insertion point\n      sectorProducts.forEach(p => {\n        const seq = getSequenceFromOrder(p.order);\n        if (seq >= newSequence) {\n          updates[p.id] = calculateNewOrder(newSector, seq + 1);\n        }\n      });\n    }\n\n    // Add the update for the moved product\n    updates[productId] = newOrder;\n\n    // Create the multi-path update\n    const dbUpdates = Object.entries(updates).reduce((acc, [id, order]) => ({\n      ...acc,\n      [`products/${id}/order`]: order\n    }), {});\n\n    // Perform the update\n    await update(ref(db), dbUpdates);\n  } catch (error) {\n    throw new DatabaseError('Failed to update product order', { cause: error });\n  }\n}","import { useState } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { Product } from '@/types';\nimport { updateProductOrder } from '@/lib/services/database/productOrder';\nimport { isKnownError, getErrorMessage } from '@/lib/services/errors';\n\nexport function useProductOrder() {\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const updateOrder = async (productId: string, newOrder: number) => {\n    if (isProcessing) return;\n    \n    setIsProcessing(true);\n    try {\n      await updateProductOrder(productId, newOrder);\n      toast.success('Orden actualizado correctamente');\n    } catch (error) {\n      const message = isKnownError(error) ? getErrorMessage(error) : 'Error al actualizar el orden';\n      toast.error(message);\n      throw error;\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return {\n    updateOrder,\n    isProcessing\n  };\n}","import React, { useState } from 'react';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { Button } from '@/components/ui/Button';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport { SECTORS } from '@/config/constants';\nimport { Product } from '@/types';\nimport { \n  getSectorFromOrder, \n  getSequenceFromOrder, \n  calculateNewOrder,\n  formatOrderNumber \n} from '@/lib/order/utils';\nimport { getSectorColor } from '@/lib/sectorColors';\nimport { useProductOrder } from '@/hooks/useProductOrder';\n\ninterface ProductOrderModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  product: Product;\n  products: Product[];\n}\n\nexport function ProductOrderModal({\n  isOpen,\n  onClose,\n  product,\n  products\n}: ProductOrderModalProps) {\n  const [selectedSector, setSelectedSector] = useState(getSectorFromOrder(product.order));\n  const [selectedPosition, setSelectedPosition] = useState<number>(getSequenceFromOrder(product.order));\n  const { updateOrder, isProcessing } = useProductOrder();\n\n  // Get products in selected sector\n  const sectorProducts = products\n    .filter(p => getSectorFromOrder(p.order) === selectedSector && p.id !== product.id)\n    .sort((a, b) => getSequenceFromOrder(a.order) - getSequenceFromOrder(b.order));\n\n  // Calculate max position based on current products in sector\n  const maxPosition = sectorProducts.length + 1;\n\n  // Get adjacent products based on selected position\n  const prevProduct = selectedPosition > 1 \n    ? sectorProducts[selectedPosition - 2] \n    : null;\n  const nextProduct = selectedPosition <= sectorProducts.length \n    ? sectorProducts[selectedPosition - 1]\n    : null;\n\n  const currentSectorColor = getSectorColor(getSectorFromOrder(product.order));\n  const selectedSectorColor = getSectorColor(selectedSector);\n\n  const handleSectorChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const newSector = e.target.value;\n    setSelectedSector(newSector);\n    // When changing sectors, set position to end of list\n    const sectorProductCount = products.filter(p => \n      getSectorFromOrder(p.order) === newSector && p.id !== product.id\n    ).length;\n    setSelectedPosition(sectorProductCount + 1);\n  };\n\n  const handleNavigate = (direction: 'prev' | 'next') => {\n    const newPosition = direction === 'prev' \n      ? Math.max(1, selectedPosition - 1)\n      : Math.min(maxPosition, selectedPosition + 1);\n    setSelectedPosition(newPosition);\n  };\n\n  const handleSubmit = async () => {\n    if (isProcessing) return;\n    \n    try {\n      const newOrder = calculateNewOrder(selectedSector, selectedPosition);\n      await updateOrder(product.id!, newOrder);\n      onClose();\n    } catch (error) {\n      console.error('Error updating order:', error);\n    }\n  };\n\n  return (\n    <Dialog \n      isOpen={isOpen} \n      onClose={onClose}\n      title=\"Cambiar orden del producto\"\n    >\n      <div className=\"space-y-6\">\n        {/* Product Info */}\n        <div className={`rounded-lg p-4 border ${currentSectorColor.bg} ${currentSectorColor.border}`}>\n          <div className={`text-sm font-medium ${currentSectorColor.text}`}>{product.name}</div>\n          <div className={`text-sm mt-1 ${currentSectorColor.text}`}>\n            Orden actual: {formatOrderNumber(product.order)}\n          </div>\n        </div>\n\n        {/* Sector Selection */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Sector\n          </label>\n          <select\n            value={selectedSector}\n            onChange={handleSectorChange}\n            className=\"w-full rounded-md border border-gray-300 px-3 py-2\"\n            disabled={isProcessing}\n          >\n            {SECTORS.map(sector => {\n              const sectorColor = getSectorColor(sector.code);\n              return (\n                <option \n                  key={sector.code} \n                  value={sector.code}\n                  className={`${sectorColor.bg}`}\n                >\n                  {sector.code} - {sector.name}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n\n        {/* Navigation Controls */}\n        <div className={`rounded-lg border p-4 ${selectedSectorColor.bg} ${selectedSectorColor.border}`}>\n          <div className=\"flex items-center justify-between gap-4\">\n            <button\n              type=\"button\"\n              onClick={() => handleNavigate('prev')}\n              disabled={selectedPosition <= 1 || isProcessing}\n              className={`\n                h-12 w-12 rounded-full flex items-center justify-center transition-colors\n                ${selectedPosition <= 1 || isProcessing\n                  ? 'bg-white/50 text-gray-400 cursor-not-allowed'\n                  : 'bg-white text-gray-700 hover:bg-white/80'\n                }\n              `}\n            >\n              <ChevronLeft className=\"w-6 h-6\" />\n            </button>\n\n            <div className=\"flex-1\">\n              <div className=\"bg-white rounded-lg py-3 shadow-sm\">\n                <div className=\"text-center\">\n                  <span className=\"text-2xl font-bold\">\n                    {selectedPosition}\n                  </span>\n                  <span className=\"text-sm text-gray-500 ml-2\">\n                    de {maxPosition}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <button\n              type=\"button\"\n              onClick={() => handleNavigate('next')}\n              disabled={selectedPosition >= maxPosition || isProcessing}\n              className={`\n                h-12 w-12 rounded-full flex items-center justify-center transition-colors\n                ${selectedPosition >= maxPosition || isProcessing\n                  ? 'bg-white/50 text-gray-400 cursor-not-allowed'\n                  : 'bg-white text-gray-700 hover:bg-white/80'\n                }\n              `}\n            >\n              <ChevronRight className=\"w-6 h-6\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Adjacent Products */}\n        <div className=\"grid grid-cols-2 gap-4\">\n          {/* Previous Product */}\n          <div className={`rounded-lg p-4 ${prevProduct ? 'border bg-white' : 'bg-gray-50 border-2 border-dashed'}`}>\n            <div className=\"text-xs text-gray-500 mb-1\">Anterior</div>\n            {prevProduct ? (\n              <>\n                <div className=\"text-sm font-medium text-gray-900 mb-1\">{prevProduct.name}</div>\n                <div className={`text-xs ${selectedSectorColor.text}`}>\n                  {getSequenceFromOrder(prevProduct.order)}\n                </div>\n              </>\n            ) : (\n              <div className=\"text-sm text-gray-400\">No hay producto anterior</div>\n            )}\n          </div>\n\n          {/* Next Product */}\n          <div className={`rounded-lg p-4 ${nextProduct ? 'border bg-white' : 'bg-gray-50 border-2 border-dashed'}`}>\n            <div className=\"text-xs text-gray-500 mb-1\">Siguiente</div>\n            {nextProduct ? (\n              <>\n                <div className=\"text-sm font-medium text-gray-900 mb-1\">{nextProduct.name}</div>\n                <div className={`text-xs ${selectedSectorColor.text}`}>\n                  {getSequenceFromOrder(nextProduct.order)}\n                </div>\n              </>\n            ) : (\n              <div className=\"text-sm text-gray-400\">No hay producto siguiente</div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex justify-end gap-2\">\n          <Button \n            type=\"button\"\n            variant=\"outline\" \n            onClick={onClose}\n            disabled={isProcessing}\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={handleSubmit}\n            disabled={isProcessing}\n            isLoading={isProcessing}\n          >\n            Confirmar\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n}","import React, { useState } from 'react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { TagInput } from '@/components/ui/TagInput';\nimport { TagsInput } from '@/components/ui/TagsInput';\nimport { ArrowUpDown } from 'lucide-react';\nimport { Product } from '@/types';\nimport { useProviders } from '@/hooks/useProviders';\nimport { usePackaging } from '@/hooks/usePackaging';\nimport { useTags } from '@/hooks/useTags';\nimport { useProducts } from '@/hooks/useProducts';\nimport { useSkuSuggestion } from '@/hooks/useSkuSuggestion';\nimport { useProductForm } from '@/hooks/useProductForm';\nimport { ProductOrderModal } from './ProductOrderModal';\nimport { formatOrderNumber } from '@/lib/order/utils';\nimport { getSectorFromOrder } from '@/lib/order/utils';\nimport { getSectorColor } from '@/lib/sectorColors';\n\ninterface ProductFormProps {\n  providerId: string;\n  initialData?: Product;\n  onSubmit: (data: Omit<Product, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isLoading?: boolean;\n}\n\nexport function ProductForm({\n  providerId: initialProviderId,\n  initialData,\n  onSubmit,\n  onCancel,\n  isLoading,\n}: ProductFormProps) {\n  const { providers } = useProviders();\n  const { packagingSuggestions, addPackaging } = usePackaging();\n  const { tags: tagSuggestions, addTag } = useTags();\n  const { products } = useProducts(initialProviderId);\n  const { suggestedSku, loading: skuLoading } = useSkuSuggestion();\n  const [isOrderModalOpen, setIsOrderModalOpen] = useState(false);\n\n  const {\n    formData,\n    updateField,\n    handleProviderChange,\n    handleSubmit,\n    isSubmitting,\n    errors\n  } = useProductForm({\n    initialData,\n    providerId: initialProviderId,\n    onSubmit\n  });\n\n  const handleOrderChange = async (product: Product, newOrder: number) => {\n    updateField('order', newOrder);\n    setIsOrderModalOpen(false);\n  };\n\n  const handleTagsChange = async (tags: string[]) => {\n    updateField('tags', tags);\n    \n    // Add any new tags to the suggestions\n    const newTags = tags.filter(tag => !tagSuggestions.includes(tag));\n    for (const tag of newTags) {\n      await addTag(tag);\n    }\n  };\n\n  const sectorColor = getSectorColor(getSectorFromOrder(formData.order));\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Product Name */}\n      <Input\n        label=\"Nombre del producto\"\n        value={formData.name}\n        onChange={(e) => updateField('name', e.target.value.toUpperCase())}\n        error={errors.name}\n        required\n      />\n\n      {/* SKU */}\n      <div className=\"space-y-2\">\n        <Input\n          label=\"SKU\"\n          value={formData.sku}\n          onChange={(e) => updateField('sku', e.target.value.toUpperCase())}\n          error={errors.sku}\n          required\n        />\n        {!initialData && !skuLoading && suggestedSku && (\n          <p className=\"text-sm text-blue-600\">\n            SKU sugerido: {suggestedSku}\n          </p>\n        )}\n      </div>\n\n      {/* Provider and Supplier Code */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className=\"space-y-2\">\n          <label className=\"block text-sm font-medium text-gray-700\">Proveedor</label>\n          <select\n            value={formData.providerId}\n            onChange={(e) => handleProviderChange(e.target.value)}\n            className=\"w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500\"\n          >\n            {providers.map(provider => (\n              <option key={provider.id} value={provider.id}>\n                {provider.commercialName}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <Input\n          label=\"Código de proveedor\"\n          value={formData.supplierCode}\n          onChange={(e) => updateField('supplierCode', e.target.value.toUpperCase())}\n          placeholder=\"Código asignado por el proveedor\"\n        />\n      </div>\n\n      {/* Packaging */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <TagInput\n          label=\"Empaque de Compra\"\n          value={formData.purchasePackaging}\n          onChange={async (packaging) => {\n            updateField('purchasePackaging', packaging.toUpperCase());\n            if (!packagingSuggestions.includes(packaging.toUpperCase())) {\n              await addPackaging(packaging);\n            }\n          }}\n          onRemove={() => updateField('purchasePackaging', '')}\n          suggestions={packagingSuggestions}\n          placeholder=\"Escriba y presione Enter\"\n          error={errors.purchasePackaging}\n          required\n        />\n\n        <TagInput\n          label=\"Empaque de Venta\"\n          value={formData.salePackaging}\n          onChange={async (packaging) => {\n            updateField('salePackaging', packaging.toUpperCase());\n            if (!packagingSuggestions.includes(packaging.toUpperCase())) {\n              await addPackaging(packaging);\n            }\n          }}\n          onRemove={() => updateField('salePackaging', '')}\n          suggestions={packagingSuggestions}\n          placeholder=\"Escriba y presione Enter\"\n          error={errors.salePackaging}\n        />\n      </div>\n\n      {/* Tags */}\n      <TagsInput\n        label=\"Etiquetas\"\n        value={formData.tags}\n        onChange={handleTagsChange}\n        suggestions={tagSuggestions}\n      />\n\n      {/* Order Display */}\n      <div \n        className={`rounded-lg p-4 border cursor-pointer transition-colors ${sectorColor.bg} ${sectorColor.border} hover:opacity-90`}\n        onClick={() => setIsOrderModalOpen(true)}\n      >\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <label className={`text-sm font-medium ${sectorColor.text}`}>\n              Orden del Producto\n            </label>\n            <div className={`text-lg font-bold mt-1 ${sectorColor.text}`}>\n              {formatOrderNumber(formData.order)}\n            </div>\n          </div>\n          <ArrowUpDown className={`w-5 h-5 ${sectorColor.text}`} />\n        </div>\n      </div>\n\n      {/* Price */}\n      <Input\n        label=\"Precio\"\n        value={formData.price}\n        onChange={(e) => updateField('price', parseFloat(e.target.value) || 0)}\n        error={errors.price}\n        min={0}\n        required\n        isCurrency\n      />\n\n      {/* Stock */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <Input\n          label=\"Stock mínimo\"\n          type=\"number\"\n          value={formData.minPackageStock}\n          onChange={(e) => updateField('minPackageStock', parseInt(e.target.value) || 0)}\n          error={errors.minPackageStock}\n          min={0}\n          required\n        />\n\n        <Input\n          label=\"Stock deseado\"\n          type=\"number\"\n          value={formData.desiredStock}\n          onChange={(e) => updateField('desiredStock', parseInt(e.target.value) || 0)}\n          error={errors.desiredStock}\n          min={0}\n          required\n        />\n      </div>\n\n      {/* Form Actions */}\n      <div className=\"flex justify-end space-x-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n          Cancelar\n        </Button>\n        <Button type=\"submit\" isLoading={isLoading || isSubmitting}>\n          {initialData ? 'Actualizar' : 'Crear'} Producto\n        </Button>\n      </div>\n\n      {/* Order Modal */}\n      {initialData && (\n        <ProductOrderModal\n          isOpen={isOrderModalOpen}\n          onClose={() => setIsOrderModalOpen(false)}\n          product={initialData}\n          products={products}\n          onOrderChange={handleOrderChange}\n        />\n      )}\n    </form>\n  );\n}","import React from 'react';\nimport { X } from 'lucide-react';\nimport { ProductForm } from './ProductForm';\nimport { Product } from '@/types';\n\ninterface FullscreenProductFormProps {\n  providerId: string;\n  initialData?: Product;\n  onSubmit: (data: Omit<Product, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isLoading?: boolean;\n}\n\nexport function FullscreenProductForm({\n  providerId,\n  initialData,\n  onSubmit,\n  onCancel,\n  isLoading\n}: FullscreenProductFormProps) {\n  return (\n    <div className=\"fixed inset-0 bg-white z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"border-b bg-white\">\n        <div className=\"flex items-center justify-between px-3 h-14\">\n          <h2 className=\"text-lg font-semibold\">\n            {initialData ? 'Editar' : 'Nuevo'} Producto\n          </h2>\n          <button\n            onClick={onCancel}\n            disabled={isLoading}\n            className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        <div className=\"h-full overflow-y-auto\">\n          <div className=\"container mx-auto max-w-2xl px-3 py-4\">\n            <ProductForm\n              providerId={providerId}\n              initialData={initialData}\n              onSubmit={onSubmit}\n              onCancel={onCancel}\n              isLoading={isLoading}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Package, Archive, Pencil, Trash2, ArrowUpDown } from 'lucide-react';\nimport { Product } from '@/types';\nimport { formatPrice, formatOrderNumber } from '@/lib/utils';\nimport { Button } from '@/components/ui/Button';\nimport { FullscreenProductForm } from '@/components/products/FullscreenProductForm';\n\ninterface ProductCardProps {\n  product: Product;\n  onEdit: (product: Product) => void;\n  onDelete: (product: Product) => void;\n  providerId: string;\n}\n\nexport function ProductCard({\n  product,\n  onEdit,\n  onDelete,\n  providerId\n}: ProductCardProps) {\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\n\n  const handleUpdate = async (data: Omit<Product, 'id'>) => {\n    setIsSubmitting(true);\n    try {\n      await onEdit(product);\n      setIsEditing(false);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow p-4\">\n        <div className=\"space-y-4\">\n          {/* Product Name */}\n          <h3 className=\"text-lg font-semibold text-gray-900 truncate\">\n            {product.name}\n          </h3>\n\n          {/* Details */}\n          <div className=\"grid grid-cols-2 gap-3 text-sm text-gray-600\">\n            <div className=\"flex items-center\">\n              <Package className=\"w-4 h-4 mr-1.5 flex-shrink-0 text-gray-500\" />\n              <span className=\"truncate\">{product.purchasePackaging}</span>\n            </div>\n            <div className=\"flex items-center\">\n              <Archive className=\"w-4 h-4 mr-1.5 flex-shrink-0 text-gray-500\" />\n              <span>Stock: {product.minPackageStock} - {product.desiredStock}</span>\n            </div>\n          </div>\n\n          {/* Order Number */}\n          <div className=\"flex items-center text-sm text-gray-500\">\n            <ArrowUpDown className=\"w-4 h-4 mr-1.5 text-gray-400\" />\n            <span>Orden: {formatOrderNumber(product.order)}</span>\n          </div>\n\n          {/* Actions with Price */}\n          <div className=\"flex items-center justify-between gap-2 pt-2 border-t\">\n            <div className=\"text-xl font-bold text-blue-600\">\n              {formatPrice(product.price)}\n            </div>\n            <div className=\"flex gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setIsEditing(true)}\n              >\n                <Pencil className=\"w-4 h-4 mr-2\" />\n                Editar\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => onDelete(product)}\n                className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n              >\n                <Trash2 className=\"w-4 h-4 mr-2\" />\n                Eliminar\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Fullscreen Edit Form */}\n      {isEditing && (\n        <FullscreenProductForm\n          providerId={providerId}\n          initialData={product}\n          onSubmit={handleUpdate}\n          onCancel={() => setIsEditing(false)}\n          isLoading={isSubmitting}\n        />\n      )}\n    </>\n  );\n}","import { useState, useEffect } from 'react';\n\nexport function useMediaQuery(query: string): boolean {\n  const [matches, setMatches] = useState(false);\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(query);\n    setMatches(mediaQuery.matches);\n\n    const handler = (event: MediaQueryListEvent) => {\n      setMatches(event.matches);\n    };\n\n    mediaQuery.addEventListener('change', handler);\n    return () => mediaQuery.removeEventListener('change', handler);\n  }, [query]);\n\n  return matches;\n}","import React from 'react';\nimport { Product } from '@/types';\nimport { ProductCard } from './ProductCard';\nimport { useMediaQuery } from '@/hooks/useMediaQuery';\n\ninterface ProductCarouselProps {\n  products: Product[];\n  onEdit: (product: Product) => void;\n  onDelete: (product: Product) => void;\n  onOrderChange: (product: Product, newOrder: number) => Promise<void>;\n  customRender?: (product: Product) => React.ReactNode;\n}\n\nexport function ProductCarousel({ \n  products, \n  onEdit, \n  onDelete,\n  onOrderChange,\n  customRender \n}: ProductCarouselProps) {\n  const isLargeScreen = useMediaQuery('(min-width: 1024px)');\n\n  // Sort products by order\n  const sortedProducts = [...products].sort((a, b) => a.order - b.order);\n\n  const renderProduct = (product: Product) => {\n    if (customRender) {\n      return customRender(product);\n    }\n    return (\n      <ProductCard\n        key={product.id}\n        product={product}\n        products={sortedProducts}\n        onEdit={onEdit}\n        onDelete={onDelete}\n        onOrderChange={onOrderChange}\n      />\n    );\n  };\n\n  if (isLargeScreen) {\n    return (\n      <div className=\"grid grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-3\">\n        {sortedProducts.map((product) => (\n          <div key={product.id}>\n            {renderProduct(product)}\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {sortedProducts.map((product) => (\n        <div key={product.id}>{renderProduct(product)}</div>\n      ))}\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { Search, Tag, Building2 } from 'lucide-react';\nimport { ref, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Input } from '@/components/ui/Input';\nimport { Product, Provider } from '@/types';\nimport { formatPrice } from '@/lib/utils';\nimport { formatOrderNumber } from '@/lib/order/utils';\nimport { toast } from 'react-hot-toast';\n\ninterface ProductSearchProps {\n  onProductSelect: (product: Product) => void;\n}\n\nexport function GlobalProductSearch({ onProductSelect }: ProductSearchProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<(Product & { provider?: Provider })[]>([]);\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\n  const [providers, setProviders] = useState<Record<string, Provider>>({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [productsSnapshot, providersSnapshot] = await Promise.all([\n          get(ref(db, 'products')),\n          get(ref(db, 'providers'))\n        ]);\n        \n        if (productsSnapshot.exists()) {\n          const productsData = productsSnapshot.val();\n          const productsList = Object.entries(productsData).map(([id, product]) => ({\n            id,\n            ...(product as Omit<Product, 'id'>)\n          }));\n          setAllProducts(productsList);\n        }\n\n        if (providersSnapshot.exists()) {\n          const providersData = providersSnapshot.val();\n          setProviders(providersData);\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        toast.error('Error al buscar productos');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    const searchTermLower = searchTerm.toLowerCase();\n    \n    const results = allProducts\n      .filter(product => \n        product.name.toLowerCase().includes(searchTermLower) ||\n        formatOrderNumber(product.order).toLowerCase().includes(searchTermLower) ||\n        product.tags?.some(tag => tag.toLowerCase().includes(searchTermLower))\n      )\n      .map(product => ({\n        ...product,\n        provider: providers[product.providerId]\n      }))\n      .sort((a, b) => {\n        const aNameMatch = a.name.toLowerCase().startsWith(searchTermLower);\n        const bNameMatch = b.name.toLowerCase().startsWith(searchTermLower);\n        if (aNameMatch && !bNameMatch) return -1;\n        if (!aNameMatch && bNameMatch) return 1;\n\n        const aTagMatch = a.tags?.some(tag => tag.toLowerCase().startsWith(searchTermLower));\n        const bTagMatch = b.tags?.some(tag => tag.toLowerCase().startsWith(searchTermLower));\n        if (aTagMatch && !bTagMatch) return -1;\n        if (!aTagMatch && bTagMatch) return 1;\n\n        return a.name.localeCompare(b.name);\n      })\n      .slice(0, 5);\n\n    setSearchResults(results);\n  }, [searchTerm, allProducts, providers]);\n\n  const handleProductSelect = (product: Product) => {\n    onProductSelect(product);\n    setSearchTerm('');\n    setSearchResults([]);\n  };\n\n  return (\n    <div className=\"relative mb-6\">\n      <div className=\"relative\">\n        <Input\n          placeholder=\"Buscar productos en todos los proveedores...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"pl-10 bg-blue-50 border-blue-200 focus:border-blue-400 focus:ring-blue-400 placeholder-blue-400\"\n        />\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-blue-400\" />\n      </div>\n\n      {searchResults.length > 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-blue-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\n          {searchResults.map((product) => (\n            <button\n              key={product.id}\n              onClick={() => handleProductSelect(product)}\n              className=\"w-full px-4 py-2 text-left hover:bg-blue-50 focus:bg-blue-50 focus:outline-none\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"min-w-0\">\n                  <div className=\"font-medium text-gray-900\">{product.name}</div>\n                  <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n                    <Building2 className=\"w-3 h-3\" />\n                    <span className=\"truncate\">\n                      {product.provider?.commercialName}\n                    </span>\n                  </div>\n                  {product.tags && product.tags.length > 0 && (\n                    <div className=\"flex items-center gap-1 mt-1\">\n                      <Tag className=\"w-3 h-3 text-blue-400\" />\n                      <div className=\"flex flex-wrap gap-1\">\n                        {product.tags.map(tag => (\n                          <span\n                            key={tag}\n                            className=\"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-600\"\n                          >\n                            {tag}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n                <div className=\"text-blue-600 font-medium\">\n                  {formatPrice(product.price)}\n                </div>\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n\n      {isLoading && searchTerm && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-blue-200 rounded-lg shadow-lg p-4 text-center text-gray-500\">\n          Buscando productos...\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { Search } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\nimport { Product } from '@/types';\nimport { formatOrderNumber } from '@/lib/order/utils';\n\ninterface ProviderProductSearchProps {\n  products: Product[];\n  onFilter: (filteredProducts: Product[]) => void;\n}\n\nexport function ProviderProductSearch({ products, onFilter }: ProviderProductSearchProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  useEffect(() => {\n    if (!searchTerm.trim()) {\n      onFilter(products);\n      return;\n    }\n\n    const searchTermLower = searchTerm.toLowerCase();\n    const filtered = products.filter(product => \n      product.name.toLowerCase().includes(searchTermLower) ||\n      formatOrderNumber(product.order).toLowerCase().includes(searchTermLower) ||\n      product.sku.toLowerCase().includes(searchTermLower) ||\n      product.tags?.some(tag => tag.toLowerCase().includes(searchTermLower))\n    );\n\n    onFilter(filtered);\n  }, [searchTerm, products, onFilter]);\n\n  return (\n    <div className=\"relative\">\n      <div className=\"relative\">\n        <Input\n          placeholder=\"Filtrar productos del proveedor...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"pl-10 bg-amber-50 border-amber-200 focus:border-amber-400 focus:ring-amber-400 placeholder-amber-400\"\n        />\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-amber-400\" />\n      </div>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Plus } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport { Button } from '@/components/ui/Button';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { SearchableSelect } from '@/components/ui/SearchableSelect';\nimport { useProviders } from '@/hooks/useProviders';\nimport { useProducts } from '@/hooks/useProducts';\nimport { useProductUpdate } from '@/hooks/useProductUpdate';\nimport { ProductCarousel } from '@/components/products/ProductCarousel';\nimport { GlobalProductSearch } from '@/components/products/GlobalProductSearch';\nimport { ProviderProductSearch } from '@/components/products/ProviderProductSearch';\nimport { FullscreenProductForm } from '@/components/products/FullscreenProductForm';\nimport { Product } from '@/types';\nimport { SECTORS } from '@/config/constants';\nimport { calculateNewOrder, getSectorFromOrder } from '@/lib/order/utils';\n\nexport function Products() {\n  const { providers } = useProviders();\n  const [selectedProviderId, setSelectedProviderId] = useState<string>('');\n  const { products, loading, addProduct, deleteProduct } = useProducts(selectedProviderId);\n  const { updateProduct, isProcessing: isUpdating } = useProductUpdate();\n  const [filteredProducts, setFilteredProducts] = useState<Product[]>([]);\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [productToDelete, setProductToDelete] = useState<Product | null>(null);\n\n  const handleSubmit = async (data: Omit<Product, 'id'>) => {\n    setIsSubmitting(true);\n    try {\n      if (editingProduct) {\n        await updateProduct(editingProduct, data);\n      } else {\n        // For new products, calculate order at the end of the first sector\n        const defaultSector = SECTORS[0].code;\n        const sectorProducts = products.filter(p => getSectorFromOrder(p.order) === defaultSector);\n        const newOrder = calculateNewOrder(defaultSector, sectorProducts.length + 1);\n        \n        await addProduct({ ...data, order: newOrder });\n        toast.success('Producto creado exitosamente');\n      }\n      handleCloseForm();\n    } catch (error) {\n      console.error('Error saving product:', error);\n      toast.error('Error al guardar el producto');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleOrderChange = async (product: Product, newOrder: number) => {\n    try {\n      await updateProduct(product, { order: newOrder });\n    } catch (error) {\n      console.error('Error updating order:', error);\n      toast.error('Error al actualizar el orden');\n    }\n  };\n\n  const handleDelete = async (product: Product) => {\n    setProductToDelete(product);\n  };\n\n  const confirmDelete = async () => {\n    if (!productToDelete) return;\n    \n    try {\n      await deleteProduct(productToDelete.id!);\n      toast.success('Producto eliminado exitosamente');\n      setProductToDelete(null);\n    } catch (error) {\n      toast.error('Ocurrió un error al eliminar el producto');\n    }\n  };\n\n  const handleCloseForm = () => {\n    setIsFormOpen(false);\n    setEditingProduct(null);\n  };\n\n  const handleEdit = (product: Product) => {\n    setEditingProduct(product);\n    setIsFormOpen(true);\n  };\n\n  const handleGlobalProductSelect = (product: Product) => {\n    setEditingProduct(product);\n    setIsFormOpen(true);\n  };\n\n  const providerOptions = providers.map(provider => ({\n    value: provider.id!,\n    label: provider.commercialName\n  }));\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Global Product Search */}\n      <GlobalProductSearch onProductSelect={handleGlobalProductSelect} />\n\n      {/* Provider Selection and New Product Button */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center gap-3\">\n        <div className=\"flex-1 max-w-xs\">\n          <SearchableSelect\n            options={providerOptions}\n            value={selectedProviderId}\n            onChange={(value) => {\n              setSelectedProviderId(value);\n              setFilteredProducts([]);\n            }}\n            placeholder=\"Seleccionar Proveedor\"\n          />\n        </div>\n\n        {selectedProviderId && (\n          <Button onClick={() => setIsFormOpen(true)}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Nuevo Producto\n          </Button>\n        )}\n      </div>\n\n      {/* Product Form */}\n      {isFormOpen && (\n        <FullscreenProductForm\n          providerId={editingProduct?.providerId || selectedProviderId}\n          initialData={editingProduct || undefined}\n          onSubmit={handleSubmit}\n          onCancel={handleCloseForm}\n          isLoading={isSubmitting || isUpdating}\n        />\n      )}\n\n      {/* Main Content */}\n      {selectedProviderId ? (\n        loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n          </div>\n        ) : (\n          !isFormOpen && (\n            <>\n              <ProviderProductSearch\n                products={products}\n                onFilter={setFilteredProducts}\n              />\n              <ProductCarousel\n                products={filteredProducts.length > 0 ? filteredProducts : products}\n                onEdit={handleEdit}\n                onDelete={handleDelete}\n                onOrderChange={handleOrderChange}\n              />\n            </>\n          )\n        )\n      ) : (\n        <div className=\"flex items-center justify-center h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n          <p className=\"text-gray-500 text-center px-4\">\n            Seleccione un proveedor para ver sus productos\n          </p>\n        </div>\n      )}\n\n      {/* Delete Confirmation Dialog */}\n      <Dialog\n        isOpen={!!productToDelete}\n        onClose={() => setProductToDelete(null)}\n        title=\"Eliminar producto\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-amber-600\">\n            ¿Está seguro que desea eliminar el producto \"{productToDelete?.name}\"?\n          </p>\n          <div className=\"flex justify-end space-x-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setProductToDelete(null)}\n            >\n              Cancelar\n            </Button>\n            <Button onClick={confirmDelete}>\n              Eliminar\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { orderService } from '@/lib/services/orders';\nimport { Order } from '@/types';\nimport { toast } from 'react-hot-toast';\n\nexport function useOrders(providerId?: string) {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let unsubscribe: (() => void) | undefined;\n\n    const setupSubscription = async () => {\n      if (!providerId) {\n        setOrders([]);\n        setLoading(false);\n        return;\n      }\n\n      try {\n        // Initial load\n        const initialOrders = await orderService.getByProvider(providerId);\n        if (initialOrders) {\n          setOrders(initialOrders);\n        }\n\n        // Setup real-time subscription\n        unsubscribe = orderService.subscribeToProviderOrders(providerId, (updatedOrders) => {\n          console.log('Orders updated:', updatedOrders);\n          setOrders(updatedOrders);\n        });\n      } catch (error) {\n        console.error('Error setting up orders subscription:', error);\n        toast.error('Error al cargar las órdenes');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    setupSubscription();\n\n    return () => {\n      if (unsubscribe) {\n        unsubscribe();\n      }\n    };\n  }, [providerId]);\n\n  const addOrder = async (order: Omit<Order, 'id'>) => {\n    try {\n      return await orderService.create(order);\n    } catch (error) {\n      console.error('Error creating order:', error);\n      toast.error('Error al crear la orden');\n      throw error;\n    }\n  };\n\n  const updateOrder = async (id: string, order: Partial<Order>) => {\n    try {\n      await orderService.update(id, order);\n    } catch (error) {\n      console.error('Error updating order:', error);\n      toast.error('Error al actualizar la orden');\n      throw error;\n    }\n  };\n\n  const deleteOrder = async (id: string) => {\n    try {\n      await orderService.delete(id);\n    } catch (error) {\n      console.error('Error deleting order:', error);\n      toast.error('Error al eliminar la orden');\n      throw error;\n    }\n  };\n\n  return {\n    orders,\n    loading,\n    addOrder,\n    updateOrder,\n    deleteOrder,\n  };\n}","\nimport { useState, useEffect } from 'react';\nimport { ref, onValue } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Order } from '@/types';\n\nexport function useGlobalOrders() {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const ordersRef = ref(db, 'orders');\n    \n    const unsubscribe = onValue(ordersRef, (snapshot) => {\n      if (!snapshot.exists()) {\n        setOrders([]);\n        setLoading(false);\n        return;\n      }\n\n      const ordersData = Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Order, 'id'>)\n      }));\n\n      // Sort orders by date in descending order\n      const sortedOrders = ordersData.sort((a, b) => \n        new Date(b.date).getTime() - new Date(a.date).getTime()\n      );\n\n      setOrders(sortedOrders);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return { orders, loading };\n}","import { Order, Product } from '@/types';\nimport { BUSINESS_INFO } from '@/config/constants';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { fromTimestamp } from '@/lib/dateUtils';\n\n// 80mm thermal printer settings\nconst PRINT_WIDTH = 48;\n\nfunction formatHeader(date: number): string[] {\n  const dateStr = format(fromTimestamp(date), \"dd/MM/yyyy HH:mm\", { locale: es });\n  return [\n    `Pedido Fecha: ${dateStr}`,\n    BUSINESS_INFO.name,\n    BUSINESS_INFO.owner,\n    ''\n  ];\n}\n\nfunction formatProductLine(quantity: number, packaging: string, name: string): string {\n  const qtyCol = `${quantity} ${packaging}`.padEnd(15);\n  return `${qtyCol}${name}`;\n}\n\nfunction formatProducts(products: Product[], items: Order['items']): string[] {\n  // Sort items by product order\n  return items\n    .sort((a, b) => {\n      const productA = products.find(p => p.id === a.productId);\n      const productB = products.find(p => p.id === b.productId);\n      if (!productA || !productB) return 0;\n      return productA.order - productB.order;\n    })\n    .map(item => {\n      const product = products.find(p => p.id === item.productId);\n      if (!product) return null;\n      return formatProductLine(item.quantity, product.purchasePackaging, product.name);\n    })\n    .filter((line): line is string => line !== null);\n}\n\nexport function formatReport(order: Order, products: Product[], isWhatsApp: boolean = false): string {\n  if (isWhatsApp) {\n    const header = [\n      `Pedido Fecha: ${format(fromTimestamp(order.date), \"dd/MM/yyyy HH:mm\", { locale: es })}`,\n      BUSINESS_INFO.name,\n      BUSINESS_INFO.owner,\n      ''\n    ];\n\n    const items = order.items\n      .sort((a, b) => {\n        const productA = products.find(p => p.id === a.productId);\n        const productB = products.find(p => p.id === b.productId);\n        if (!productA || !productB) return 0;\n        return productA.order - productB.order;\n      })\n      .map(item => {\n        const product = products.find(p => p.id === item.productId);\n        if (!product) return null;\n        return `• *${item.quantity} ${product.purchasePackaging}* - ${product.name}`;\n      })\n      .filter(Boolean);\n\n    return [...header, ...items].join('\\n');\n  }\n\n  // Thermal printer format\n  const header = formatHeader(order.date);\n  const formattedProducts = formatProducts(products, order.items);\n\n  return [\n    ...header,\n    ...formattedProducts,\n    ''\n  ].join('\\n');\n}","import { Order, Product } from '@/types';\nimport { formatReport } from './reportUtils';\n\nexport function formatWhatsAppReport(\n  order: Order,\n  products: Product[],\n  provider: { commercialName: string; legalName?: string }\n): string {\n  return formatReport(order, products, true);\n}","import { Order, Product } from '@/types';\nimport { BUSINESS_INFO } from '@/config/constants';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { fromTimestamp } from '@/lib/dateUtils';\n\nexport function generatePrintTemplate(order: Order, products: Product[]): string {\n  const date = format(fromTimestamp(order.date), \"dd/MM/yyyy HH:mm\", { locale: es });\n  \n  // Sort items by product order\n  const sortedItems = order.items\n    .sort((a, b) => {\n      const productA = products.find(p => p.id === a.productId);\n      const productB = products.find(p => p.id === b.productId);\n      if (!productA || !productB) return 0;\n      return productA.order - productB.order;\n    });\n\n  // Generate products HTML\n  const productsHtml = sortedItems\n    .map(item => {\n      const product = products.find(p => p.id === item.productId);\n      if (!product) return '';\n      return `\n        <tr>\n          <td class=\"quantity\">${item.quantity} ${product.purchasePackaging}</td>\n          <td class=\"name\">${product.name}</td>\n        </tr>\n      `;\n    })\n    .join('');\n\n  return `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"UTF-8\">\n        <title>Orden de Compra</title>\n        <style>\n          /* Reset */\n          * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n          }\n\n          /* Base styles - visible in both screen and print */\n          body {\n            font-family: 'Courier New', monospace;\n            font-size: 14px;\n            line-height: 1.4;\n            width: 210mm; /* A4 width */\n            max-width: 100%;\n            margin: 0 auto;\n            padding: 20mm;\n            background: white;\n          }\n\n          .header {\n            text-align: center;\n            margin-bottom: 10mm;\n            padding-bottom: 5mm;\n            border-bottom: 1px solid #e5e7eb;\n          }\n\n          .header div {\n            margin-bottom: 2mm;\n          }\n\n          .header .title {\n            font-size: 24px;\n            font-weight: bold;\n            margin-bottom: 4mm;\n          }\n\n          .header .date {\n            font-size: 16px;\n            color: #4b5563;\n          }\n\n          .header .business {\n            font-size: 18px;\n            margin-top: 4mm;\n          }\n\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 5mm;\n          }\n\n          tr {\n            border-bottom: 1px solid #e5e7eb;\n          }\n\n          tr:last-child {\n            border-bottom: none;\n          }\n\n          td {\n            padding: 3mm 2mm;\n          }\n\n          td.quantity {\n            white-space: nowrap;\n            padding-right: 5mm;\n            width: 20%;\n            font-weight: bold;\n          }\n\n          td.name {\n            word-break: break-word;\n          }\n\n          .error-message {\n            position: fixed;\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background-color: #fee2e2;\n            color: #991b1b;\n            padding: 12px 24px;\n            border-radius: 6px;\n            border: 1px solid #fecaca;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            z-index: 1000;\n            text-align: center;\n            max-width: 90%;\n          }\n\n          #print-button {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 10px 20px;\n            background: #2563eb;\n            color: white;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-size: 14px;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n            transition: background-color 0.2s;\n          }\n\n          #print-button:hover {\n            background: #1d4ed8;\n          }\n\n          #print-button:disabled {\n            background: #9ca3af;\n            cursor: not-allowed;\n          }\n\n          /* Print-specific styles */\n          @media print {\n            @page {\n              size: A4;\n              margin: 20mm;\n            }\n\n            body {\n              width: 100%;\n              margin: 0;\n              padding: 0;\n              -webkit-print-color-adjust: exact;\n              print-color-adjust: exact;\n            }\n\n            #print-button,\n            .error-message {\n              display: none;\n            }\n\n            tr {\n              page-break-inside: avoid;\n            }\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"header\">\n          <div class=\"title\">Orden de Compra</div>\n          <div class=\"date\">Fecha: ${date}</div>\n          <div class=\"business\">\n            <div>${BUSINESS_INFO.name}</div>\n            <div>${BUSINESS_INFO.owner}</div>\n          </div>\n        </div>\n\n        <table>\n          <tbody>\n            ${productsHtml}\n          </tbody>\n        </table>\n\n        <button id=\"print-button\" onclick=\"handlePrint()\">\n          Imprimir\n        </button>\n\n        <script>\n          let isPrinting = false;\n          let retryCount = 0;\n          const MAX_RETRIES = 3;\n\n          function showError(message) {\n            // Remove any existing error messages\n            const existingError = document.querySelector('.error-message');\n            if (existingError) {\n              existingError.remove();\n            }\n\n            const errorDiv = document.createElement('div');\n            errorDiv.className = 'error-message';\n            errorDiv.textContent = message;\n            document.body.appendChild(errorDiv);\n\n            // Enable print button\n            const printButton = document.getElementById('print-button');\n            if (printButton) {\n              printButton.disabled = false;\n            }\n          }\n\n          function handlePrint() {\n            if (isPrinting) return;\n\n            try {\n              const printButton = document.getElementById('print-button');\n              printButton.disabled = true;\n              isPrinting = true;\n\n              window.print();\n\n              // Handle print completion\n              window.onafterprint = () => {\n                isPrinting = false;\n                setTimeout(() => {\n                  window.close();\n                }, 100);\n              };\n\n              // Fallback if onafterprint is not supported\n              setTimeout(() => {\n                if (!window.closed && isPrinting) {\n                  isPrinting = false;\n                  printButton.disabled = false;\n                  \n                  if (retryCount < MAX_RETRIES) {\n                    retryCount++;\n                    showError('La impresión está tardando más de lo esperado. Intente nuevamente.');\n                  } else {\n                    showError('No se pudo completar la impresión. Por favor, cierre esta ventana e intente nuevamente.');\n                  }\n                }\n              }, 2000);\n\n            } catch (error) {\n              console.error('Print error:', error);\n              isPrinting = false;\n              showError('Error al imprimir. Por favor, intente nuevamente.');\n            }\n          }\n\n          // Auto-print on load\n          window.onload = () => {\n            try {\n              // Short delay to ensure content is rendered\n              setTimeout(handlePrint, 500);\n            } catch (error) {\n              console.error('Print error:', error);\n              showError('Error al iniciar la impresión. Por favor, use el botón Imprimir.');\n            }\n          };\n\n          // Global error handler\n          window.onerror = (message, source, lineno, colno, error) => {\n            console.error('Print error:', { message, source, lineno, colno, error });\n            showError('Ocurrió un error inesperado. Por favor, intente nuevamente.');\n            return false;\n          };\n        </script>\n      </body>\n    </html>\n  `;\n}","import React from 'react';\nimport { Order, Product, Provider } from '@/types';\nimport { formatReport } from '@/lib/utils/formatting/reportUtils';\nimport { formatPrice } from '@/lib/utils';\n\ninterface OrderSummaryProps {\n  order: Order;\n  products: Product[];\n  provider: Provider;\n  preview?: boolean;\n}\n\nexport function OrderSummary({ order, products, provider, preview = true }: OrderSummaryProps) {\n  // Sort items by product order\n  const sortedItems = [...order.items].sort((a, b) => {\n    const productA = products.find(p => p.id === a.productId);\n    const productB = products.find(p => p.id === b.productId);\n    if (!productA || !productB) return 0;\n    return productA.order - productB.order;\n  });\n\n  // Get formatted report\n  const report = formatReport(order, products, preview);\n\n  // For preview (modals, etc), use the monospace font and preserve formatting\n  return (\n    <div className=\"font-mono text-sm bg-gray-50 p-4 rounded-lg overflow-x-auto whitespace-pre-wrap\">\n      {report}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Share2, Printer } from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { Order, Product, Provider } from '@/types';\nimport { formatWhatsAppReport } from '@/lib/utils/formatting/whatsappReport';\nimport { generateWhatsAppLink } from '@/lib/utils';\nimport { generatePrintTemplate } from '@/lib/utils/formatting/printTemplate';\nimport { useOrders } from '@/hooks/useOrders';\nimport { OrderSummary } from './OrderSummary';\nimport { toast } from 'react-hot-toast';\n\ninterface OrderActionsProps {\n  order: Order;\n  products: Product[];\n  provider: Provider | undefined;\n}\n\nexport function OrderActions({ order, products, provider }: OrderActionsProps) {\n  const [isWhatsAppDialogOpen, setIsWhatsAppDialogOpen] = useState(false);\n  const [isPrintDialogOpen, setIsPrintDialogOpen] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const { updateOrder } = useOrders(provider?.id);\n\n  if (!provider) {\n    return null;\n  }\n\n  const handleWhatsAppConfirm = async () => {\n    if (!provider.phone) {\n      toast.error('Este proveedor no tiene número de teléfono registrado');\n      return;\n    }\n\n    setIsProcessing(true);\n    try {\n      await updateOrder(order.id!, { \n        ...order,\n        status: 'completed' \n      });\n      const message = formatWhatsAppReport(order, products, provider);\n      const whatsappUrl = generateWhatsAppLink(provider.phone, message);\n      window.open(whatsappUrl, '_blank');\n      setIsWhatsAppDialogOpen(false);\n    } catch (error) {\n      console.error('Error updating order status:', error);\n      toast.error('Error al actualizar el estado de la orden');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handlePrintConfirm = async () => {\n    setIsProcessing(true);\n    try {\n      await updateOrder(order.id!, {\n        ...order,\n        status: 'completed'\n      });\n      \n      const template = generatePrintTemplate(order, products);\n      const printWindow = window.open('', '_blank', 'width=300,height=600,scrollbars=yes');\n      \n      if (!printWindow) {\n        throw new Error('No se pudo crear la ventana de impresión');\n      }\n\n      printWindow.document.write(template);\n      printWindow.document.close();\n      \n      // Focus the new window\n      printWindow.focus();\n\n      setIsPrintDialogOpen(false);\n    } catch (error) {\n      console.error('Error printing order:', error);\n      toast.error('Error al imprimir la orden');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"flex flex-col sm:flex-row gap-2\">\n        {provider.phone && (\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => setIsWhatsAppDialogOpen(true)}\n            className=\"text-green-600 hover:text-green-700 hover:bg-green-50 w-full sm:w-auto\"\n            disabled={isProcessing}\n          >\n            <Share2 className=\"w-4 h-4 mr-2\" />\n            WhatsApp\n          </Button>\n        )}\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={() => setIsPrintDialogOpen(true)}\n          disabled={isProcessing}\n          className=\"w-full sm:w-auto\"\n        >\n          <Printer className=\"w-4 h-4 mr-2\" />\n          Imprimir\n        </Button>\n      </div>\n\n      <Dialog\n        isOpen={isWhatsAppDialogOpen}\n        onClose={() => setIsWhatsAppDialogOpen(false)}\n        title=\"Confirmar envío por WhatsApp\"\n      >\n        <div className=\"space-y-4\">\n          <p>¿Desea enviar el siguiente pedido por WhatsApp?</p>\n          <OrderSummary\n            order={order}\n            products={products}\n            provider={provider}\n            preview={true}\n          />\n          <div className=\"flex flex-col sm:flex-row gap-2 sm:justify-end\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsWhatsAppDialogOpen(false)}\n              disabled={isProcessing}\n              className=\"w-full sm:w-auto\"\n            >\n              Cancelar\n            </Button>\n            <Button\n              onClick={handleWhatsAppConfirm}\n              className=\"bg-green-600 hover:bg-green-700 w-full sm:w-auto\"\n              isLoading={isProcessing}\n            >\n              Enviar\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n\n      <Dialog\n        isOpen={isPrintDialogOpen}\n        onClose={() => setIsPrintDialogOpen(false)}\n        title=\"Confirmar impresión\"\n      >\n        <div className=\"space-y-4\">\n          <p>¿Desea imprimir el siguiente pedido?</p>\n          <OrderSummary\n            order={order}\n            products={products}\n            provider={provider}\n            preview={false}\n          />\n          <div className=\"flex flex-col sm:flex-row gap-2 sm:justify-end\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsPrintDialogOpen(false)}\n              disabled={isProcessing}\n              className=\"w-full sm:w-auto\"\n            >\n              Cancelar\n            </Button>\n            <Button \n              onClick={handlePrintConfirm}\n              isLoading={isProcessing}\n              className=\"w-full sm:w-auto\"\n            >\n              Imprimir\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </>\n  );\n}","import React from 'react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { CheckCircle, Clock } from 'lucide-react';\nimport { Order, Product, Provider } from '@/types';\nimport { OrderActions } from './OrderActions';\nimport { formatPrice } from '@/lib/utils';\nimport { useProviders } from '@/hooks/useProviders';\n\ninterface OrderListProps {\n  orders: Order[];\n  products: Product[];\n  provider: Provider | undefined;\n  onSelect: (order: Order, orderNumber: number) => void;\n}\n\nexport function OrderList({ \n  orders, \n  products, \n  provider, \n  onSelect\n}: OrderListProps) {\n  const { providers } = useProviders();\n\n  // Sort orders by date in descending order\n  const sortedOrders = [...orders].sort((a, b) => \n    new Date(b.date).getTime() - new Date(a.date).getTime()\n  );\n\n  return (\n    <div className=\"space-y-4\">\n      {sortedOrders.map((order, index) => {\n        const totalProducts = order.items.reduce((sum, item) => sum + item.quantity, 0);\n        const orderNumber = sortedOrders.length - index;\n        const orderProvider = providers.find(p => p.id === order.providerId);\n        \n        return (\n          <div\n            key={order.id}\n            className=\"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow\"\n          >\n            <div \n              className=\"cursor-pointer space-y-3\"\n              onClick={() => onSelect(order, orderNumber)}\n            >\n              {/* Order Header */}\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  {order.status === 'completed' ? (\n                    <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                  ) : (\n                    <Clock className=\"w-5 h-5 text-yellow-500\" />\n                  )}\n                  <div>\n                    <h3 className=\"text-lg font-semibold\">\n                      Orden #{orderNumber} - {format(new Date(order.date), \"d 'de' MMMM, yyyy\", {\n                        locale: es,\n                      })}\n                    </h3>\n                    {orderProvider && (\n                      <p className=\"text-sm text-gray-600\">\n                        {orderProvider.commercialName}\n                        {orderProvider.legalName && orderProvider.legalName !== orderProvider.commercialName && (\n                          <span className=\"text-gray-400\"> • {orderProvider.legalName}</span>\n                        )}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Order Details */}\n              <div className=\"flex items-center justify-between text-gray-600\">\n                <span>\n                  {totalProducts} {totalProducts === 1 ? 'producto' : 'productos'}\n                </span>\n                <span className=\"font-medium text-blue-600\">\n                  {formatPrice(order.total)}\n                </span>\n              </div>\n            </div>\n            \n            {/* Order Actions */}\n            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mt-4 pt-4 border-t\">\n              <OrderActions\n                order={order}\n                products={products}\n                provider={orderProvider}\n              />\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}","import React from 'react';\nimport { X, ArrowLeft, Calendar, Building2, FileText, Package } from 'lucide-react';\nimport { Order, Product, Provider } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { OrderSummary } from './OrderSummary';\nimport { OrderActions } from './OrderActions';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { formatPrice } from '@/lib/utils';\nimport { fromTimestamp } from '@/lib/dateUtils';\n\ninterface OrderDetailsProps {\n  order: Order;\n  orderNumber: number;\n  products: Product[];\n  provider: Provider;\n  onClose: () => void;\n}\n\nexport function OrderDetails({ order, orderNumber, products, provider, onClose }: OrderDetailsProps) {\n  const orderDate = format(fromTimestamp(order.date), \"d 'de' MMMM, yyyy HH:mm\", { locale: es });\n  const totalProducts = order.items.reduce((sum, item) => sum + item.quantity, 0);\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-50 z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"bg-white border-b print:hidden sticky top-0 z-10\">\n        <div className=\"flex items-center justify-between px-3 h-14\">\n          <div className=\"flex items-center gap-3\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onClose}\n              className=\"md:hidden\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Button>\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <h2 className=\"text-lg font-semibold\">\n                  Orden #{orderNumber}\n                </h2>\n                <span className={`\n                  px-2 py-0.5 text-xs font-medium rounded-full\n                  ${order.status === 'completed' \n                    ? 'bg-green-100 text-green-700'\n                    : 'bg-amber-100 text-amber-700'\n                  }\n                `}>\n                  {order.status === 'completed' ? 'Completada' : 'Pendiente'}\n                </span>\n              </div>\n              <p className=\"text-sm text-gray-500\">\n                {orderDate}\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"hidden md:flex p-2 hover:bg-gray-100 rounded-full transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"container mx-auto max-w-4xl px-3 py-4\">\n          {/* Print Header */}\n          <div className=\"hidden print:block mb-8\">\n            <h1 className=\"text-2xl font-bold text-center mb-2\">Orden de Compra</h1>\n            <div className=\"text-center text-gray-600 mb-4\">#{orderNumber}</div>\n          </div>\n\n          <div className=\"grid gap-4\">\n            {/* Order Info */}\n            <div className=\"grid gap-4 sm:grid-cols-3 print:grid-cols-3\">\n              {/* Date Card */}\n              <div className=\"bg-white p-4 rounded-lg border shadow-sm print:border-gray-300\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"p-2 bg-blue-50 rounded-lg\">\n                    <Calendar className=\"w-5 h-5 text-blue-600\" />\n                  </div>\n                  <h3 className=\"font-medium\">Fecha</h3>\n                </div>\n                <p className=\"text-gray-600\">{orderDate}</p>\n              </div>\n\n              {/* Provider Card */}\n              <div className=\"bg-white p-4 rounded-lg border shadow-sm print:border-gray-300\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"p-2 bg-purple-50 rounded-lg\">\n                    <Building2 className=\"w-5 h-5 text-purple-600\" />\n                  </div>\n                  <h3 className=\"font-medium\">Proveedor</h3>\n                </div>\n                <p className=\"font-medium\">{provider.commercialName}</p>\n                {provider.legalName && provider.legalName !== provider.commercialName && (\n                  <p className=\"text-sm text-gray-500\">{provider.legalName}</p>\n                )}\n              </div>\n\n              {/* Summary Card */}\n              <div className=\"bg-white p-4 rounded-lg border shadow-sm print:border-gray-300\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"p-2 bg-green-50 rounded-lg\">\n                    <Package className=\"w-5 h-5 text-green-600\" />\n                  </div>\n                  <h3 className=\"font-medium\">Resumen</h3>\n                </div>\n                <div className=\"space-y-1\">\n                  <p className=\"text-gray-600\">\n                    {totalProducts} productos\n                  </p>\n                  <p className=\"font-medium text-lg text-blue-600\">\n                    {formatPrice(order.total)}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Order Details */}\n            <div className=\"bg-white p-4 rounded-lg border shadow-sm print:border-gray-300\">\n              <div className=\"flex items-center gap-3 mb-4 print:mb-2\">\n                <div className=\"p-2 bg-amber-50 rounded-lg\">\n                  <FileText className=\"w-5 h-5 text-amber-600\" />\n                </div>\n                <h3 className=\"font-medium\">Detalles del Pedido</h3>\n              </div>\n              <OrderSummary\n                order={order}\n                products={products}\n                provider={provider}\n                preview={false}\n              />\n            </div>\n\n            {/* Actions */}\n            <div className=\"print:hidden\">\n              <div className=\"bg-white p-4 rounded-lg border shadow-sm\">\n                <h3 className=\"font-medium mb-4\">Acciones</h3>\n                <OrderActions\n                  order={order}\n                  products={products}\n                  provider={provider}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { Search } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\nimport { Order, Product } from '@/types';\nimport { formatPrice } from '@/lib/utils';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\n\ninterface OrderListSearchProps {\n  orders: Order[];\n  products: Product[];\n  onOrderSelect: (order: Order, orderNumber: number) => void;\n}\n\ninterface OrderWithProduct extends Order {\n  orderNumber: number;\n  matchingProducts: Array<{\n    product: Product;\n    quantity: number;\n  }>;\n}\n\nexport function OrderListSearch({ orders, products, onOrderSelect }: OrderListSearchProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<OrderWithProduct[]>([]);\n\n  useEffect(() => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    const searchTermLower = searchTerm.toLowerCase();\n    const sortedOrders = [...orders].sort((a, b) => \n      new Date(b.date).getTime() - new Date(a.date).getTime()\n    );\n    \n    const results = sortedOrders\n      .map((order, index) => {\n        // Find matching products in this order\n        const matchingProducts = order.items\n          .map(item => {\n            const product = products.find(p => p.id === item.productId);\n            if (!product) return null;\n            \n            const matches = \n              product.name.toLowerCase().includes(searchTermLower) ||\n              product.sku.toLowerCase().includes(searchTermLower) ||\n              product.tags?.some(tag => tag.toLowerCase().includes(searchTermLower));\n            \n            return matches ? { product, quantity: item.quantity } : null;\n          })\n          .filter((item): item is NonNullable<typeof item> => item !== null);\n\n        if (matchingProducts.length === 0) return null;\n\n        return {\n          ...order,\n          orderNumber: sortedOrders.length - index,\n          matchingProducts\n        };\n      })\n      .filter((order): order is OrderWithProduct => order !== null)\n      .slice(0, 5);\n\n    setSearchResults(results);\n  }, [searchTerm, orders, products]);\n\n  return (\n    <div className=\"relative mb-6\">\n      <div className=\"relative\">\n        <Input\n          placeholder=\"Buscar productos en órdenes...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"pl-10 bg-amber-50 border-amber-200 focus:border-amber-400 focus:ring-amber-400 placeholder-amber-400\"\n        />\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-amber-400\" />\n      </div>\n\n      {searchResults.length > 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-amber-200 rounded-lg shadow-lg max-h-[400px] overflow-auto\">\n          {searchResults.map((order) => (\n            <button\n              key={order.id}\n              onClick={() => onOrderSelect(order, order.orderNumber)}\n              className=\"w-full px-4 py-3 text-left hover:bg-amber-50 border-b border-amber-100 last:border-b-0\"\n            >\n              <div className=\"flex items-start justify-between gap-4\">\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <span className=\"font-medium text-amber-700\">\n                      Orden #{order.orderNumber}\n                    </span>\n                    <span className=\"text-gray-400\">•</span>\n                    <span className=\"text-sm text-gray-600\">\n                      {format(new Date(order.date), \"d 'de' MMMM, yyyy\", { locale: es })}\n                    </span>\n                  </div>\n                  \n                  <div className=\"space-y-1\">\n                    {order.matchingProducts.map(({ product, quantity }) => (\n                      <div key={product.id} className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-gray-900\">{product.name}</span>\n                        <span className=\"text-gray-600 whitespace-nowrap ml-2\">\n                          {quantity} {product.purchasePackaging}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                \n                <div className=\"text-amber-600 font-medium whitespace-nowrap\">\n                  {formatPrice(order.total)}\n                </div>\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n\n      {searchTerm && searchResults.length === 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-amber-200 rounded-lg shadow-lg p-4 text-center text-gray-500\">\n          No se encontraron productos en las órdenes\n        </div>\n      )}\n    </div>\n  );\n}","/**\n * Formats a number as currency without the currency symbol\n */\nexport function formatPrice(price: number): string {\n  return new Intl.NumberFormat('es-UY', {\n    style: 'decimal',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }).format(price);\n}\n\n/**\n * Formats a number as currency with the currency symbol\n */\nexport function formatCurrency(price: number): string {\n  return new Intl.NumberFormat('es-UY', {\n    style: 'currency',\n    currency: 'UYU'\n  }).format(price);\n}","import React from 'react';\nimport { X } from 'lucide-react';\nimport { Product } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { ProductForm } from './ProductForm';\n\ninterface FullscreenProductEditorProps {\n  providerId: string;\n  product: Product;\n  onSubmit: (data: Omit<Product, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isSubmitting?: boolean;\n}\n\nexport function FullscreenProductEditor({\n  providerId,\n  product,\n  onSubmit,\n  onCancel,\n  isSubmitting\n}: FullscreenProductEditorProps) {\n  return (\n    <div className=\"fixed inset-0 bg-white z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"border-b bg-white\">\n        <div className=\"flex items-center justify-between px-3 h-16\">\n          <h2 className=\"text-lg font-semibold\">Editar Producto</h2>\n          <button\n            onClick={onCancel}\n            className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        <div className=\"h-full overflow-y-auto\">\n          <div className=\"container mx-auto max-w-2xl px-3 py-4\">\n            <ProductForm\n              providerId={providerId}\n              initialData={product}\n              onSubmit={onSubmit}\n              onCancel={onCancel}\n              isLoading={isSubmitting}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { Archive, Check, Pencil, Plus, Minus, ArrowUpDown } from 'lucide-react';\nimport { Product } from '@/types';\nimport { formatPrice } from '@/lib/utils/formatting/currency';\nimport { formatOrderNumber } from '@/lib/order/utils';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Card } from '@/components/ui/Card';\nimport { FullscreenProductEditor } from '@/components/products/FullscreenProductEditor';\n\ninterface OrderProductCardProps {\n  product: Product;\n  products: Product[];\n  isSelected: boolean;\n  quantity: number;\n  onQuantityChange: (quantity: number) => void;\n  onProductUpdate?: (product: Product, data: Partial<Product>) => Promise<void>;\n  onReview: () => void;\n  isReviewed: boolean;\n}\n\nexport function OrderProductCard({\n  product,\n  products,\n  isSelected,\n  quantity,\n  onQuantityChange,\n  onProductUpdate,\n  onReview,\n  isReviewed\n}: OrderProductCardProps) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showQuantityInput, setShowQuantityInput] = useState(false);\n  const [inputValue, setInputValue] = useState(quantity.toString());\n  const quantityControlsRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  // Update input value when quantity prop changes\n  useEffect(() => {\n    setInputValue(quantity.toString());\n  }, [quantity]);\n\n  // Handle clicks outside quantity controls to close them\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (quantityControlsRef.current && !quantityControlsRef.current.contains(event.target as Node)) {\n        setShowQuantityInput(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Focus input when quantity controls are shown\n  useEffect(() => {\n    if (showQuantityInput && inputRef.current) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n  }, [showQuantityInput]);\n\n  const handleProductUpdate = async (data: Omit<Product, 'id'>) => {\n    if (!onProductUpdate) return;\n    setIsSubmitting(true);\n    try {\n      await onProductUpdate(product, data);\n      setIsEditing(false);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleCardClick = (e: React.MouseEvent) => {\n    // Ignore clicks on buttons, inputs, and quantity controls\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      (e.target as HTMLElement).closest('button') ||\n      (e.target as HTMLElement).closest('input') ||\n      (e.target as HTMLElement).closest('.quantity-controls')\n    ) {\n      return;\n    }\n\n    // Mark as reviewed if not already\n    if (!isReviewed) {\n      onReview();\n    }\n\n    // Add product if not already selected\n    if (!isSelected) {\n      onQuantityChange(product.desiredStock);\n    }\n  };\n\n  const handleQuantityClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setShowQuantityInput(true);\n  };\n\n  const handleQuantityChange = (newQuantity: number) => {\n    if (newQuantity >= 0) {\n      onQuantityChange(newQuantity);\n      if (!isReviewed) {\n        onReview();\n      }\n    }\n  };\n\n  const handleDecrement = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (quantity > 0) {\n      handleQuantityChange(quantity - 1);\n    }\n  };\n\n  const handleIncrement = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    handleQuantityChange(quantity + 1);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setInputValue(value);\n    const numValue = parseInt(value);\n    if (!isNaN(numValue) && numValue >= 0) {\n      handleQuantityChange(numValue);\n    }\n  };\n\n  return (\n    <>\n      <Card isSelected={isSelected}>\n        <Card.Header className=\"!p-3\">\n          <div className=\"relative\" onClick={handleCardClick}>\n            {/* Review Indicator */}\n            {isReviewed && (\n              <div className=\"absolute -top-2 -right-2 bg-green-500 text-white rounded-full p-1\">\n                <Check className=\"w-4 h-4\" />\n              </div>\n            )}\n\n            <div className=\"flex items-start gap-3\">\n              {/* Checkbox */}\n              <div\n                className={`\n                  flex-shrink-0 w-5 h-5 rounded border cursor-pointer transition-colors mt-1\n                  ${isSelected \n                    ? 'bg-blue-500 border-blue-500' \n                    : 'border-gray-300 hover:border-blue-500'\n                  }\n                `}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleQuantityChange(isSelected ? 0 : product.desiredStock);\n                }}\n              >\n                {isSelected && (\n                  <Check className=\"w-full h-full text-white p-0.5\" />\n                )}\n              </div>\n\n              <div className=\"flex-1 min-w-0\">\n                {/* Product Name */}\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h3 className=\"font-semibold text-gray-900\">\n                    {product.name}\n                  </h3>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      setIsEditing(true);\n                    }}\n                    className=\"p-1 hover:bg-gray-100 rounded-full\"\n                  >\n                    <Pencil className=\"w-4 h-4 text-gray-500\" />\n                  </Button>\n                </div>\n\n                {/* Product Details */}\n                <div className=\"grid grid-cols-2 gap-2 text-sm text-gray-600 mb-3\">\n                  <div className=\"flex items-center\">\n                    <Archive className=\"w-4 h-4 mr-1.5 flex-shrink-0\" />\n                    <span>Stock: {product.minPackageStock} - {product.desiredStock}</span>\n                  </div>\n                  <div className=\"flex items-center text-gray-500\">\n                    <ArrowUpDown className=\"w-4 h-4 mr-1.5 flex-shrink-0\" />\n                    <span>Orden: {formatOrderNumber(product.order)}</span>\n                  </div>\n                </div>\n\n                {/* Quantity Controls */}\n                {isSelected && (\n                  <div className=\"flex items-end justify-between gap-4\">\n                    <div className=\"flex-1\">\n                      <div ref={quantityControlsRef} className=\"quantity-controls\">\n                        {showQuantityInput ? (\n                          <div className=\"flex items-center gap-2\">\n                            <Button\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={handleDecrement}\n                              disabled={quantity <= 0}\n                              className=\"w-12 h-12 rounded-full\"\n                            >\n                              <Minus className=\"w-5 h-5\" />\n                            </Button>\n                            \n                            <Input\n                              ref={inputRef}\n                              type=\"number\"\n                              min=\"0\"\n                              value={inputValue}\n                              onChange={handleInputChange}\n                              onClick={(e) => e.stopPropagation()}\n                              placeholder={product.desiredStock.toString()}\n                              className=\"text-center text-lg h-12\"\n                            />\n                            \n                            <Button\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={handleIncrement}\n                              className=\"w-12 h-12 rounded-full\"\n                            >\n                              <Plus className=\"w-5 h-5\" />\n                            </Button>\n                          </div>\n                        ) : (\n                          <button\n                            onClick={handleQuantityClick}\n                            className=\"w-full h-12 px-4 text-left bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors\"\n                          >\n                            <span className=\"text-lg font-medium\">\n                              {quantity} {product.purchasePackaging}\n                            </span>\n                          </button>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"text-right\">\n                      <div className=\"text-lg font-bold text-blue-600\">\n                        ${formatPrice(product.price)}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        Total: ${formatPrice(product.price * quantity)}\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Price (when not selected) */}\n                {!isSelected && (\n                  <div className=\"text-lg font-bold text-blue-600\">\n                    ${formatPrice(product.price)}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </Card.Header>\n      </Card>\n\n      {/* Product Edit Modal */}\n      {isEditing && (\n        <FullscreenProductEditor\n          providerId={product.providerId}\n          product={product}\n          onSubmit={handleProductUpdate}\n          onCancel={() => setIsEditing(false)}\n          isSubmitting={isSubmitting}\n        />\n      )}\n    </>\n  );\n}","import React from 'react';\nimport { Search } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\n\ninterface ProductFilterProps {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport function ProductFilter({ value, onChange }: ProductFilterProps) {\n  return (\n    <div className=\"relative mb-6\">\n      <Input\n        placeholder=\"Filtrar productos por nombre, SKU, código o etiquetas...\"\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"pl-10\"\n      />\n      <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Product } from '@/types';\nimport { OrderProductCard } from './OrderProductCard';\nimport { ProductFilter } from './ProductFilter';\n\ninterface ProductSelectorProps {\n  products: Product[];\n  selectedProducts: Map<string, number>;\n  onProductSelect: (productId: string, quantity: number) => void;\n  onProductUpdate?: (id: string, data: Partial<Product>) => Promise<void>;\n}\n\nexport function ProductSelector({\n  products,\n  selectedProducts,\n  onProductSelect,\n  onProductUpdate\n}: ProductSelectorProps) {\n  const [reviewedProducts, setReviewedProducts] = useState<Set<string>>(new Set());\n  const [filterValue, setFilterValue] = useState('');\n\n  // Sort products by order\n  const sortedProducts = [...products].sort((a, b) => a.order - b.order);\n\n  // Filter products based on search term\n  const filteredProducts = filterValue.trim()\n    ? sortedProducts.filter(product => {\n        const searchTerm = filterValue.toLowerCase();\n        return (\n          product.name.toLowerCase().includes(searchTerm) ||\n          product.sku.toLowerCase().includes(searchTerm) ||\n          (product.supplierCode?.toLowerCase().includes(searchTerm)) ||\n          product.tags?.some(tag => tag.toLowerCase().includes(searchTerm))\n        );\n      })\n    : sortedProducts;\n\n  const handleQuantityChange = (productId: string, newQuantity: number) => {\n    if (newQuantity >= 0) {\n      onProductSelect(productId, newQuantity);\n      markAsReviewed(productId);\n    }\n  };\n\n  const handleProductUpdate = async (product: Product, data: Partial<Product>) => {\n    if (!onProductUpdate) return;\n    await onProductUpdate(product.id!, data);\n    markAsReviewed(product.id!);\n  };\n\n  const markAsReviewed = (productId: string) => {\n    setReviewedProducts(prev => new Set(prev).add(productId));\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      <ProductFilter \n        value={filterValue}\n        onChange={setFilterValue}\n      />\n      \n      {filteredProducts.map((product) => (\n        <OrderProductCard\n          key={product.id}\n          product={product}\n          products={products}\n          isSelected={selectedProducts.has(product.id!)}\n          quantity={selectedProducts.get(product.id!) || 0}\n          onQuantityChange={(quantity) => handleQuantityChange(product.id!, quantity)}\n          onProductUpdate={handleProductUpdate}\n          onReview={() => markAsReviewed(product.id!)}\n          isReviewed={reviewedProducts.has(product.id!)}\n        />\n      ))}\n\n      {filteredProducts.length === 0 && (\n        <div className=\"text-center py-8 text-gray-500\">\n          No se encontraron productos que coincidan con la búsqueda\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { Product, Provider } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { ProductSelector } from './ProductSelector';\nimport { formatPrice } from '@/lib/utils';\nimport { useOrders } from '@/hooks/useOrders';\n\ninterface FullscreenOrderEditorProps {\n  products: Product[];\n  selectedProducts: Map<string, number>;\n  onProductSelect: (productId: string, quantity: number) => void;\n  onProductUpdate?: (id: string, data: Partial<Product>) => Promise<void>;\n  onConfirm: () => void;\n  onCancel: () => void;\n  isSubmitting?: boolean;\n  provider: Provider;\n}\n\nexport function FullscreenOrderEditor({\n  products,\n  selectedProducts,\n  onProductSelect,\n  onProductUpdate,\n  onConfirm,\n  onCancel,\n  isSubmitting,\n  provider\n}: FullscreenOrderEditorProps) {\n  const [allProducts, setAllProducts] = useState<Product[]>(products);\n  const { orders } = useOrders(provider.id);\n\n  // Update allProducts when products change\n  useEffect(() => {\n    setAllProducts(prevProducts => {\n      const productIds = new Set(products.map(p => p.id));\n      // Keep external products that are not in the original products list\n      const externalProducts = prevProducts.filter(p => !productIds.has(p.id));\n      return [...products, ...externalProducts];\n    });\n  }, [products]);\n\n  // Calculate total\n  const total = Array.from(selectedProducts.entries()).reduce((sum, [productId, quantity]) => {\n    const product = allProducts.find(p => p.id === productId);\n    return sum + (product?.price || 0) * quantity;\n  }, 0);\n\n  return (\n    <div className=\"fixed inset-0 bg-white z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"border-b bg-white\">\n        <div className=\"flex items-center justify-between px-2 h-14\">\n          <div className=\"flex-1 min-w-0\">\n            <h2 className=\"text-lg font-semibold truncate\">\n              {provider.legalName && provider.legalName !== provider.commercialName ? (\n                <span className=\"text-gray-500\">\n                  {provider.legalName} <span className=\"mx-1\">•</span> \n                </span>\n              ) : null}\n              <span>{provider.commercialName}</span>\n            </h2>\n            {selectedProducts.size > 0 && (\n              <div className=\"text-sm text-gray-600\">\n                Importe Total: <span className=\"font-medium text-blue-600\">{formatPrice(total)}</span>\n              </div>\n            )}\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={onCancel}\n              disabled={isSubmitting}\n              size=\"sm\"\n            >\n              Cancelar\n            </Button>\n            <Button\n              onClick={onConfirm}\n              isLoading={isSubmitting}\n              size=\"sm\"\n            >\n              Guardar\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        <div className=\"h-full overflow-y-auto\">\n          <div className=\"container mx-auto max-w-3xl px-2 py-4\">\n            <ProductSelector\n              products={allProducts}\n              selectedProducts={selectedProducts}\n              onProductSelect={onProductSelect}\n              onProductUpdate={onProductUpdate}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import { Order, Product } from '@/types';\nimport { getCurrentTimestamp } from '@/lib/dateUtils';\n\nexport function calculateOrderTotal(items: Order['items']): number {\n  return Number(items.reduce((sum, item) => \n    sum + Number((item.price * item.quantity).toFixed(2)), \n    0\n  ).toFixed(2));\n}\n\nexport function createOrderItem(product: Product, quantity: number) {\n  const price = Number(Number(product.price).toFixed(2));\n  const subtotal = Number((price * quantity).toFixed(2));\n  return {\n    productId: product.id!,\n    quantity: Number(quantity),\n    price,\n    subtotal\n  };\n}\n\nexport function createOrder(\n  providerId: string, \n  selectedProducts: Map<string, number>, \n  products: Product[]\n): Omit<Order, 'id'> {\n  if (!providerId || !products || products.length === 0) {\n    throw new Error('Invalid order data');\n  }\n\n  const items = Array.from(selectedProducts.entries())\n    .map(([productId, quantity]) => {\n      const product = products.find(p => p.id === productId);\n      if (!product) {\n        throw new Error(`Product ${productId} not found`);\n      }\n      return createOrderItem(product, quantity);\n    })\n    .sort((a, b) => {\n      const productA = products.find(p => p.id === a.productId);\n      const productB = products.find(p => p.id === b.productId);\n      if (!productA || !productB) return 0;\n      return productA.order - productB.order;\n    });\n\n  const total = calculateOrderTotal(items);\n\n  return {\n    providerId,\n    date: getCurrentTimestamp(),\n    status: 'pending',\n    items,\n    total\n  };\n}","import { Order, Product } from '@/types';\n\nexport function validateOrder(\n  order: Omit<Order, 'id'>, \n  products: Product[]\n): string | null {\n  try {\n    // Validate required fields\n    if (!order.providerId) {\n      return 'El proveedor es requerido';\n    }\n\n    if (!order.items || order.items.length === 0) {\n      return 'Debe agregar al menos un producto';\n    }\n\n    // Validate items\n    const seenProducts = new Set<string>();\n    for (const item of order.items) {\n      if (!item.productId) {\n        return 'Producto inválido';\n      }\n\n      if (seenProducts.has(item.productId)) {\n        return 'No puede haber productos duplicados';\n      }\n      seenProducts.add(item.productId);\n\n      if (item.quantity <= 0) {\n        return 'La cantidad debe ser mayor a 0';\n      }\n\n      // Find product\n      const product = products.find(p => p.id === item.productId);\n      if (!product) {\n        return `Producto no encontrado`;\n      }\n\n      // Validate price matches\n      if (Math.abs(item.price - product.price) > 0.01) {\n        return `El precio del producto ${product.name} no coincide`;\n      }\n\n      // Validate subtotal calculation\n      const expectedSubtotal = Number((item.price * item.quantity).toFixed(2));\n      if (Math.abs(item.subtotal - expectedSubtotal) > 0.01) {\n        return `El subtotal del producto ${product.name} no coincide`;\n      }\n    }\n\n    // Validate total\n    const calculatedTotal = Number(order.items.reduce((sum, item) => \n      sum + Number((item.price * item.quantity).toFixed(2)), \n      0\n    ).toFixed(2));\n\n    if (Math.abs(order.total - calculatedTotal) > 0.01) {\n      return 'El total no coincide';\n    }\n\n    return null;\n  } catch (error) {\n    console.error('Error validating order:', error);\n    return 'Error al validar la orden';\n  }\n}","import React, { useState, useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { Plus } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport { Button } from '@/components/ui/Button';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { SearchableSelect } from '@/components/ui/SearchableSelect';\nimport { useProviders } from '@/hooks/useProviders';\nimport { useOrders } from '@/hooks/useOrders';\nimport { useProducts } from '@/hooks/useProducts';\nimport { useGlobalOrders } from '@/hooks/useGlobalOrders';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\nimport { OrderList } from '@/components/orders/OrderList';\nimport { OrderDetails } from '@/components/orders/OrderDetails';\nimport { OrderListSearch } from '@/components/orders/OrderListSearch';\nimport { FullscreenOrderEditor } from '@/components/orders/FullscreenOrderEditor';\nimport { Order, Product } from '@/types';\nimport { createOrder } from '@/lib/order/calculations';\nimport { validateOrder } from '@/lib/order/validation';\n\ninterface ViewingOrderInfo {\n  order: Order;\n  orderNumber: number;\n}\n\nexport function Orders() {\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { providers } = useProviders();\n  const [selectedProviderId, setSelectedProviderId] = useState<string>('');\n  const { orders, loading, addOrder, updateOrder, deleteOrder } = useOrders(selectedProviderId);\n  const { products, updateProduct } = useProducts(selectedProviderId);\n  const { orders: globalOrders, loading: globalOrdersLoading } = useGlobalOrders();\n  const { products: globalProducts, loading: globalProductsLoading } = useGlobalProducts();\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState<Order | null>(null);\n  const [viewingOrder, setViewingOrder] = useState<ViewingOrderInfo | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [orderToDelete, setOrderToDelete] = useState<Order | null>(null);\n  const [selectedProducts, setSelectedProducts] = useState<Map<string, number>>(new Map());\n  const [shouldReturnToDashboard, setShouldReturnToDashboard] = useState(false);\n\n  const selectedProvider = providers.find(p => p.id === selectedProviderId);\n\n  // Get last 5 orders\n  const recentOrders = globalOrders\n    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n    .slice(0, 5);\n\n  // Handle URL parameters and today's order\n  useEffect(() => {\n    const providerId = searchParams.get('provider');\n    const isNewOrder = searchParams.get('new') === 'true';\n    \n    if (providerId) {\n      setSelectedProviderId(providerId);\n      \n      // If coming from dashboard\n      if (isNewOrder) {\n        setIsFormOpen(true);\n        setShouldReturnToDashboard(true);\n      } else {\n        // Find today's order for this provider\n        const today = new Date();\n        const todayStart = new Date(today.setHours(0, 0, 0, 0));\n        const todayEnd = new Date(today.setHours(23, 59, 59, 999));\n        \n        const todayOrder = orders.find(order => {\n          const orderDate = new Date(order.date);\n          return orderDate >= todayStart && orderDate <= todayEnd;\n        });\n\n        if (todayOrder) {\n          // Initialize selected products from today's order\n          const initialProducts = new Map();\n          todayOrder.items.forEach(item => {\n            initialProducts.set(item.productId, item.quantity);\n          });\n          setSelectedProducts(initialProducts);\n          setSelectedOrder(todayOrder);\n          setIsFormOpen(true);\n          setShouldReturnToDashboard(true);\n        }\n      }\n      \n      // Clean up URL parameters\n      setSearchParams({});\n    }\n  }, [searchParams, setSearchParams, orders]);\n\n  const handleProductSelect = (productId: string, quantity: number) => {\n    const newSelected = new Map(selectedProducts);\n    if (quantity > 0) {\n      newSelected.set(productId, quantity);\n    } else {\n      newSelected.delete(productId);\n    }\n    setSelectedProducts(newSelected);\n  };\n\n  const handleSubmit = async () => {\n    if (!selectedProviderId || !products || !selectedProvider) {\n      toast.error('Seleccione un proveedor');\n      return;\n    }\n\n    if (selectedProducts.size === 0) {\n      toast.error('Debe agregar al menos un producto');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const orderData = createOrder(selectedProviderId, selectedProducts, products);\n      \n      // Validate order before saving\n      const validationError = validateOrder(orderData, products);\n      if (validationError) {\n        toast.error(validationError);\n        return;\n      }\n\n      if (selectedOrder) {\n        await updateOrder(selectedOrder.id!, orderData);\n        toast.success('Orden actualizada exitosamente');\n      } else {\n        await addOrder(orderData);\n        toast.success('Orden creada exitosamente');\n      }\n\n      handleCloseForm();\n    } catch (error) {\n      console.error('Error saving order:', error);\n      toast.error('Ocurrió un error al guardar la orden');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDelete = (order: Order) => {\n    setOrderToDelete(order);\n  };\n\n  const confirmDelete = async () => {\n    if (!orderToDelete) return;\n    \n    try {\n      await deleteOrder(orderToDelete.id!);\n      toast.success('Orden eliminada exitosamente');\n      setOrderToDelete(null);\n    } catch (error) {\n      toast.error('Ocurrió un error al eliminar la orden');\n    }\n  };\n\n  const handleCloseForm = () => {\n    setIsFormOpen(false);\n    setSelectedOrder(null);\n    setSelectedProducts(new Map());\n    \n    // If we came from dashboard, go back\n    if (shouldReturnToDashboard) {\n      navigate('/');\n    }\n  };\n\n  const handleSelectOrder = (order: Order, orderNumber: number) => {\n    // Set provider ID if not already set\n    if (!selectedProviderId) {\n      setSelectedProviderId(order.providerId);\n    }\n\n    const initialProducts = new Map();\n    order.items.forEach(item => {\n      initialProducts.set(item.productId, item.quantity);\n    });\n    setSelectedProducts(initialProducts);\n    setSelectedOrder(order);\n    setIsFormOpen(true);\n  };\n\n  const handleViewDetails = (order: Order, orderNumber: number) => {\n    setViewingOrder({ order, orderNumber });\n  };\n\n  const providerOptions = providers.map(provider => ({\n    value: provider.id!,\n    label: provider.commercialName\n  }));\n\n  const isLoading = loading || globalOrdersLoading || globalProductsLoading;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Global Order Search */}\n      <OrderListSearch\n        orders={globalOrders}\n        products={globalProducts}\n        onOrderSelect={handleSelectOrder}\n      />\n\n      {/* Provider Selection and Actions */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center gap-3\">\n        <div className=\"flex-1 max-w-xs\">\n          <SearchableSelect\n            options={providerOptions}\n            value={selectedProviderId}\n            onChange={setSelectedProviderId}\n            placeholder=\"Seleccionar Proveedor\"\n          />\n        </div>\n\n        {selectedProviderId && (\n          <Button onClick={() => setIsFormOpen(true)}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Nueva Orden\n          </Button>\n        )}\n      </div>\n\n      {isLoading ? (\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n        </div>\n      ) : (\n        <>\n          {/* Recent Orders (when no provider selected) */}\n          {!selectedProviderId && recentOrders.length > 0 && (\n            <div className=\"space-y-4\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Últimas Órdenes</h2>\n              <OrderList\n                orders={recentOrders}\n                products={globalProducts}\n                provider={selectedProvider}\n                onSelect={handleSelectOrder}\n                onDelete={handleDelete}\n                onViewDetails={handleViewDetails}\n              />\n            </div>\n          )}\n\n          {isFormOpen && selectedProvider && (\n            <FullscreenOrderEditor\n              products={products}\n              selectedProducts={selectedProducts}\n              onProductSelect={handleProductSelect}\n              onProductUpdate={updateProduct}\n              onConfirm={handleSubmit}\n              onCancel={handleCloseForm}\n              isSubmitting={isSubmitting}\n              provider={selectedProvider}\n            />\n          )}\n          {viewingOrder && selectedProvider && (\n            <OrderDetails\n              order={viewingOrder.order}\n              orderNumber={viewingOrder.orderNumber}\n              products={globalProducts}\n              provider={selectedProvider}\n              onClose={() => setViewingOrder(null)}\n            />\n          )}\n          {!isFormOpen && !viewingOrder && selectedProviderId && (\n            <OrderList\n              orders={orders}\n              products={products}\n              provider={selectedProvider}\n              onSelect={handleSelectOrder}\n              onDelete={handleDelete}\n              onViewDetails={handleViewDetails}\n            />\n          )}\n        </>\n      )}\n\n      <Dialog\n        isOpen={!!orderToDelete}\n        onClose={() => setOrderToDelete(null)}\n        title=\"Eliminar orden\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-amber-600\">\n            ¿Está seguro que desea eliminar esta orden?\n          </p>\n          <div className=\"flex justify-end space-x-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setOrderToDelete(null)}\n            >\n              Cancelar\n            </Button>\n            <Button onClick={confirmDelete}>\n              Eliminar\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}","import React from 'react';\nimport { HashRouter as Router, Routes, Route } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { ProtectedRoute } from './components/ProtectedRoute';\nimport { Layout } from './components/Layout';\nimport { Login } from './pages/Login';\nimport { Dashboard } from './pages/Dashboard';\nimport { Providers } from './pages/Providers';\nimport { Products } from './pages/Products';\nimport { Orders } from './pages/Orders';\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <Toaster position=\"top-right\" />\n        <Routes>\n          <Route path=\"/login\" element={<Login />} />\n          <Route element={<ProtectedRoute />}>\n            <Route element={<Layout />}>\n              <Route path=\"/\" element={<Dashboard />} />\n              <Route path=\"/providers\" element={<Providers />} />\n              <Route path=\"/products\" element={<Products />} />\n              <Route path=\"/orders\" element={<Orders />} />\n            </Route>\n          </Route>\n        </Routes>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;","import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\n// Initialize Firebase before rendering\nimport './lib/firebase';\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);"],"names":["m","require$$0","createRoot","firebaseConfig","environment","app","initializeApp","auth","getAuth","signIn","email","password","signInWithEmailAndPassword","error","signOut","firebaseSignOut","AuthContext","createContext","AuthProvider","children","user","setUser","useState","loading","setLoading","useEffect","onAuthStateChanged","value","toast","useAuth","context","useContext","ProtectedRoute","Outlet","jsx","Navigate","toDate","argument","argStr","constructFrom","date","addDays","amount","_date","millisecondsInWeek","millisecondsInDay","defaultOptions","getDefaultOptions","startOfWeek","options","weekStartsOn","_b","_a","_d","_c","day","diff","startOfISOWeek","getISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfDay","getTimezoneOffsetInMilliseconds","utcDate","differenceInCalendarDays","dateLeft","dateRight","startOfDayLeft","startOfDayRight","timestampLeft","timestampRight","startOfISOWeekYear","fourthOfJanuary","isDate","isValid","endOfDay","startOfYear","cleanDate","formatDistanceLocale","formatDistance","token","count","result","tokenValue","buildFormatLongFn","args","width","dateFormats","timeFormats","dateTimeFormats","formatLong","formatRelativeLocale","formatRelative","_baseDate","_options","buildLocalizeFn","valuesArray","defaultWidth","index","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","number","rem100","localize","quarter","buildMatchFn","string","matchPattern","matchResult","matchedString","parsePatterns","key","findIndex","pattern","findKey","rest","object","predicate","array","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","enUS","getDayOfYear","getISOWeek","getWeekYear","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfWeekYear","firstWeek","getWeek","addLeadingZeros","targetLength","sign","output","lightFormatters","signedYear","month","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","dayPeriodEnum","formatters","era","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","timestamp","offset","delimiter","absOffset","minutes","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","dayOfYearTokenRE","weekYearTokenRE","throwTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","warnOrThrowProtectedError","format","input","_message","message","subject","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","formatStr","locale","defaultLocale","_f","_e","_h","_g","originalDate","parts","substring","firstCharacter","longFormatter","cleanEscapedString","formatterOptions","part","formatter","matched","subDays","formatRelativeLocalePlural","es","formatPrice","price","formatPhoneNumber","phone","cleaned","validatePhoneNumber","generateWhatsAppLink","r","t","f","o","clsx","CLASS_PART_SEPARATOR","createClassGroupUtils","config","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","className","classParts","getGroupRecursive","getGroupIdForArbitraryProperty","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","classGroupFromNextClassPart","classRest","validator","arbitraryPropertyRegex","arbitraryPropertyClassName","property","theme","prefix","getPrefixedClassGroupEntries","classGroup","processClassesRecursively","classDefinition","classPartObjectToEdit","getPart","isThemeGetter","path","currentClassPartObject","pathPart","func","classGroupEntries","prefixedClassGroup","createLruCache","maxCacheSize","cacheSize","cache","previousCache","update","IMPORTANT_MODIFIER","createParseClassName","separator","experimentalParseClassName","isSeparatorSingleCharacter","firstSeparatorCharacter","separatorLength","parseClassName","modifiers","bracketDepth","modifierStart","postfixModifierPosition","currentCharacter","baseClassNameWithImportantModifier","hasImportantModifier","baseClassName","maybePostfixModifierPosition","sortModifiers","sortedModifiers","unsortedModifiers","modifier","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","getClassGroupId","getConflictingClassGroupIds","classGroupsInConflict","classNames","originalClassName","variantModifier","modifierId","classId","conflictGroups","i","group","twJoin","resolvedValue","toValue","mix","k","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","cachedResult","fromTheme","themeGetter","arbitraryValueRegex","fractionRegex","stringLengths","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isLength","isNumber","isArbitraryLength","getIsArbitraryValue","isLengthOnly","isArbitraryNumber","isInteger","isPercent","isArbitraryValue","isTshirtSize","sizeLabels","isArbitrarySize","isNever","isArbitraryPosition","imageLabels","isArbitraryImage","isImage","isArbitraryShadow","isShadow","isAny","label","testValue","getDefaultConfig","colors","spacing","blur","brightness","borderColor","borderRadius","borderSpacing","borderWidth","contrast","grayscale","hueRotate","invert","gap","gradientColorStops","gradientColorStopPositions","inset","margin","opacity","padding","saturate","scale","sepia","skew","space","translate","getOverscroll","getOverflow","getSpacingWithAutoAndArbitrary","getSpacingWithArbitrary","getLengthWithEmptyAndArbitrary","getNumberWithAutoAndArbitrary","getPositions","getLineStyles","getBlendModes","getAlign","getZeroAndEmpty","getBreaks","getNumberAndArbitrary","twMerge","mergeClasses","inputs","SECTORS","PACKAGING_TYPES","BUSINESS_INFO","getSectorFromOrder","order","orderStr","sectorIndex","getSequenceFromOrder","calculateNewOrder","sectorCode","sequence","s","formatOrderNumber","sector","navigation","LayoutDashboard","Users","Package","ShoppingCart","TopNav","isMenuOpen","setIsMenuOpen","jsxs","X","Menu","item","NavLink","isActive","cn","LogOut","Layout","Button","variant","size","isLoading","props","baseStyles","variants","sizes","Input","React","type","onChange","isCurrency","ref","displayValue","setDisplayValue","formatNumber","num","handleChange","e","numericValue","handleFocus","handleBlur","inputValue","Login","setEmail","setPassword","setError","handleSubmit","Mail","Lock","db","getDatabase","useProviders","providers","setProviders","providersRef","unsubscribe","onValue","snapshot","data","providersList","id","provider","push","providerRef","remove","get","Card","isSelected","onClick","fromTimestamp","dateFnsStartOfDay","dateFnsEndOfDay","startOfDayTimestamp","endOfDayTimestamp","getCurrentTimestamp","WEEKDAYS","getPreviousDay","orderDays","currentDate","attempts","dayName","getDayName","useTodayOrdersCount","setCount","ordersRef","todayStart","todayEnd","todayOrders","createDocument","collectionRef","newRef","set","updateDocument","docRef","deleteDocument","getCollection","queryByField","field","queryRef","query","orderByChild","equalTo","COLLECTIONS","checkCollection","collection","createCollection","initializeCollections","createPromises","status","name","ORDERS_COLLECTION","PRODUCTS_COLLECTION","PROVIDERS_COLLECTION","getWeeklyOrdersCount","orders","today","lastWeek","countByDate","orderDate","acc","a","b","getTopProducts","products","productStats","stats","productId","product","p","getProductFrequency","frequencyMap","frequency","getTotalProducts","getTotalProviders","useAnalytics","weeklyOrders","setWeeklyOrders","topProducts","setTopProducts","productFrequency","setProductFrequency","totalProducts","setTotalProducts","totalProviders","setTotalProviders","mounted","weekly","top","err","AnalyticsCard","title","icon","Dialog","isOpen","onClose","TopProductsModal","orderService","providerId","callback","providerOrdersQuery","sortedOrders","updates","orderRef","updatedOrder","getProviderOrders","useProviderOrders","setOrders","ProviderOrderStatus","navigate","useNavigate","todayOrdersCount","handleClick","ProviderDeliveryStatus","todayName","isTodayOrderDay","previousDay","previousDayOrders","totalAmount","sum","useGlobalProducts","setProducts","productsRef","productsData","updateProduct","productRef","parseCSVLine","line","values","currentValue","insideQuotes","char","parseCSVContent","content","normalizeHeaders","headers","header","parseCsvRows","rows","requiredHeaders","missingHeaders","h","headerIndexes","validateRow","row","cleanRut","cleanPrice","parsePrice","priceStr","clean","processCsvImport","newPrice","CsvImportResultsModal","searchTerm","setSearchTerm","filteredResults","useMemo","term","hasUpdates","hasErrors","CheckCircle","AlertCircle","XCircle","Search","CsvImportCard","fileInputRef","useRef","isProcessing","setIsProcessing","importResult","setImportResult","isResultsModalOpen","setIsResultsModalOpen","productsLoading","providersLoading","handleFileSelect","event","file","text","Fragment","FileUp","WEEKDAY_MAP","Dashboard","currentDayName","ordersLoading","analyticsLoading","isTopProductsModalOpen","setIsTopProductsModalOpen","providersForOrder","totalWeeklyOrders","topProduct","totalOrders","Calendar","Archive","BarChart2","TrendingUp","WEEK_DAYS","ProviderForm","initialData","onSubmit","onCancel","formData","setFormData","phoneError","setPhoneError","handlePhoneChange","prev","handleDayToggle","d","formattedPhone","Providers","addProvider","updateProvider","deleteProvider","isFormOpen","setIsFormOpen","editingProvider","setEditingProvider","isSubmitting","setIsSubmitting","providerToDelete","setProviderToDelete","handleCloseForm","handleDelete","confirmDelete","handleEdit","handleNewProvider","dialog","Plus","Pencil","Trash2","Phone","SearchableSelect","placeholder","setIsOpen","search","setSearch","containerRef","inputRef","handleClickOutside","filteredOptions","option","selectedOption","handleSelect","validateProduct","formatProductData","DatabaseError","ValidationError","isKnownError","getErrorMessage","createProduct","newProductRef","updateProductById","getProductById","deleteProductById","useProducts","providerProductsQuery","productsList","validationError","formattedProduct","currentProduct","updatedProduct","formattedUpdates","reorderProducts","targetSector","targetPosition","movedProductId","movedProduct","sourceSector","sourceSequence","productSector","currentPosition","useProductUpdate","position","productsSnapshot","allProducts","op","TagInput","onRemove","suggestions","setInputValue","showSuggestions","setShowSuggestions","handleInputChange","handleKeyDown","handleSuggestionClick","suggestion","TagsInput","addTag","removeTag","tag","normalizedTag","tagToRemove","filteredSuggestions","usePackaging","packagingSuggestions","setPackagingSuggestions","packagingRef","unsubscribePackaging","customPackaging","allPackaging","unsubscribeProducts","productPackaging","pkg","packaging","newPackagingRef","useTags","tags","setTags","tagsRef","unsubscribeTags","customTags","productTags","newTagRef","SKU_PREFIX","SKU_PADDING","useSkuSuggestion","suggestedSku","setSuggestedSku","skuRegex","matchingSKUs","sku","paddedNumber","useProductForm","errors","setErrors","updateField","newErrors","handleProviderChange","newProviderId","validateForm","formattedData","SECTOR_COLORS","getSectorColor","updateProductOrder","newOrder","currentSector","newSector","newSequence","sectorProducts","currentSequence","newSeq","seq","dbUpdates","useProductOrder","ProductOrderModal","selectedSector","setSelectedSector","selectedPosition","setSelectedPosition","updateOrder","maxPosition","prevProduct","nextProduct","currentSectorColor","selectedSectorColor","handleSectorChange","sectorProductCount","handleNavigate","direction","newPosition","sectorColor","ChevronLeft","ChevronRight","ProductForm","initialProviderId","addPackaging","tagSuggestions","skuLoading","isOrderModalOpen","setIsOrderModalOpen","handleOrderChange","handleTagsChange","newTags","ArrowUpDown","FullscreenProductForm","ProductCard","onEdit","onDelete","isEditing","setIsEditing","handleUpdate","useMediaQuery","matches","setMatches","mediaQuery","handler","ProductCarousel","onOrderChange","customRender","isLargeScreen","sortedProducts","renderProduct","GlobalProductSearch","onProductSelect","searchResults","setSearchResults","setAllProducts","setIsLoading","providersSnapshot","providersData","searchTermLower","results","aNameMatch","bNameMatch","aTagMatch","bTagMatch","handleProductSelect","Building2","Tag","ProviderProductSearch","onFilter","filtered","Products","selectedProviderId","setSelectedProviderId","addProduct","deleteProduct","isUpdating","filteredProducts","setFilteredProducts","editingProduct","setEditingProduct","productToDelete","setProductToDelete","defaultSector","handleGlobalProductSelect","providerOptions","useOrders","initialOrders","updatedOrders","useGlobalOrders","formatHeader","formatProductLine","quantity","formatProducts","items","productA","productB","formatReport","isWhatsApp","formattedProducts","formatWhatsAppReport","generatePrintTemplate","productsHtml","OrderSummary","preview","report","OrderActions","isWhatsAppDialogOpen","setIsWhatsAppDialogOpen","isPrintDialogOpen","setIsPrintDialogOpen","handleWhatsAppConfirm","whatsappUrl","handlePrintConfirm","template","printWindow","Share2","Printer","OrderList","onSelect","orderNumber","orderProvider","Clock","OrderDetails","ArrowLeft","FileText","OrderListSearch","onOrderSelect","matchingProducts","FullscreenProductEditor","OrderProductCard","onQuantityChange","onProductUpdate","onReview","isReviewed","showQuantityInput","setShowQuantityInput","quantityControlsRef","handleProductUpdate","handleCardClick","handleQuantityClick","handleQuantityChange","newQuantity","handleDecrement","handleIncrement","numValue","Check","Minus","ProductFilter","ProductSelector","selectedProducts","reviewedProducts","setReviewedProducts","filterValue","setFilterValue","markAsReviewed","FullscreenOrderEditor","onConfirm","prevProducts","productIds","externalProducts","total","calculateOrderTotal","createOrderItem","subtotal","createOrder","validateOrder","seenProducts","expectedSubtotal","calculatedTotal","Orders","searchParams","setSearchParams","useSearchParams","addOrder","deleteOrder","globalOrders","globalOrdersLoading","globalProducts","globalProductsLoading","selectedOrder","setSelectedOrder","viewingOrder","setViewingOrder","orderToDelete","setOrderToDelete","setSelectedProducts","shouldReturnToDashboard","setShouldReturnToDashboard","selectedProvider","recentOrders","isNewOrder","todayOrder","initialProducts","newSelected","orderData","handleSelectOrder","handleViewDetails","App","Router","Toaster","Routes","Route","StrictMode"],"mappings":"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","x_google_ignoreList":[0,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,50,51]}