{"version":3,"file":"index-C5JAlN8c.js","sources":["../../node_modules/react-dom/client.js","../../node_modules/reflect-metadata/Reflect.js","../../src/lib/firebase/constants.ts","../../src/lib/firebase/validation.ts","../../src/lib/firebase/config.ts","../../src/lib/firebase/auth.ts","../../src/lib/firebase/database.ts","../../src/contexts/AuthContext.tsx","../../src/components/ProtectedRoute.tsx","../../node_modules/date-fns/toDate.mjs","../../node_modules/date-fns/constructFrom.mjs","../../node_modules/date-fns/addDays.mjs","../../node_modules/date-fns/constants.mjs","../../node_modules/date-fns/_lib/defaultOptions.mjs","../../node_modules/date-fns/startOfWeek.mjs","../../node_modules/date-fns/startOfISOWeek.mjs","../../node_modules/date-fns/getISOWeekYear.mjs","../../node_modules/date-fns/startOfDay.mjs","../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs","../../node_modules/date-fns/differenceInCalendarDays.mjs","../../node_modules/date-fns/startOfISOWeekYear.mjs","../../node_modules/date-fns/addWeeks.mjs","../../node_modules/date-fns/constructNow.mjs","../../node_modules/date-fns/isSameDay.mjs","../../node_modules/date-fns/isDate.mjs","../../node_modules/date-fns/isValid.mjs","../../node_modules/date-fns/endOfDay.mjs","../../node_modules/date-fns/endOfMonth.mjs","../../node_modules/date-fns/eachDayOfInterval.mjs","../../node_modules/date-fns/eachWeekOfInterval.mjs","../../node_modules/date-fns/startOfMonth.mjs","../../node_modules/date-fns/startOfYear.mjs","../../node_modules/date-fns/endOfWeek.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs","../../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs","../../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/localize.mjs","../../node_modules/date-fns/locale/_lib/buildMatchFn.mjs","../../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/match.mjs","../../node_modules/date-fns/locale/en-US.mjs","../../node_modules/date-fns/getDayOfYear.mjs","../../node_modules/date-fns/getISOWeek.mjs","../../node_modules/date-fns/getWeekYear.mjs","../../node_modules/date-fns/startOfWeekYear.mjs","../../node_modules/date-fns/getWeek.mjs","../../node_modules/date-fns/_lib/addLeadingZeros.mjs","../../node_modules/date-fns/_lib/format/lightFormatters.mjs","../../node_modules/date-fns/_lib/format/formatters.mjs","../../node_modules/date-fns/_lib/format/longFormatters.mjs","../../node_modules/date-fns/_lib/protectedTokens.mjs","../../node_modules/date-fns/format.mjs","../../node_modules/date-fns/isSameMonth.mjs","../../node_modules/date-fns/isToday.mjs","../../node_modules/date-fns/locale/es/_lib/formatDistance.mjs","../../node_modules/date-fns/locale/es/_lib/formatLong.mjs","../../node_modules/date-fns/locale/es/_lib/formatRelative.mjs","../../node_modules/date-fns/locale/es/_lib/localize.mjs","../../node_modules/date-fns/locale/es/_lib/match.mjs","../../node_modules/date-fns/locale/es.mjs","../../src/lib/utils/formatting.ts","../../node_modules/clsx/dist/clsx.mjs","../../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../../src/lib/utils/cn.ts","../../src/config/constants.ts","../../src/lib/utils/order.ts","../../src/components/Layout/TopNav.tsx","../../src/components/Layout/index.tsx","../../src/components/ui/Button.tsx","../../src/components/ui/Input.tsx","../../src/pages/Login.tsx","../../node_modules/mobx/dist/mobx.esm.js","../../node_modules/mobx-react-lite/es/utils/assertEnvironment.js","../../node_modules/mobx-react-lite/es/utils/observerBatching.js","../../node_modules/mobx-react-lite/es/utils/printDebugValue.js","../../node_modules/mobx-react-lite/es/utils/UniversalFinalizationRegistry.js","../../node_modules/mobx-react-lite/es/utils/observerFinalizationRegistry.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/mobx-react-lite/es/useObserver.js","../../node_modules/mobx-react-lite/es/observer.js","../../node_modules/mobx-react-lite/es/index.js","../../src/components/ui/Card.tsx","../../node_modules/@inversifyjs/common/lib/esm/index.js","../../node_modules/@inversifyjs/reflect-metadata-utils/lib/esm/index.js","../../node_modules/@inversifyjs/core/lib/esm/index.js","../../node_modules/inversify/lib/esm/index.js","../../src/presentation/di/types.ts","../../src/infrastructure/logging/ConsoleLogger.ts","../../src/core/domain/errors/BaseError.ts","../../src/core/domain/errors/DatabaseError.ts","../../src/infrastructure/repositories/FirebaseOrderRepository.ts","../../src/lib/validation/productValidation.ts","../../src/infrastructure/repositories/FirebaseProductRepository.ts","../../src/infrastructure/repositories/FirebaseProviderRepository.ts","../../src/core/application/services/AnalyticsService.ts","../../src/presentation/viewModels/DashboardViewModel.ts","../../src/presentation/di/container.ts","../../src/presentation/hooks/useViewModel.ts","../../src/components/dashboard/AnalyticsCard.tsx","../../src/components/ui/Dialog.tsx","../../src/components/dashboard/TopProductsModal.tsx","../../src/components/dashboard/TopProductsByTags.tsx","../../src/components/dashboard/TagProductsCard.tsx","../../src/hooks/useGlobalProducts.ts","../../src/hooks/useProviders.ts","../../src/lib/services/errors.ts","../../src/lib/services/products.ts","../../src/lib/utils/csvParser.ts","../../src/lib/utils/csvImport.ts","../../src/components/dashboard/CsvImportResultsModal.tsx","../../src/components/dashboard/CsvImportCard.tsx","../../src/pages/Dashboard.tsx","../../src/components/providers/ProviderForm.tsx","../../src/pages/Providers.tsx","../../src/components/ui/ProviderSelector.tsx","../../src/hooks/useProducts.ts","../../src/components/products/ProductCard.tsx","../../src/hooks/useMediaQuery.ts","../../src/components/products/ProductCarousel.tsx","../../src/components/products/GlobalProductSearch.tsx","../../src/components/products/ProviderProductSearch.tsx","../../src/components/ui/TagsInput.tsx","../../src/hooks/useMeasures.ts","../../src/components/ui/MeasureSelect.tsx","../../src/hooks/useTags.ts","../../src/hooks/useSkuSuggestion.ts","../../src/lib/sectorColors.ts","../../src/components/products/ProductForm.tsx","../../src/components/products/FullscreenProductForm.tsx","../../src/lib/order/utils.ts","../../src/pages/Products.tsx","../../src/lib/utils/printing/styles.ts","../../src/lib/utils/printing/scripts.ts","../../src/lib/utils/printing/recipeTemplate.ts","../../src/components/recipes/RecipeList.tsx","../../src/lib/services/database/fixedCosts.ts","../../src/hooks/useFixedCosts.ts","../../src/components/recipes/MaterialSelector.tsx","../../src/components/recipes/MaterialList.tsx","../../src/lib/recipes/calculations.ts","../../src/components/recipes/RecipeForm.tsx","../../src/components/recipes/FixedCostsForm.tsx","../../src/hooks/useRecipes.ts","../../src/pages/Recipes.tsx","../../src/lib/services/database/operations.ts","../../src/lib/services/database/initializeMeasures.ts","../../src/lib/services/database/collections.ts","../../src/lib/services/orders.ts","../../src/hooks/useOrders.ts","../../src/hooks/useGlobalOrders.ts","../../src/lib/dateUtils.ts","../../src/lib/utils/formatting/reportUtils.ts","../../src/lib/utils/formatting/whatsappReport.ts","../../src/lib/utils/printing/printTemplate.ts","../../src/components/orders/OrderActions.tsx","../../src/components/orders/OrderList.tsx","../../src/components/orders/OrderSummary.tsx","../../src/components/orders/OrderDetails.tsx","../../src/components/orders/OrderListSearch.tsx","../../src/lib/utils/formatting/currency.ts","../../src/components/products/FullscreenProductEditor.tsx","../../src/components/orders/OrderProductCard.tsx","../../src/components/orders/ProductFilter.tsx","../../src/components/orders/ProductSelector.tsx","../../src/lib/order/calculations.ts","../../src/lib/order/validation.ts","../../src/hooks/useOrderAutosave.ts","../../src/components/orders/FullscreenOrderEditor.tsx","../../src/pages/Orders.tsx","../../src/components/schedule/DayDetailsModal.tsx","../../src/pages/Schedule.tsx","../../src/lib/services/zureo/stockCheck.ts","../../src/components/inventory/StockControl.tsx","../../src/components/inventory/StockReport.tsx","../../src/pages/Inventory.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof globalThis === \"object\" ? globalThis :\n            typeof global === \"object\" ? global :\n                typeof self === \"object\" ? self :\n                    typeof this === \"object\" ? this :\n                        sloppyModeThis();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect !== \"undefined\") {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter, root);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                if (previous)\n                    previous(key, value);\n            };\n        }\n        function functionThis() {\n            try {\n                return Function(\"return this;\")();\n            }\n            catch (_) { }\n        }\n        function indirectEvalThis() {\n            try {\n                return (void 0, eval)(\"(function() { return this; })()\");\n            }\n            catch (_) { }\n        }\n        function sloppyModeThis() {\n            return functionThis() || indirectEvalThis();\n        }\n    })(function (exporter, root) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var _Map = typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        var registrySymbol = supportsSymbol ? Symbol.for(\"@reflect-metadata:registry\") : undefined;\n        var metadataRegistry = GetOrCreateMetadataRegistry();\n        var metadataProvider = CreateMetadataProvider(metadataRegistry);\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var provider = GetMetadataProvider(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(provider))\n                return false;\n            return provider.OrdinaryDeleteMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var provider = GetMetadataProvider(O, P, /*Create*/ false);\n            if (IsUndefined(provider))\n                return false;\n            return ToBoolean(provider.OrdinaryHasOwnMetadata(MetadataKey, O, P));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var provider = GetMetadataProvider(O, P, /*Create*/ false);\n            if (IsUndefined(provider))\n                return;\n            return provider.OrdinaryGetOwnMetadata(MetadataKey, O, P);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var provider = GetMetadataProvider(O, P, /*Create*/ true);\n            provider.OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var provider = GetMetadataProvider(O, P, /*create*/ false);\n            if (!provider) {\n                return [];\n            }\n            return provider.OrdinaryOwnMetadataKeys(O, P);\n        }\n        // 6 ECMAScript Data Types and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        function SameValueZero(x, y) {\n            return x === y || x !== x && y !== y;\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // Global metadata registry\n        // - Allows `import \"reflect-metadata\"` and `import \"reflect-metadata/no-conflict\"` to interoperate.\n        // - Uses isolated metadata if `Reflect` is frozen before the registry can be installed.\n        /**\n         * Creates a registry used to allow multiple `reflect-metadata` providers.\n         */\n        function CreateMetadataRegistry() {\n            var fallback;\n            if (!IsUndefined(registrySymbol) &&\n                typeof root.Reflect !== \"undefined\" &&\n                !(registrySymbol in root.Reflect) &&\n                typeof root.Reflect.defineMetadata === \"function\") {\n                // interoperate with older version of `reflect-metadata` that did not support a registry.\n                fallback = CreateFallbackProvider(root.Reflect);\n            }\n            var first;\n            var second;\n            var rest;\n            var targetProviderMap = new _WeakMap();\n            var registry = {\n                registerProvider: registerProvider,\n                getProvider: getProvider,\n                setProvider: setProvider,\n            };\n            return registry;\n            function registerProvider(provider) {\n                if (!Object.isExtensible(registry)) {\n                    throw new Error(\"Cannot add provider to a frozen registry.\");\n                }\n                switch (true) {\n                    case fallback === provider: break;\n                    case IsUndefined(first):\n                        first = provider;\n                        break;\n                    case first === provider: break;\n                    case IsUndefined(second):\n                        second = provider;\n                        break;\n                    case second === provider: break;\n                    default:\n                        if (rest === undefined)\n                            rest = new _Set();\n                        rest.add(provider);\n                        break;\n                }\n            }\n            function getProviderNoCache(O, P) {\n                if (!IsUndefined(first)) {\n                    if (first.isProviderFor(O, P))\n                        return first;\n                    if (!IsUndefined(second)) {\n                        if (second.isProviderFor(O, P))\n                            return first;\n                        if (!IsUndefined(rest)) {\n                            var iterator = GetIterator(rest);\n                            while (true) {\n                                var next = IteratorStep(iterator);\n                                if (!next) {\n                                    return undefined;\n                                }\n                                var provider = IteratorValue(next);\n                                if (provider.isProviderFor(O, P)) {\n                                    IteratorClose(iterator);\n                                    return provider;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (!IsUndefined(fallback) && fallback.isProviderFor(O, P)) {\n                    return fallback;\n                }\n                return undefined;\n            }\n            function getProvider(O, P) {\n                var providerMap = targetProviderMap.get(O);\n                var provider;\n                if (!IsUndefined(providerMap)) {\n                    provider = providerMap.get(P);\n                }\n                if (!IsUndefined(provider)) {\n                    return provider;\n                }\n                provider = getProviderNoCache(O, P);\n                if (!IsUndefined(provider)) {\n                    if (IsUndefined(providerMap)) {\n                        providerMap = new _Map();\n                        targetProviderMap.set(O, providerMap);\n                    }\n                    providerMap.set(P, provider);\n                }\n                return provider;\n            }\n            function hasProvider(provider) {\n                if (IsUndefined(provider))\n                    throw new TypeError();\n                return first === provider || second === provider || !IsUndefined(rest) && rest.has(provider);\n            }\n            function setProvider(O, P, provider) {\n                if (!hasProvider(provider)) {\n                    throw new Error(\"Metadata provider not registered.\");\n                }\n                var existingProvider = getProvider(O, P);\n                if (existingProvider !== provider) {\n                    if (!IsUndefined(existingProvider)) {\n                        return false;\n                    }\n                    var providerMap = targetProviderMap.get(O);\n                    if (IsUndefined(providerMap)) {\n                        providerMap = new _Map();\n                        targetProviderMap.set(O, providerMap);\n                    }\n                    providerMap.set(P, provider);\n                }\n                return true;\n            }\n        }\n        /**\n         * Gets or creates the shared registry of metadata providers.\n         */\n        function GetOrCreateMetadataRegistry() {\n            var metadataRegistry;\n            if (!IsUndefined(registrySymbol) && IsObject(root.Reflect) && Object.isExtensible(root.Reflect)) {\n                metadataRegistry = root.Reflect[registrySymbol];\n            }\n            if (IsUndefined(metadataRegistry)) {\n                metadataRegistry = CreateMetadataRegistry();\n            }\n            if (!IsUndefined(registrySymbol) && IsObject(root.Reflect) && Object.isExtensible(root.Reflect)) {\n                Object.defineProperty(root.Reflect, registrySymbol, {\n                    enumerable: false,\n                    configurable: false,\n                    writable: false,\n                    value: metadataRegistry\n                });\n            }\n            return metadataRegistry;\n        }\n        function CreateMetadataProvider(registry) {\n            // [[Metadata]] internal slot\n            // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n            var metadata = new _WeakMap();\n            var provider = {\n                isProviderFor: function (O, P) {\n                    var targetMetadata = metadata.get(O);\n                    if (IsUndefined(targetMetadata))\n                        return false;\n                    return targetMetadata.has(P);\n                },\n                OrdinaryDefineOwnMetadata: OrdinaryDefineOwnMetadata,\n                OrdinaryHasOwnMetadata: OrdinaryHasOwnMetadata,\n                OrdinaryGetOwnMetadata: OrdinaryGetOwnMetadata,\n                OrdinaryOwnMetadataKeys: OrdinaryOwnMetadataKeys,\n                OrdinaryDeleteMetadata: OrdinaryDeleteMetadata,\n            };\n            metadataRegistry.registerProvider(provider);\n            return provider;\n            function GetOrCreateMetadataMap(O, P, Create) {\n                var targetMetadata = metadata.get(O);\n                var createdTargetMetadata = false;\n                if (IsUndefined(targetMetadata)) {\n                    if (!Create)\n                        return undefined;\n                    targetMetadata = new _Map();\n                    metadata.set(O, targetMetadata);\n                    createdTargetMetadata = true;\n                }\n                var metadataMap = targetMetadata.get(P);\n                if (IsUndefined(metadataMap)) {\n                    if (!Create)\n                        return undefined;\n                    metadataMap = new _Map();\n                    targetMetadata.set(P, metadataMap);\n                    if (!registry.setProvider(O, P, provider)) {\n                        targetMetadata.delete(P);\n                        if (createdTargetMetadata) {\n                            metadata.delete(O);\n                        }\n                        throw new Error(\"Wrong provider for target.\");\n                    }\n                }\n                return metadataMap;\n            }\n            // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n            // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n            function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n                if (IsUndefined(metadataMap))\n                    return false;\n                return ToBoolean(metadataMap.has(MetadataKey));\n            }\n            // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n            // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n            function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n                if (IsUndefined(metadataMap))\n                    return undefined;\n                return metadataMap.get(MetadataKey);\n            }\n            // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n            // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n            function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n                metadataMap.set(MetadataKey, MetadataValue);\n            }\n            // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n            // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n            function OrdinaryOwnMetadataKeys(O, P) {\n                var keys = [];\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n                if (IsUndefined(metadataMap))\n                    return keys;\n                var keysObj = metadataMap.keys();\n                var iterator = GetIterator(keysObj);\n                var k = 0;\n                while (true) {\n                    var next = IteratorStep(iterator);\n                    if (!next) {\n                        keys.length = k;\n                        return keys;\n                    }\n                    var nextValue = IteratorValue(next);\n                    try {\n                        keys[k] = nextValue;\n                    }\n                    catch (e) {\n                        try {\n                            IteratorClose(iterator);\n                        }\n                        finally {\n                            throw e;\n                        }\n                    }\n                    k++;\n                }\n            }\n            function OrdinaryDeleteMetadata(MetadataKey, O, P) {\n                var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n                if (IsUndefined(metadataMap))\n                    return false;\n                if (!metadataMap.delete(MetadataKey))\n                    return false;\n                if (metadataMap.size === 0) {\n                    var targetMetadata = metadata.get(O);\n                    if (!IsUndefined(targetMetadata)) {\n                        targetMetadata.delete(P);\n                        if (targetMetadata.size === 0) {\n                            metadata.delete(targetMetadata);\n                        }\n                    }\n                }\n                return true;\n            }\n        }\n        function CreateFallbackProvider(reflect) {\n            var defineMetadata = reflect.defineMetadata, hasOwnMetadata = reflect.hasOwnMetadata, getOwnMetadata = reflect.getOwnMetadata, getOwnMetadataKeys = reflect.getOwnMetadataKeys, deleteMetadata = reflect.deleteMetadata;\n            var metadataOwner = new _WeakMap();\n            var provider = {\n                isProviderFor: function (O, P) {\n                    var metadataPropertySet = metadataOwner.get(O);\n                    if (!IsUndefined(metadataPropertySet) && metadataPropertySet.has(P)) {\n                        return true;\n                    }\n                    if (getOwnMetadataKeys(O, P).length) {\n                        if (IsUndefined(metadataPropertySet)) {\n                            metadataPropertySet = new _Set();\n                            metadataOwner.set(O, metadataPropertySet);\n                        }\n                        metadataPropertySet.add(P);\n                        return true;\n                    }\n                    return false;\n                },\n                OrdinaryDefineOwnMetadata: defineMetadata,\n                OrdinaryHasOwnMetadata: hasOwnMetadata,\n                OrdinaryGetOwnMetadata: getOwnMetadata,\n                OrdinaryOwnMetadataKeys: getOwnMetadataKeys,\n                OrdinaryDeleteMetadata: deleteMetadata,\n            };\n            return provider;\n        }\n        /**\n         * Gets the metadata provider for an object. If the object has no metadata provider and this is for a create operation,\n         * then this module's metadata provider is assigned to the object.\n         */\n        function GetMetadataProvider(O, P, Create) {\n            var registeredProvider = metadataRegistry.getProvider(O, P);\n            if (!IsUndefined(registeredProvider)) {\n                return registeredProvider;\n            }\n            if (Create) {\n                if (metadataRegistry.setProvider(O, P, metadataProvider)) {\n                    return metadataProvider;\n                }\n                throw new Error(\"Illegal state.\");\n            }\n            return undefined;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            var Map = /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (SameValueZero(key, this._cacheKey)) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (!SameValueZero(this._cacheKey, key)) {\n                        this._cacheIndex = -1;\n                        for (var i = 0; i < this._keys.length; i++) {\n                            if (SameValueZero(this._keys[i], key)) {\n                                this._cacheIndex = i;\n                                break;\n                            }\n                        }\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            return Map;\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            var Set = /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.keys(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n            return Set;\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    var array = new Uint8Array(size);\n                    if (typeof crypto !== \"undefined\") {\n                        crypto.getRandomValues(array);\n                    }\n                    else if (typeof msCrypto !== \"undefined\") {\n                        msCrypto.getRandomValues(array);\n                    }\n                    else {\n                        FillRandomBytes(array, size);\n                    }\n                    return array;\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122 § 4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","export const REQUIRED_ENV_VARS = [\n  'VITE_FIREBASE_API_KEY',\n  'VITE_FIREBASE_AUTH_DOMAIN',\n  'VITE_FIREBASE_DATABASE_URL',\n  'VITE_FIREBASE_PROJECT_ID',\n  'VITE_FIREBASE_STORAGE_BUCKET',\n  'VITE_FIREBASE_MESSAGING_SENDER_ID',\n  'VITE_FIREBASE_APP_ID'\n] as const;\n\nexport const DEMO_CONFIG = {\n  apiKey: \"AIzaSyCswObxYzO5gjurKWnAI387lzoEXJjn24k\",\n  authDomain: \"nrd-ordenes.firebaseapp.com\",\n  databaseURL: \"https://nrd-ordenes-default-rtdb.asia-southeast1.firebasedatabase.app\",\n  projectId: \"nrd-ordenes\",\n  storageBucket: \"nrd-ordenes.firebasestorage.app\",\n  messagingSenderId: \"158356819364\",\n  appId: \"1:158356819364:web:c9a87a35706babd4608531\"\n} as const;","import { FirebaseConfig, ConfigValidationResult } from './types';\nimport { REQUIRED_ENV_VARS, DEMO_CONFIG } from './constants';\n\nexport function validateConfig(): ConfigValidationResult {\n  const missingVars = REQUIRED_ENV_VARS.filter(key => !import.meta.env[key]);\n\n  if (missingVars.length > 0) {\n    return {\n      isValid: false,\n      missingVars,\n      config: null\n    };\n  }\n\n  const config: FirebaseConfig = {\n    apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\n    authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,\n    databaseURL: import.meta.env.VITE_FIREBASE_DATABASE_URL,\n    projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\n    storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,\n    appId: import.meta.env.VITE_FIREBASE_APP_ID\n  };\n\n  return {\n    isValid: true,\n    missingVars: [],\n    config\n  };\n}\n\nexport function getDemoConfig(): FirebaseConfig {\n  return { ...DEMO_CONFIG };\n}","import { initializeApp } from 'firebase/app';\nimport { validateConfig, getDemoConfig } from './validation';\n\nconst validation = validateConfig();\nconst config = validation.isValid ? validation.config! : getDemoConfig();\n\n// Initialize Firebase\nexport const app = initializeApp(config);\n\n// Log initialization mode\nif (!validation.isValid) {\n  console.warn(\n    'Firebase initialized in demo mode. The following environment variables are missing:',\n    validation.missingVars\n  );\n} else {\n  console.info(`Firebase initialized in ${import.meta.env.MODE} mode`);\n}\n\nexport const isDemoMode = !validation.isValid;","import { getAuth, signInWithEmailAndPassword, signOut as firebaseSignOut, User } from 'firebase/auth';\nimport { app } from './config';\n\nexport const auth = getAuth(app);\n\nexport interface AuthUser extends User {\n  displayName: string | null;\n  email: string | null;\n}\n\nexport async function signIn(email: string, password: string): Promise<AuthUser> {\n  try {\n    const result = await signInWithEmailAndPassword(auth, email, password);\n    return result.user as AuthUser;\n  } catch (error) {\n    console.error('Authentication error:', error);\n    throw new Error('Error de autenticación: credenciales inválidas');\n  }\n}\n\nexport async function signOut(): Promise<void> {\n  try {\n    await firebaseSignOut(auth);\n  } catch (error) {\n    console.error('Sign out error:', error);\n    throw new Error('Error al cerrar sesión');\n  }\n}","import { getDatabase } from 'firebase/database';\nimport { app } from './config';\n\n// Initialize Firebase Realtime Database\nexport const db = getDatabase(app);\n\n// Export database instance as default\nexport default db;","import React, { createContext, useContext, useEffect, useState } from 'react';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, signIn, signOut, AuthUser } from '@/lib/firebase/auth';\nimport { validateConfig } from '@/lib/firebase/validation';\nimport { isDemoMode } from '@/lib/firebase';\nimport { toast } from 'react-hot-toast';\n\ninterface AuthContextType {\n  user: AuthUser | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<void>;\n  signOut: () => Promise<void>;\n  isDemoMode: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<AuthUser | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [authError, setAuthError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    try {\n      const unsubscribe = onAuthStateChanged(auth, (user) => {\n        setUser(user as AuthUser);\n        setLoading(false);\n      });\n\n      return unsubscribe;\n    } catch (error) {\n      console.error('Auth initialization error:', error);\n      setAuthError(error instanceof Error ? error : new Error('Error de autenticación'));\n      setLoading(false);\n    }\n  }, []);\n\n  const handleSignIn = async (email: string, password: string) => {\n    if (isDemoMode) {\n      toast.error('Autenticación no disponible en modo demo');\n      return;\n    }\n\n    try {\n      await signIn(email, password);\n      toast.success('¡Bienvenido!');\n    } catch (error) {\n      console.error('Sign in error:', error);\n      toast.error('Credenciales inválidas');\n      throw error;\n    }\n  };\n\n  const handleSignOut = async () => {\n    if (isDemoMode) {\n      toast.error('Cierre de sesión no disponible en modo demo');\n      return;\n    }\n\n    try {\n      await signOut();\n      toast.success('Sesión cerrada');\n    } catch (error) {\n      console.error('Sign out error:', error);\n      toast.error('Error al cerrar sesión');\n      throw error;\n    }\n  };\n\n  // Show error message if Firebase failed to initialize\n  if (authError) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100 p-4\">\n        <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-md w-full\">\n          <h2 className=\"text-xl font-bold text-red-600 mb-4\">Error de Inicialización</h2>\n          <p className=\"text-gray-600\">\n            No se pudo inicializar la aplicación. Por favor, verifique la configuración e intente nuevamente.\n          </p>\n          {isDemoMode && (\n            <p className=\"mt-4 text-sm text-amber-600\">\n              Ejecutando en modo demo. Algunas funciones estarán limitadas.\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        loading,\n        signIn: handleSignIn,\n        signOut: handleSignOut,\n        isDemoMode\n      }}\n    >\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}","import { Navigate, Outlet } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\n\nexport function ProtectedRoute() {\n  const { user } = useAuth();\n\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return <Outlet />;\n}","/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount) {\n  const _date = toDate(date);\n  if (isNaN(amount)) return constructFrom(date, NaN);\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n","import { startOfWeek } from \"./startOfWeek.mjs\";\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date) {\n  return startOfWeek(date, { weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { millisecondsInDay } from \"./constants.mjs\";\nimport { startOfDay } from \"./startOfDay.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(dateLeft, dateRight) {\n  const startOfDayLeft = startOfDay(dateLeft);\n  const startOfDayRight = startOfDay(dateRight);\n\n  const timestampLeft =\n    +startOfDayLeft - getTimezoneOffsetInMilliseconds(startOfDayLeft);\n  const timestampRight =\n    +startOfDayRight - getTimezoneOffsetInMilliseconds(startOfDayRight);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((timestampLeft - timestampRight) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n","import { getISOWeekYear } from \"./getISOWeekYear.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date) {\n  const year = getISOWeekYear(date);\n  const fourthOfJanuary = constructFrom(date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n","import { addDays } from \"./addDays.mjs\";\n\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of week to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be added.\n *\n * @returns The new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport function addWeeks(date, amount) {\n  const days = amount * 7;\n  return addDays(date, days);\n}\n\n// Fallback for modularized imports:\nexport default addWeeks;\n","import { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name constructNow\n * @category Generic Helpers\n * @summary Constructs a new current date using the passed value constructor.\n * @pure false\n *\n * @description\n * The function constructs a new current date using the constructor from\n * the reference date. It helps to build generic functions that accept date\n * extensions and use the current date.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n *\n * @returns Current date initialized using the given date constructor\n *\n * @example\n * import { constructNow, isSameDay } from 'date-fns'\n *\n * function isToday<DateType extends Date>(\n *   date: DateType | number | string,\n * ): boolean {\n *   // If we were to use `new Date()` directly, the function would  behave\n *   // differently in different timezones and return false for the same date.\n *   return isSameDay(date, constructNow(date));\n * }\n */\nexport function constructNow(date) {\n  return constructFrom(date, Date.now());\n}\n\n// Fallback for modularized imports:\nexport default constructNow;\n","import { startOfDay } from \"./startOfDay.mjs\";\n\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to check\n * @param dateRight - The second date to check\n\n * @returns The dates are in the same day (and year and month)\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport function isSameDay(dateLeft, dateRight) {\n  const dateLeftStartOfDay = startOfDay(dateLeft);\n  const dateRightStartOfDay = startOfDay(dateRight);\n\n  return +dateLeftStartOfDay === +dateRightStartOfDay;\n}\n\n// Fallback for modularized imports:\nexport default isSameDay;\n","/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n","import { isDate } from \"./isDate.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  if (!isDate(date) && typeof date !== \"number\") {\n    return false;\n  }\n  const _date = toDate(date);\n  return !isNaN(Number(_date));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link eachDayOfInterval} function options.\n */\n\n/**\n * @name eachDayOfInterval\n * @category Interval Helpers\n * @summary Return the array of dates within the specified time interval.\n *\n * @description\n * Return the array of dates within the specified time interval.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param interval - The interval.\n * @param options - An object with options.\n *\n * @returns The array with starts of days from the day of the interval start to the day of the interval end\n *\n * @example\n * // Each day between 6 October 2014 and 10 October 2014:\n * const result = eachDayOfInterval({\n *   start: new Date(2014, 9, 6),\n *   end: new Date(2014, 9, 10)\n * })\n * //=> [\n * //   Mon Oct 06 2014 00:00:00,\n * //   Tue Oct 07 2014 00:00:00,\n * //   Wed Oct 08 2014 00:00:00,\n * //   Thu Oct 09 2014 00:00:00,\n * //   Fri Oct 10 2014 00:00:00\n * // ]\n */\nexport function eachDayOfInterval(interval, options) {\n  const startDate = toDate(interval.start);\n  const endDate = toDate(interval.end);\n\n  let reversed = +startDate > +endDate;\n  const endTime = reversed ? +startDate : +endDate;\n  const currentDate = reversed ? endDate : startDate;\n  currentDate.setHours(0, 0, 0, 0);\n\n  let step = options?.step ?? 1;\n  if (!step) return [];\n  if (step < 0) {\n    step = -step;\n    reversed = !reversed;\n  }\n\n  const dates = [];\n\n  while (+currentDate <= endTime) {\n    dates.push(toDate(currentDate));\n    currentDate.setDate(currentDate.getDate() + step);\n    currentDate.setHours(0, 0, 0, 0);\n  }\n\n  return reversed ? dates.reverse() : dates;\n}\n\n// Fallback for modularized imports:\nexport default eachDayOfInterval;\n","import { addWeeks } from \"./addWeeks.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link eachWeekOfInterval} function options.\n */\n\n/**\n * @name eachWeekOfInterval\n * @category Interval Helpers\n * @summary Return the array of weeks within the specified time interval.\n *\n * @description\n * Return the array of weeks within the specified time interval.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param interval - The interval.\n * @param options - An object with options.\n *\n * @returns The array with starts of weeks from the week of the interval start to the week of the interval end\n *\n * @example\n * // Each week within interval 6 October 2014 - 23 November 2014:\n * const result = eachWeekOfInterval({\n *   start: new Date(2014, 9, 6),\n *   end: new Date(2014, 10, 23)\n * })\n * //=> [\n * //   Sun Oct 05 2014 00:00:00,\n * //   Sun Oct 12 2014 00:00:00,\n * //   Sun Oct 19 2014 00:00:00,\n * //   Sun Oct 26 2014 00:00:00,\n * //   Sun Nov 02 2014 00:00:00,\n * //   Sun Nov 09 2014 00:00:00,\n * //   Sun Nov 16 2014 00:00:00,\n * //   Sun Nov 23 2014 00:00:00\n * // ]\n */\nexport function eachWeekOfInterval(interval, options) {\n  const startDate = toDate(interval.start);\n  const endDate = toDate(interval.end);\n\n  let reversed = +startDate > +endDate;\n  const startDateWeek = reversed\n    ? startOfWeek(endDate, options)\n    : startOfWeek(startDate, options);\n  const endDateWeek = reversed\n    ? startOfWeek(startDate, options)\n    : startOfWeek(endDate, options);\n\n  // Some timezones switch DST at midnight, making start of day unreliable in these timezones, 3pm is a safe bet\n  startDateWeek.setHours(15);\n  endDateWeek.setHours(15);\n\n  const endTime = +endDateWeek.getTime();\n  let currentDate = startDateWeek;\n\n  let step = options?.step ?? 1;\n  if (!step) return [];\n  if (step < 0) {\n    step = -step;\n    reversed = !reversed;\n  }\n\n  const dates = [];\n\n  while (+currentDate <= endTime) {\n    currentDate.setHours(0);\n    dates.push(toDate(currentDate));\n    currentDate = addWeeks(currentDate, step);\n    currentDate.setHours(15);\n  }\n\n  return reversed ? dates.reverse() : dates;\n}\n\n// Fallback for modularized imports:\nexport default eachWeekOfInterval;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date) {\n  const _date = toDate(date);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n","import { toDate } from \"./toDate.mjs\";\nimport { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date) {\n  const cleanDate = toDate(date);\n  const _date = constructFrom(date, 0);\n  _date.setFullYear(cleanDate.getFullYear(), 0, 1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n","import { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link endOfWeek} function options.\n */\n\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a week\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport function endOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n\n  _date.setDate(_date.getDate() + diff);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfWeek;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.mjs\";\nimport { startOfYear } from \"./startOfYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date) {\n  const _date = toDate(date);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfISOWeek } from \"./startOfISOWeek.mjs\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date) {\n  const _date = toDate(date);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n","import { constructFrom } from \"./constructFrom.mjs\";\nimport { getWeekYear } from \"./getWeekYear.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n","import { millisecondsInWeek } from \"./constants.mjs\";\nimport { startOfWeek } from \"./startOfWeek.mjs\";\nimport { startOfWeekYear } from \"./startOfWeekYear.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nexport function getWeek(date, options) {\n  const _date = toDate(date);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n","export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n","import { addLeadingZeros } from \"../addLeadingZeros.mjs\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n","import { getDayOfYear } from \"../../getDayOfYear.mjs\";\nimport { getISOWeek } from \"../../getISOWeek.mjs\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.mjs\";\nimport { getWeek } from \"../../getWeek.mjs\";\nimport { getWeekYear } from \"../../getWeekYear.mjs\";\nimport { addLeadingZeros } from \"../addLeadingZeros.mjs\";\nimport { lightFormatters } from \"./lightFormatters.mjs\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(date.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    const timestamp = date.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n","const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n","const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n","import { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { formatters } from \"./_lib/format/formatters.mjs\";\nimport { longFormatters } from \"./_lib/format/longFormatters.mjs\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.mjs\";\nimport { isValid } from \"./isValid.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isSameMonth\n * @category Month Helpers\n * @summary Are the given dates in the same month (and year)?\n *\n * @description\n * Are the given dates in the same month (and year)?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to check\n * @param dateRight - The second date to check\n *\n * @returns The dates are in the same month (and year)\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n *\n * @example\n * // Are 2 September 2014 and 25 September 2015 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2015, 8, 25))\n * //=> false\n */\nexport function isSameMonth(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n  return (\n    _dateLeft.getFullYear() === _dateRight.getFullYear() &&\n    _dateLeft.getMonth() === _dateRight.getMonth()\n  );\n}\n\n// Fallback for modularized imports:\nexport default isSameMonth;\n","import { constructNow } from \"./constructNow.mjs\";\nimport { isSameDay } from \"./isSameDay.mjs\";\n\n/**\n * @name isToday\n * @category Day Helpers\n * @summary Is the given date today?\n * @pure false\n *\n * @description\n * Is the given date today?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n *\n * @returns The date is today\n *\n * @example\n * // If today is 6 October 2014, is 6 October 14:00:00 today?\n * const result = isToday(new Date(2014, 9, 6, 14, 0))\n * //=> true\n */\nexport function isToday(date) {\n  return isSameDay(date, constructNow(date));\n}\n\n// Fallback for modularized imports:\nexport default isToday;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"menos de un segundo\",\n    other: \"menos de {{count}} segundos\",\n  },\n\n  xSeconds: {\n    one: \"1 segundo\",\n    other: \"{{count}} segundos\",\n  },\n\n  halfAMinute: \"medio minuto\",\n\n  lessThanXMinutes: {\n    one: \"menos de un minuto\",\n    other: \"menos de {{count}} minutos\",\n  },\n\n  xMinutes: {\n    one: \"1 minuto\",\n    other: \"{{count}} minutos\",\n  },\n\n  aboutXHours: {\n    one: \"alrededor de 1 hora\",\n    other: \"alrededor de {{count}} horas\",\n  },\n\n  xHours: {\n    one: \"1 hora\",\n    other: \"{{count}} horas\",\n  },\n\n  xDays: {\n    one: \"1 día\",\n    other: \"{{count}} días\",\n  },\n\n  aboutXWeeks: {\n    one: \"alrededor de 1 semana\",\n    other: \"alrededor de {{count}} semanas\",\n  },\n\n  xWeeks: {\n    one: \"1 semana\",\n    other: \"{{count}} semanas\",\n  },\n\n  aboutXMonths: {\n    one: \"alrededor de 1 mes\",\n    other: \"alrededor de {{count}} meses\",\n  },\n\n  xMonths: {\n    one: \"1 mes\",\n    other: \"{{count}} meses\",\n  },\n\n  aboutXYears: {\n    one: \"alrededor de 1 año\",\n    other: \"alrededor de {{count}} años\",\n  },\n\n  xYears: {\n    one: \"1 año\",\n    other: \"{{count}} años\",\n  },\n\n  overXYears: {\n    one: \"más de 1 año\",\n    other: \"más de {{count}} años\",\n  },\n\n  almostXYears: {\n    one: \"casi 1 año\",\n    other: \"casi {{count}} años\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"en \" + result;\n    } else {\n      return \"hace \" + result;\n    }\n  }\n\n  return result;\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, d 'de' MMMM 'de' y\",\n  long: \"d 'de' MMMM 'de' y\",\n  medium: \"d MMM y\",\n  short: \"dd/MM/y\",\n};\n\nconst timeFormats = {\n  full: \"HH:mm:ss zzzz\",\n  long: \"HH:mm:ss z\",\n  medium: \"HH:mm:ss\",\n  short: \"HH:mm\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'a las' {{time}}\",\n  long: \"{{date}} 'a las' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'el' eeee 'pasado a la' p\",\n  yesterday: \"'ayer a la' p\",\n  today: \"'hoy a la' p\",\n  tomorrow: \"'mañana a la' p\",\n  nextWeek: \"eeee 'a la' p\",\n  other: \"P\",\n};\n\nconst formatRelativeLocalePlural = {\n  lastWeek: \"'el' eeee 'pasado a las' p\",\n  yesterday: \"'ayer a las' p\",\n  today: \"'hoy a las' p\",\n  tomorrow: \"'mañana a las' p\",\n  nextWeek: \"eeee 'a las' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, date, _baseDate, _options) => {\n  if (date.getHours() !== 1) {\n    return formatRelativeLocalePlural[token];\n  } else {\n    return formatRelativeLocale[token];\n  }\n};\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"AC\", \"DC\"],\n  abbreviated: [\"AC\", \"DC\"],\n  wide: [\"antes de cristo\", \"después de cristo\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"T1\", \"T2\", \"T3\", \"T4\"],\n  wide: [\"1º trimestre\", \"2º trimestre\", \"3º trimestre\", \"4º trimestre\"],\n};\n\nconst monthValues = {\n  narrow: [\"e\", \"f\", \"m\", \"a\", \"m\", \"j\", \"j\", \"a\", \"s\", \"o\", \"n\", \"d\"],\n  abbreviated: [\n    \"ene\",\n    \"feb\",\n    \"mar\",\n    \"abr\",\n    \"may\",\n    \"jun\",\n    \"jul\",\n    \"ago\",\n    \"sep\",\n    \"oct\",\n    \"nov\",\n    \"dic\",\n  ],\n\n  wide: [\n    \"enero\",\n    \"febrero\",\n    \"marzo\",\n    \"abril\",\n    \"mayo\",\n    \"junio\",\n    \"julio\",\n    \"agosto\",\n    \"septiembre\",\n    \"octubre\",\n    \"noviembre\",\n    \"diciembre\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"d\", \"l\", \"m\", \"m\", \"j\", \"v\", \"s\"],\n  short: [\"do\", \"lu\", \"ma\", \"mi\", \"ju\", \"vi\", \"sá\"],\n  abbreviated: [\"dom\", \"lun\", \"mar\", \"mié\", \"jue\", \"vie\", \"sáb\"],\n  wide: [\n    \"domingo\",\n    \"lunes\",\n    \"martes\",\n    \"miércoles\",\n    \"jueves\",\n    \"viernes\",\n    \"sábado\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"mañana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"mañana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"mañana\",\n    afternoon: \"tarde\",\n    evening: \"tarde\",\n    night: \"noche\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mn\",\n    noon: \"md\",\n    morning: \"de la mañana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"de la mañana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"medianoche\",\n    noon: \"mediodia\",\n    morning: \"de la mañana\",\n    afternoon: \"de la tarde\",\n    evening: \"de la tarde\",\n    night: \"de la noche\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n  return number + \"º\";\n};\n\nexport const localize = {\n  ordinalNumber: ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => Number(quarter) - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\nimport { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(º)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(ac|dc|a|d)/i,\n  abbreviated: /^(a\\.?\\s?c\\.?|a\\.?\\s?e\\.?\\s?c\\.?|d\\.?\\s?c\\.?|e\\.?\\s?c\\.?)/i,\n  wide: /^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i,\n};\nconst parseEraPatterns = {\n  any: [/^ac/i, /^dc/i],\n  wide: [\n    /^(antes de cristo|antes de la era com[uú]n)/i,\n    /^(despu[eé]s de cristo|era com[uú]n)/i,\n  ],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^T[1234]/i,\n  wide: /^[1234](º)? trimestre/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[efmajsond]/i,\n  abbreviated: /^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,\n  wide: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^e/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^en/i,\n    /^feb/i,\n    /^mar/i,\n    /^abr/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^ago/i,\n    /^sep/i,\n    /^oct/i,\n    /^nov/i,\n    /^dic/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[dlmjvs]/i,\n  short: /^(do|lu|ma|mi|ju|vi|s[áa])/i,\n  abbreviated: /^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,\n  wide: /^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],\n  any: [/^do/i, /^lu/i, /^ma/i, /^mi/i, /^ju/i, /^vi/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,\n  any: /^([ap]\\.?\\s?m\\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mn/i,\n    noon: /^md/i,\n    morning: /mañana/i,\n    afternoon: /tarde/i,\n    evening: /tarde/i,\n    night: /noche/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    },\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./es/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./es/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./es/_lib/formatRelative.mjs\";\nimport { localize } from \"./es/_lib/localize.mjs\";\nimport { match } from \"./es/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary Spanish locale.\n * @language Spanish\n * @iso-639-2 spa\n * @author Juan Angosto [@juanangosto](https://github.com/juanangosto)\n * @author Guillermo Grau [@guigrpa](https://github.com/guigrpa)\n * @author Fernando Agüero [@fjaguero](https://github.com/fjaguero)\n * @author Gastón Haro [@harogaston](https://github.com/harogaston)\n * @author Yago Carballo [@YagoCarballo](https://github.com/YagoCarballo)\n */\nexport const es = {\n  code: \"es\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1 /* Monday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default es;\n","import { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Order, Product } from '@/types';\n\nexport function formatPrice(price: number): string {\n  return new Intl.NumberFormat('es-UY', {\n    style: 'currency',\n    currency: 'UYU'\n  }).format(price);\n}\n\nexport function formatPhoneNumber(phone: string): string {\n  const cleaned = phone.replace(/\\D/g, '');\n  const number = cleaned.startsWith('598') ? cleaned.slice(3) : cleaned;\n  \n  if (number.length >= 8) {\n    const parts = [\n      number.slice(0, 2),\n      number.slice(2, 5),\n      number.slice(5)\n    ];\n    return `+598 ${parts.join(' ')}`;\n  }\n  \n  return `+598 ${number}`;\n}\n\nexport function validatePhoneNumber(phone: string): boolean {\n  const cleaned = phone.replace(/\\D/g, '');\n  const number = cleaned.startsWith('598') ? cleaned.slice(3) : cleaned;\n  return /^[0-9]{8,9}$/.test(number);\n}\n\nexport function generateWhatsAppLink(phone: string, message: string): string {\n  const cleaned = phone.replace(/\\D/g, '');\n  const number = cleaned.startsWith('598') ? cleaned : `598${cleaned}`;\n  return `https://wa.me/${number}?text=${encodeURIComponent(message)}`;\n}\n\nexport function formatOrderMessage(order: Order, products: Product[], providerName: string, providerLegalName?: string): string {\n  const date = format(new Date(order.date), \"dd/MM/yyyy HH:mm:ss\", { locale: es });\n  \n  // Format header with provider names\n  const header = [\n    `Pedido: ${date}`,\n    providerName,\n    providerLegalName && providerLegalName !== providerName ? providerLegalName : '',\n    '________________________________'\n  ].filter(Boolean).join('\\n');\n\n  // Format items\n  const items = order.items\n    .map(item => {\n      const product = products.find(p => p.id === item.productId);\n      if (!product) return null;\n      \n      const skuPart = product.sku ? `[${product.sku}] ` : '';\n      return `. ${item.quantity} ${product.purchasePackaging} - ${skuPart}${product.name}`;\n    })\n    .filter(Boolean)\n    .join('\\n');\n\n  return `${header}\\n${items}`;\n}","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    prefix\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  const prefixedClassGroupEntries = getPrefixedClassGroupEntries(Object.entries(config.classGroups), prefix);\n  prefixedClassGroupEntries.forEach(([classGroupId, classGroup]) => {\n    processClassesRecursively(classGroup, classMap, classGroupId, theme);\n  });\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\nconst getPrefixedClassGroupEntries = (classGroupEntries, prefix) => {\n  if (!prefix) {\n    return classGroupEntries;\n  }\n  return classGroupEntries.map(([classGroupId, classGroup]) => {\n    const prefixedClassGroup = classGroup.map(classDefinition => {\n      if (typeof classDefinition === 'string') {\n        return prefix + classDefinition;\n      }\n      if (typeof classDefinition === 'object') {\n        return Object.fromEntries(Object.entries(classDefinition).map(([key, value]) => [prefix + key, value]));\n      }\n      return classDefinition;\n    });\n    return [classGroupId, prefixedClassGroup];\n  });\n};\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst createParseClassName = config => {\n  const {\n    separator,\n    experimentalParseClassName\n  } = config;\n  const isSeparatorSingleCharacter = separator.length === 1;\n  const firstSeparatorCharacter = separator[0];\n  const separatorLength = separator.length;\n  // parseClassName inspired by https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n  const parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0) {\n        if (currentCharacter === firstSeparatorCharacter && (isSeparatorSingleCharacter || className.slice(index, index + separatorLength) === separator)) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + separatorLength;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const hasImportantModifier = baseClassNameWithImportantModifier.startsWith(IMPORTANT_MODIFIER);\n    const baseClassName = hasImportantModifier ? baseClassNameWithImportantModifier.substring(1) : baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (experimentalParseClassName) {\n    return className => experimentalParseClassName({\n      className,\n      parseClassName\n    });\n  }\n  return parseClassName;\n};\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst sortModifiers = modifiers => {\n  if (modifiers.length <= 1) {\n    return modifiers;\n  }\n  const sortedModifiers = [];\n  let unsortedModifiers = [];\n  modifiers.forEach(modifier => {\n    const isArbitraryVariant = modifier[0] === '[';\n    if (isArbitraryVariant) {\n      sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n      unsortedModifiers = [];\n    } else {\n      unsortedModifiers.push(modifier);\n    }\n  });\n  sortedModifiers.push(...unsortedModifiers.sort());\n  return sortedModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    let hasPostfixModifier = Boolean(maybePostfixModifierPosition);\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:([a-z-]+):)?(.+)\\]$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst stringLengths = /*#__PURE__*/new Set(['px', 'full', 'screen']);\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isLength = value => isNumber(value) || stringLengths.has(value) || fractionRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, 'length', isLengthOnly);\nconst isNumber = value => Boolean(value) && !Number.isNaN(Number(value));\nconst isArbitraryNumber = value => getIsArbitraryValue(value, 'number', isNumber);\nconst isInteger = value => Boolean(value) && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst sizeLabels = /*#__PURE__*/new Set(['length', 'size', 'percentage']);\nconst isArbitrarySize = value => getIsArbitraryValue(value, sizeLabels, isNever);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, 'position', isNever);\nconst imageLabels = /*#__PURE__*/new Set(['image', 'url']);\nconst isArbitraryImage = value => getIsArbitraryValue(value, imageLabels, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, '', isShadow);\nconst isAny = () => true;\nconst getIsArbitraryValue = (value, label, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return typeof label === 'string' ? result[1] === label : label.has(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isInteger,\n  isLength,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  const colors = fromTheme('colors');\n  const spacing = fromTheme('spacing');\n  const blur = fromTheme('blur');\n  const brightness = fromTheme('brightness');\n  const borderColor = fromTheme('borderColor');\n  const borderRadius = fromTheme('borderRadius');\n  const borderSpacing = fromTheme('borderSpacing');\n  const borderWidth = fromTheme('borderWidth');\n  const contrast = fromTheme('contrast');\n  const grayscale = fromTheme('grayscale');\n  const hueRotate = fromTheme('hueRotate');\n  const invert = fromTheme('invert');\n  const gap = fromTheme('gap');\n  const gradientColorStops = fromTheme('gradientColorStops');\n  const gradientColorStopPositions = fromTheme('gradientColorStopPositions');\n  const inset = fromTheme('inset');\n  const margin = fromTheme('margin');\n  const opacity = fromTheme('opacity');\n  const padding = fromTheme('padding');\n  const saturate = fromTheme('saturate');\n  const scale = fromTheme('scale');\n  const sepia = fromTheme('sepia');\n  const skew = fromTheme('skew');\n  const space = fromTheme('space');\n  const translate = fromTheme('translate');\n  const getOverscroll = () => ['auto', 'contain', 'none'];\n  const getOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const getSpacingWithAutoAndArbitrary = () => ['auto', isArbitraryValue, spacing];\n  const getSpacingWithArbitrary = () => [isArbitraryValue, spacing];\n  const getLengthWithEmptyAndArbitrary = () => ['', isLength, isArbitraryLength];\n  const getNumberWithAutoAndArbitrary = () => ['auto', isNumber, isArbitraryValue];\n  const getPositions = () => ['bottom', 'center', 'left', 'left-bottom', 'left-top', 'right', 'right-bottom', 'right-top', 'top'];\n  const getLineStyles = () => ['solid', 'dashed', 'dotted', 'double', 'none'];\n  const getBlendModes = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const getAlign = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch'];\n  const getZeroAndEmpty = () => ['', '0', isArbitraryValue];\n  const getBreaks = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const getNumberAndArbitrary = () => [isNumber, isArbitraryValue];\n  return {\n    cacheSize: 500,\n    separator: ':',\n    theme: {\n      colors: [isAny],\n      spacing: [isLength, isArbitraryLength],\n      blur: ['none', '', isTshirtSize, isArbitraryValue],\n      brightness: getNumberAndArbitrary(),\n      borderColor: [colors],\n      borderRadius: ['none', '', 'full', isTshirtSize, isArbitraryValue],\n      borderSpacing: getSpacingWithArbitrary(),\n      borderWidth: getLengthWithEmptyAndArbitrary(),\n      contrast: getNumberAndArbitrary(),\n      grayscale: getZeroAndEmpty(),\n      hueRotate: getNumberAndArbitrary(),\n      invert: getZeroAndEmpty(),\n      gap: getSpacingWithArbitrary(),\n      gradientColorStops: [colors],\n      gradientColorStopPositions: [isPercent, isArbitraryLength],\n      inset: getSpacingWithAutoAndArbitrary(),\n      margin: getSpacingWithAutoAndArbitrary(),\n      opacity: getNumberAndArbitrary(),\n      padding: getSpacingWithArbitrary(),\n      saturate: getNumberAndArbitrary(),\n      scale: getNumberAndArbitrary(),\n      sepia: getZeroAndEmpty(),\n      skew: getNumberAndArbitrary(),\n      space: getSpacingWithArbitrary(),\n      translate: getSpacingWithArbitrary()\n    },\n    classGroups: {\n      // Layout\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', 'video', isArbitraryValue]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isTshirtSize]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': getBreaks()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': getBreaks()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: [...getPositions(), isArbitraryValue]\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: getOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': getOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': getOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': getOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': getOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: [inset]\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': [inset]\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': [inset]\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: [inset]\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: [inset]\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: [inset]\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: [inset]\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: [inset]\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: [inset]\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: ['auto', isInteger, isArbitraryValue]\n      }],\n      // Flexbox and Grid\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: getSpacingWithAutoAndArbitrary()\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['wrap', 'wrap-reverse', 'nowrap']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: ['1', 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: getZeroAndEmpty()\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: getZeroAndEmpty()\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: ['first', 'last', 'none', isInteger, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': [isAny]\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: ['auto', {\n          span: ['full', isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': [isAny]\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: ['auto', {\n          span: [isInteger, isArbitraryValue]\n        }, isArbitraryValue]\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': getNumberWithAutoAndArbitrary()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': ['auto', 'min', 'max', 'fr', isArbitraryValue]\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: [gap]\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': [gap]\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': [gap]\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: ['normal', ...getAlign()]\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': ['start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...getAlign(), 'baseline']\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', 'start', 'end', 'center', 'stretch', 'baseline']\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': [...getAlign(), 'baseline']\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': ['start', 'end', 'center', 'baseline', 'stretch']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', 'start', 'end', 'center', 'stretch']\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: [padding]\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: [padding]\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: [padding]\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: [padding]\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: [padding]\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: [padding]\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: [padding]\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: [padding]\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: [padding]\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: [margin]\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: [margin]\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: [margin]\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: [margin]\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: [margin]\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: [margin]\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: [margin]\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: [margin]\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: [margin]\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x': [{\n        'space-x': [space]\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y': [{\n        'space-y': [space]\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/space\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // Sizing\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: ['auto', 'min', 'max', 'fit', 'svw', 'lvw', 'dvw', isArbitraryValue, spacing]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [isArbitraryValue, spacing, 'min', 'max', 'fit']\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [isArbitraryValue, spacing, 'none', 'full', 'min', 'max', 'fit', 'prose', {\n          screen: [isTshirtSize]\n        }, isTshirtSize]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': [isArbitraryValue, spacing, 'min', 'max', 'fit', 'svh', 'lvh', 'dvh']\n      }],\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/size\n       */\n      size: [{\n        size: [isArbitraryValue, spacing, 'auto', 'min', 'max', 'fit']\n      }],\n      // Typography\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', isTshirtSize, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black', isArbitraryNumber]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isAny]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest', isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': ['none', isNumber, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose', isLength, isArbitraryValue]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryValue]\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['none', 'disc', 'decimal', isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: [colors]\n      }],\n      /**\n       * Placeholder Opacity\n       * @see https://tailwindcss.com/docs/placeholder-opacity\n       */\n      'placeholder-opacity': [{\n        'placeholder-opacity': [opacity]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: [colors]\n      }],\n      /**\n       * Text Opacity\n       * @see https://tailwindcss.com/docs/text-opacity\n       */\n      'text-opacity': [{\n        'text-opacity': [opacity]\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...getLineStyles(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: ['auto', 'from-font', isLength, isArbitraryLength]\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': ['auto', isLength, isArbitraryValue]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: [colors]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: getSpacingWithArbitrary()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryValue]\n      }],\n      // Backgrounds\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Opacity\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/background-opacity\n       */\n      'bg-opacity': [{\n        'bg-opacity': [opacity]\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: [...getPositions(), isArbitraryPosition]\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: ['no-repeat', {\n          repeat: ['', 'x', 'y', 'round', 'space']\n        }]\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: ['auto', 'cover', 'contain', isArbitrarySize]\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          'gradient-to': ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n        }, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: [colors]\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: [gradientColorStopPositions]\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: [gradientColorStops]\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: [gradientColorStops]\n      }],\n      // Borders\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: [borderRadius]\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': [borderRadius]\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': [borderRadius]\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': [borderRadius]\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': [borderRadius]\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': [borderRadius]\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': [borderRadius]\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': [borderRadius]\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': [borderRadius]\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': [borderRadius]\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': [borderRadius]\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': [borderRadius]\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: [borderWidth]\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': [borderWidth]\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': [borderWidth]\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': [borderWidth]\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': [borderWidth]\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': [borderWidth]\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': [borderWidth]\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': [borderWidth]\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': [borderWidth]\n      }],\n      /**\n       * Border Opacity\n       * @see https://tailwindcss.com/docs/border-opacity\n       */\n      'border-opacity': [{\n        'border-opacity': [opacity]\n      }],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...getLineStyles(), 'hidden']\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x': [{\n        'divide-x': [borderWidth]\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y': [{\n        'divide-y': [borderWidth]\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/divide-width\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Divide Opacity\n       * @see https://tailwindcss.com/docs/divide-opacity\n       */\n      'divide-opacity': [{\n        'divide-opacity': [opacity]\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/divide-style\n       */\n      'divide-style': [{\n        divide: getLineStyles()\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: [borderColor]\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': [borderColor]\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': [borderColor]\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': [borderColor]\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': [borderColor]\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': [borderColor]\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': [borderColor]\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': [borderColor]\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': [borderColor]\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: [borderColor]\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: ['', ...getLineStyles()]\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isLength, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: [isLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: [colors]\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w': [{\n        ring: getLengthWithEmptyAndArbitrary()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://tailwindcss.com/docs/ring-width\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/ring-color\n       */\n      'ring-color': [{\n        ring: [colors]\n      }],\n      /**\n       * Ring Opacity\n       * @see https://tailwindcss.com/docs/ring-opacity\n       */\n      'ring-opacity': [{\n        'ring-opacity': [opacity]\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://tailwindcss.com/docs/ring-offset-width\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isLength, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://tailwindcss.com/docs/ring-offset-color\n       */\n      'ring-offset-color': [{\n        'ring-offset': [colors]\n      }],\n      // Effects\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: ['', 'inner', 'none', isTshirtSize, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow-color\n       */\n      'shadow-color': [{\n        shadow: [isAny]\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [opacity]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...getBlendModes(), 'plus-lighter', 'plus-darker']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': getBlendModes()\n      }],\n      // Filters\n      /**\n       * Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: ['', 'none']\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: [blur]\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [brightness]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [contrast]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': ['', 'none', isTshirtSize, isArbitraryValue]\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: [grayscale]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [hueRotate]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: [invert]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [saturate]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: [sepia]\n      }],\n      /**\n       * Backdrop Filter\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': ['', 'none']\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': [blur]\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [brightness]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [contrast]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': [grayscale]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [hueRotate]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': [invert]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [opacity]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [saturate]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': [sepia]\n      }],\n      // Tables\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': [borderSpacing]\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': [borderSpacing]\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': [borderSpacing]\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // Transitions and Animation\n      /**\n       * Tranisition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['none', 'all', '', 'colors', 'opacity', 'shadow', 'transform', isArbitraryValue]\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: getNumberAndArbitrary()\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'in', 'out', 'in-out', isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: getNumberAndArbitrary()\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', 'spin', 'ping', 'pulse', 'bounce', isArbitraryValue]\n      }],\n      // Transforms\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: ['', 'gpu', 'none']\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: [scale]\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': [scale]\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': [scale]\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: [isInteger, isArbitraryValue]\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': [translate]\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': [translate]\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': [skew]\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': [skew]\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: ['center', 'top', 'top-right', 'right', 'bottom-right', 'bottom', 'bottom-left', 'left', 'top-left', isArbitraryValue]\n      }],\n      // Interactivity\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: ['auto', colors]\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryValue]\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: [colors]\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['none', 'auto']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', 'y', 'x', '']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': getSpacingWithArbitrary()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryValue]\n      }],\n      // SVG\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: [colors, 'none']\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: [colors, 'none']\n      }],\n      // Accessibility\n      /**\n       * Screen Readers\n       * @see https://tailwindcss.com/docs/screen-readers\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    }\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  separator,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'separator', separator);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  for (const configKey in override) {\n    overrideConfigProperties(baseConfig[configKey], override[configKey]);\n  }\n  for (const key in extend) {\n    mergeConfigProperties(baseConfig[key], extend[key]);\n  }\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      const mergeValue = mergeObject[key];\n      if (mergeValue !== undefined) {\n        baseObject[key] = (baseObject[key] || []).concat(mergeValue);\n      }\n    }\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * Merges Tailwind CSS classes with proper precedence\n */\nexport function mergeClasses(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}","export type Sector = {\n  code: string;\n  name: string;\n};\n\nexport const SECTORS: Sector[] = [\n  { code: 'GRL', name: 'General' },\n  { code: 'GFR', name: 'Granja Fresco' },\n  { code: 'GRE', name: 'Granja Refrigerado' },\n  { code: 'GTM', name: 'Granja Terminado' },\n  { code: 'GPA', name: 'Granja Panadería' },\n  { code: 'GSC', name: 'Granja Seco' },\n  { code: 'HEL', name: 'Heladería' },\n  { code: 'REF', name: 'Refrigerado' },\n  { code: 'CON', name: 'Congelado' },\n  { code: 'FRU', name: 'Frutas' }\n];\n\nexport const PACKAGING_TYPES = ['CAJA', 'BOLSA', 'PAQUETE', 'KILO'];\n\nexport const BUSINESS_INFO = {\n  name: 'Panadería Nueva Río D\\'or',\n  owner: 'TEJAS DE LA CRUZ YOSBANY'\n} as const;","import { Product } from '@/types';\nimport { SECTORS } from '@/config/constants';\n\n/**\n * Gets the sector code from an order number\n */\nexport function getSectorFromOrder(order: number): string {\n  const orderStr = order.toString().padStart(5, '0');\n  const sectorIndex = parseInt(orderStr.slice(0, 2)) - 1;\n  return sectorIndex >= 0 && sectorIndex < SECTORS.length ? SECTORS[sectorIndex].code : SECTORS[0].code;\n}\n\n/**\n * Gets the sequence number from an order number\n */\nexport function getSequenceFromOrder(order: number): number {\n  const orderStr = order.toString().padStart(5, '0');\n  return parseInt(orderStr.slice(2));\n}\n\n/**\n * Calculates a new order number from sector and sequence\n */\nexport function calculateNewOrder(sectorCode: string, sequence: number): number {\n  const sectorIndex = SECTORS.findIndex(s => s.code === sectorCode) + 1;\n  return parseInt(`${sectorIndex.toString().padStart(2, '0')}${sequence.toString().padStart(3, '0')}`);\n}\n\n/**\n * Formats an order number for display\n */\nexport function formatOrderNumber(order: number): string {\n  const sector = getSectorFromOrder(order);\n  const sequence = getSequenceFromOrder(order);\n  return `${sector}-${sequence.toString().padStart(3, '0')}`;\n}\n\n/**\n * Gets products for a specific sector, sorted by sequence\n */\nexport function getSectorProducts(products: Product[], sectorCode: string): Product[] {\n  return products\n    .filter(p => getSectorFromOrder(p.order) === sectorCode)\n    .sort((a, b) => getSequenceFromOrder(a.order) - getSequenceFromOrder(b.order));\n}\n\n/**\n * Gets the next available order number for a sector\n */\nexport function getNextAvailableOrder(products: Product[], sectorCode: string): number {\n  const sectorProducts = getSectorProducts(products, sectorCode);\n  const maxSequence = sectorProducts.length;\n  return calculateNewOrder(sectorCode, maxSequence + 1);\n}","import React, { useState } from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { LayoutDashboard, Users, Package, ShoppingCart, LogOut, Menu, X, ChefHat, Calendar, ClipboardCheck } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { cn } from '@/lib/utils';\n\nconst navigation = [\n  { name: 'Dashboard', to: '/', icon: LayoutDashboard },\n  { name: 'Proveedores', to: '/providers', icon: Users },\n  { name: 'Productos', to: '/products', icon: Package },\n  { name: 'Recetas', to: '/recipes', icon: ChefHat },\n  { name: 'Órdenes', to: '/orders', icon: ShoppingCart },\n  { name: 'Cronograma', to: '/schedule', icon: Calendar },\n  { name: 'Inventario', to: '/inventory', icon: ClipboardCheck },\n];\n\nexport function TopNav() {\n  const { signOut } = useAuth();\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  return (\n    <header className=\"bg-white border-b border-gray-200\">\n      <div className=\"mx-auto px-4\">\n        <div className=\"flex h-16 items-center justify-between\">\n          <div className=\"flex items-center\">\n            <h1 className=\"text-xl font-bold text-gray-900 mr-4 whitespace-nowrap\">Gestión de Compras</h1>\n            \n            {/* Mobile menu button */}\n            <button\n              onClick={() => setIsMenuOpen(!isMenuOpen)}\n              className=\"md:hidden ml-2 p-2 rounded-md hover:bg-gray-100\"\n            >\n              {isMenuOpen ? (\n                <X className=\"h-6 w-6\" />\n              ) : (\n                <Menu className=\"h-6 w-6\" />\n              )}\n            </button>\n          </div>\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden md:flex space-x-4\">\n            {navigation.map((item) => (\n              <NavLink\n                key={item.name}\n                to={item.to}\n                className={({ isActive }) =>\n                  cn(\n                    'inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors',\n                    isActive\n                      ? 'text-blue-600 bg-blue-50'\n                      : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n                  )\n                }\n              >\n                <item.icon className=\"mr-2 h-5 w-5\" />\n                {item.name}\n              </NavLink>\n            ))}\n            <button\n              onClick={() => signOut()}\n              className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors\"\n            >\n              <LogOut className=\"mr-2 h-5 w-5\" />\n              Cerrar Sesión\n            </button>\n          </nav>\n        </div>\n\n        {/* Mobile Navigation */}\n        {isMenuOpen && (\n          <nav className=\"md:hidden py-4 space-y-2\">\n            {navigation.map((item) => (\n              <NavLink\n                key={item.name}\n                to={item.to}\n                onClick={() => setIsMenuOpen(false)}\n                className={({ isActive }) =>\n                  cn(\n                    'flex items-center px-3 py-2 text-base font-medium rounded-md w-full transition-colors',\n                    isActive\n                      ? 'text-blue-600 bg-blue-50'\n                      : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n                  )\n                }\n              >\n                <item.icon className=\"mr-3 h-5 w-5\" />\n                {item.name}\n              </NavLink>\n            ))}\n            <button\n              onClick={() => signOut()}\n              className=\"flex items-center px-3 py-2 text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md w-full transition-colors\"\n            >\n              <LogOut className=\"mr-3 h-5 w-5\" />\n              Cerrar Sesión\n            </button>\n          </nav>\n        )}\n      </div>\n    </header>\n  );\n}","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { TopNav } from './TopNav';\n\nexport function Layout() {\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <TopNav />\n      <main className=\"flex-1 overflow-auto bg-gray-100 p-4\">\n        <Outlet />\n      </main>\n    </div>\n  );\n}","import React from 'react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  className,\n  variant = 'primary',\n  size = 'md',\n  isLoading,\n  children,\n  ...props\n}) => {\n  const baseStyles = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50';\n  \n  const variants = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700',\n    secondary: 'bg-gray-100 text-gray-900 hover:bg-gray-200',\n    outline: 'border border-gray-300 bg-transparent hover:bg-gray-100',\n    ghost: 'hover:bg-gray-100 hover:text-gray-900'\n  };\n\n  const sizes = {\n    sm: 'h-9 px-3 text-sm',\n    md: 'h-10 px-4',\n    lg: 'h-11 px-8'\n  };\n\n  return (\n    <button\n      className={mergeClasses(\n        baseStyles,\n        variants[variant],\n        sizes[size],\n        className\n      )}\n      disabled={isLoading}\n      {...props}\n    >\n      {isLoading ? (\n        <span className=\"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent\" />\n      ) : null}\n      {children}\n    </button>\n  );\n};","import React, { useState, useEffect } from 'react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  error?: string;\n  isCurrency?: boolean;\n}\n\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, label, error, value, type, onChange, isCurrency, ...props }, ref) => {\n    const [displayValue, setDisplayValue] = useState('');\n    const [isEditing, setIsEditing] = useState(false);\n\n    // Format number with thousand separators and comma decimal\n    const formatNumber = (num: number): string => {\n      const parts = num.toString().split('.');\n      parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n      return parts.join(',');\n    };\n\n    // Initialize display value\n    useEffect(() => {\n      if (isCurrency && typeof value === 'number' && !isEditing) {\n        setDisplayValue(formatNumber(value));\n      }\n    }, [value, isCurrency, isEditing]);\n\n    // Handle number inputs\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (isCurrency) {\n        // Remove all non-numeric characters except comma and dot\n        let value = e.target.value.replace(/[^\\d.,]/g, '');\n        \n        // Replace comma with dot for calculations\n        value = value.replace(/,/g, '.');\n        \n        // Keep only the last dot\n        const dots = value.split('.').length - 1;\n        if (dots > 1) {\n          const parts = value.split('.');\n          value = parts[0] + '.' + parts.slice(1).join('');\n        }\n\n        // Update display value without formatting while editing\n        setDisplayValue(value);\n        \n        // Pass the numeric value to onChange\n        const numericValue = parseFloat(value) || 0;\n        onChange?.({ \n          ...e, \n          target: { ...e.target, value: numericValue.toString() } \n        });\n      } else if (type === 'number') {\n        const value = e.target.value;\n        if (value === '' || !isNaN(Number(value))) {\n          onChange?.(e);\n        }\n      } else {\n        onChange?.(e);\n      }\n    };\n\n    // Handle focus to show unformatted value\n    const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n      if (isCurrency) {\n        setIsEditing(true);\n        const numValue = typeof value === 'number' ? value.toString() : '0';\n        setDisplayValue(numValue.replace('.', ','));\n      }\n      props.onFocus?.(e);\n    };\n\n    // Handle blur to reformat value\n    const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n      if (isCurrency) {\n        setIsEditing(false);\n        if (typeof value === 'number') {\n          setDisplayValue(formatNumber(value));\n        }\n      }\n      props.onBlur?.(e);\n    };\n\n    const inputValue = isCurrency \n      ? displayValue\n      : type === 'number' && value === 0 && !props.min ? '' : value;\n\n    return (\n      <div className=\"space-y-2\">\n        {label && (\n          <label className=\"block text-sm font-medium text-gray-700\">\n            {label}\n          </label>\n        )}\n        <div className=\"relative\">\n          {isCurrency && (\n            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500\">\n              $\n            </span>\n          )}\n          <input\n            className={mergeClasses(\n              'block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500',\n              'focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500',\n              'disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500',\n              error && 'border-red-500 focus:border-red-500 focus:ring-red-500',\n              isCurrency && 'pl-7 text-right',\n              className\n            )}\n            ref={ref}\n            value={inputValue}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n            type={isCurrency ? 'text' : type}\n            inputMode={isCurrency ? 'decimal' : undefined}\n            {...props}\n          />\n        </div>\n        {error && (\n          <p className=\"text-sm text-red-600\">{error}</p>\n        )}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';","import React, { useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { Lock, Mail } from 'lucide-react';\n\nexport function Login() {\n  const { user, signIn } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  if (user) {\n    return <Navigate to=\"/\" replace />;\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      await signIn(email, password);\n    } catch (error) {\n      console.error('Login error:', error);\n      setError('Credenciales inválidas');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-lg\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Órdenes de Compra\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Inicia sesión para continuar\n          </p>\n        </div>\n        \n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"sr-only\">\n                Correo electrónico\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Mail className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  className=\"pl-10\"\n                  placeholder=\"Correo electrónico\"\n                  autoComplete=\"email\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Contraseña\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <Lock className=\"h-5 w-5 text-gray-400\" />\n                </div>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  className=\"pl-10\"\n                  placeholder=\"Contraseña\"\n                  autoComplete=\"current-password\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"text-red-600 text-sm text-center\">\n              {error}\n            </div>\n          )}\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            isLoading={loading}\n          >\n            Iniciar sesión\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n}","var niceErrors = {\n  0: \"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'\",\n  1: function _(annotationType, key) {\n    return \"Cannot apply '\" + annotationType + \"' to '\" + key.toString() + \"': Field not found.\";\n  },\n  /*\n  2(prop) {\n      return `invalid decorator for '${prop.toString()}'`\n  },\n  3(prop) {\n      return `Cannot decorate '${prop.toString()}': action can only be used on properties with a function value.`\n  },\n  4(prop) {\n      return `Cannot decorate '${prop.toString()}': computed can only be used on getter properties.`\n  },\n  */\n  5: \"'keys()' can only be used on observable objects, arrays, sets and maps\",\n  6: \"'values()' can only be used on observable objects, arrays, sets and maps\",\n  7: \"'entries()' can only be used on observable objects, arrays and maps\",\n  8: \"'set()' can only be used on observable objects, arrays and maps\",\n  9: \"'remove()' can only be used on observable objects, arrays and maps\",\n  10: \"'has()' can only be used on observable objects, arrays and maps\",\n  11: \"'get()' can only be used on observable objects, arrays and maps\",\n  12: \"Invalid annotation\",\n  13: \"Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)\",\n  14: \"Intercept handlers should return nothing or a change object\",\n  15: \"Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)\",\n  16: \"Modification exception: the internal structure of an observable array was changed.\",\n  17: function _(index, length) {\n    return \"[mobx.array] Index out of bounds, \" + index + \" is larger than \" + length;\n  },\n  18: \"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js\",\n  19: function _(other) {\n    return \"Cannot initialize from classes that inherit from Map: \" + other.constructor.name;\n  },\n  20: function _(other) {\n    return \"Cannot initialize map from \" + other;\n  },\n  21: function _(dataStructure) {\n    return \"Cannot convert to map from '\" + dataStructure + \"'\";\n  },\n  22: \"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js\",\n  23: \"It is not possible to get index atoms from arrays\",\n  24: function _(thing) {\n    return \"Cannot obtain administration from \" + thing;\n  },\n  25: function _(property, name) {\n    return \"the entry '\" + property + \"' does not exist in the observable map '\" + name + \"'\";\n  },\n  26: \"please specify a property\",\n  27: function _(property, name) {\n    return \"no observable property '\" + property.toString() + \"' found on the observable object '\" + name + \"'\";\n  },\n  28: function _(thing) {\n    return \"Cannot obtain atom from \" + thing;\n  },\n  29: \"Expecting some object\",\n  30: \"invalid action stack. did you forget to finish an action?\",\n  31: \"missing option for computed: get\",\n  32: function _(name, derivation) {\n    return \"Cycle detected in computation \" + name + \": \" + derivation;\n  },\n  33: function _(name) {\n    return \"The setter of computed value '\" + name + \"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?\";\n  },\n  34: function _(name) {\n    return \"[ComputedValue '\" + name + \"'] It is not possible to assign a new value to a computed value.\";\n  },\n  35: \"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`\",\n  36: \"isolateGlobalState should be called before MobX is running any reactions\",\n  37: function _(method) {\n    return \"[mobx] `observableArray.\" + method + \"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice().\" + method + \"()` instead\";\n  },\n  38: \"'ownKeys()' can only be used on observable objects\",\n  39: \"'defineProperty()' can only be used on observable objects\"\n};\nvar errors = process.env.NODE_ENV !== \"production\" ? niceErrors : {};\nfunction die(error) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  if (process.env.NODE_ENV !== \"production\") {\n    var e = typeof error === \"string\" ? error : errors[error];\n    if (typeof e === \"function\") e = e.apply(null, args);\n    throw new Error(\"[MobX] \" + e);\n  }\n  throw new Error(typeof error === \"number\" ? \"[MobX] minified error nr: \" + error + (args.length ? \" \" + args.map(String).join(\",\") : \"\") + \". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts\" : \"[MobX] \" + error);\n}\n\nvar mockGlobal = {};\nfunction getGlobal() {\n  if (typeof globalThis !== \"undefined\") {\n    return globalThis;\n  }\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  if (typeof self !== \"undefined\") {\n    return self;\n  }\n  return mockGlobal;\n}\n\n// We shorten anything used > 5 times\nvar assign = Object.assign;\nvar getDescriptor = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar objectPrototype = Object.prototype;\nvar EMPTY_ARRAY = [];\nObject.freeze(EMPTY_ARRAY);\nvar EMPTY_OBJECT = {};\nObject.freeze(EMPTY_OBJECT);\nvar hasProxy = typeof Proxy !== \"undefined\";\nvar plainObjectString = /*#__PURE__*/Object.toString();\nfunction assertProxies() {\n  if (!hasProxy) {\n    die(process.env.NODE_ENV !== \"production\" ? \"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`\" : \"Proxy not available\");\n  }\n}\nfunction warnAboutProxyRequirement(msg) {\n  if (process.env.NODE_ENV !== \"production\" && globalState.verifyProxies) {\n    die(\"MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to \" + msg);\n  }\n}\nfunction getNextId() {\n  return ++globalState.mobxGuid;\n}\n/**\n * Makes sure that the provided function is invoked at most once.\n */\nfunction once(func) {\n  var invoked = false;\n  return function () {\n    if (invoked) {\n      return;\n    }\n    invoked = true;\n    return func.apply(this, arguments);\n  };\n}\nvar noop = function noop() {};\nfunction isFunction(fn) {\n  return typeof fn === \"function\";\n}\nfunction isStringish(value) {\n  var t = typeof value;\n  switch (t) {\n    case \"string\":\n    case \"symbol\":\n    case \"number\":\n      return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\nfunction isPlainObject(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  var proto = Object.getPrototypeOf(value);\n  if (proto == null) {\n    return true;\n  }\n  var protoConstructor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  return typeof protoConstructor === \"function\" && protoConstructor.toString() === plainObjectString;\n}\n// https://stackoverflow.com/a/37865170\nfunction isGenerator(obj) {\n  var constructor = obj == null ? void 0 : obj.constructor;\n  if (!constructor) {\n    return false;\n  }\n  if (\"GeneratorFunction\" === constructor.name || \"GeneratorFunction\" === constructor.displayName) {\n    return true;\n  }\n  return false;\n}\nfunction addHiddenProp(object, propName, value) {\n  defineProperty(object, propName, {\n    enumerable: false,\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\nfunction addHiddenFinalProp(object, propName, value) {\n  defineProperty(object, propName, {\n    enumerable: false,\n    writable: false,\n    configurable: true,\n    value: value\n  });\n}\nfunction createInstanceofPredicate(name, theClass) {\n  var propName = \"isMobX\" + name;\n  theClass.prototype[propName] = true;\n  return function (x) {\n    return isObject(x) && x[propName] === true;\n  };\n}\n/**\n * Yields true for both native and observable Map, even across different windows.\n */\nfunction isES6Map(thing) {\n  return thing != null && Object.prototype.toString.call(thing) === \"[object Map]\";\n}\n/**\n * Makes sure a Map is an instance of non-inherited native or observable Map.\n */\nfunction isPlainES6Map(thing) {\n  var mapProto = Object.getPrototypeOf(thing);\n  var objectProto = Object.getPrototypeOf(mapProto);\n  var nullProto = Object.getPrototypeOf(objectProto);\n  return nullProto === null;\n}\n/**\n * Yields true for both native and observable Set, even across different windows.\n */\nfunction isES6Set(thing) {\n  return thing != null && Object.prototype.toString.call(thing) === \"[object Set]\";\n}\nvar hasGetOwnPropertySymbols = typeof Object.getOwnPropertySymbols !== \"undefined\";\n/**\n * Returns the following: own enumerable keys and symbols.\n */\nfunction getPlainObjectKeys(object) {\n  var keys = Object.keys(object);\n  // Not supported in IE, so there are not going to be symbol props anyway...\n  if (!hasGetOwnPropertySymbols) {\n    return keys;\n  }\n  var symbols = Object.getOwnPropertySymbols(object);\n  if (!symbols.length) {\n    return keys;\n  }\n  return [].concat(keys, symbols.filter(function (s) {\n    return objectPrototype.propertyIsEnumerable.call(object, s);\n  }));\n}\n// From Immer utils\n// Returns all own keys, including non-enumerable and symbolic\nvar ownKeys = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : hasGetOwnPropertySymbols ? function (obj) {\n  return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj));\n} : /* istanbul ignore next */Object.getOwnPropertyNames;\nfunction stringifyKey(key) {\n  if (typeof key === \"string\") {\n    return key;\n  }\n  if (typeof key === \"symbol\") {\n    return key.toString();\n  }\n  return new String(key).toString();\n}\nfunction toPrimitive(value) {\n  return value === null ? null : typeof value === \"object\" ? \"\" + value : value;\n}\nfunction hasProp(target, prop) {\n  return objectPrototype.hasOwnProperty.call(target, prop);\n}\n// From Immer utils\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors(target) {\n  // Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n  var res = {};\n  // Note: without polyfill for ownKeys, symbols won't be picked up\n  ownKeys(target).forEach(function (key) {\n    res[key] = getDescriptor(target, key);\n  });\n  return res;\n};\nfunction getFlag(flags, mask) {\n  return !!(flags & mask);\n}\nfunction setFlag(flags, mask, newValue) {\n  if (newValue) {\n    flags |= mask;\n  } else {\n    flags &= ~mask;\n  }\n  return flags;\n}\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _createForOfIteratorHelperLoose(r, e) {\n  var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (t) return (t = t.call(r)).next.bind(t);\n  if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) {\n    t && (r = t);\n    var o = 0;\n    return function () {\n      return o >= r.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: r[o++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, _setPrototypeOf(t, o);\n}\nfunction _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar storedAnnotationsSymbol = /*#__PURE__*/Symbol(\"mobx-stored-annotations\");\n/**\n * Creates a function that acts as\n * - decorator\n * - annotation object\n */\nfunction createDecoratorAnnotation(annotation) {\n  function decorator(target, property) {\n    if (is20223Decorator(property)) {\n      return annotation.decorate_20223_(target, property);\n    } else {\n      storeAnnotation(target, property, annotation);\n    }\n  }\n  return Object.assign(decorator, annotation);\n}\n/**\n * Stores annotation to prototype,\n * so it can be inspected later by `makeObservable` called from constructor\n */\nfunction storeAnnotation(prototype, key, annotation) {\n  if (!hasProp(prototype, storedAnnotationsSymbol)) {\n    addHiddenProp(prototype, storedAnnotationsSymbol, _extends({}, prototype[storedAnnotationsSymbol]));\n  }\n  // @override must override something\n  if (process.env.NODE_ENV !== \"production\" && isOverride(annotation) && !hasProp(prototype[storedAnnotationsSymbol], key)) {\n    var fieldName = prototype.constructor.name + \".prototype.\" + key.toString();\n    die(\"'\" + fieldName + \"' is decorated with 'override', \" + \"but no such decorated member was found on prototype.\");\n  }\n  // Cannot re-decorate\n  assertNotDecorated(prototype, annotation, key);\n  // Ignore override\n  if (!isOverride(annotation)) {\n    prototype[storedAnnotationsSymbol][key] = annotation;\n  }\n}\nfunction assertNotDecorated(prototype, annotation, key) {\n  if (process.env.NODE_ENV !== \"production\" && !isOverride(annotation) && hasProp(prototype[storedAnnotationsSymbol], key)) {\n    var fieldName = prototype.constructor.name + \".prototype.\" + key.toString();\n    var currentAnnotationType = prototype[storedAnnotationsSymbol][key].annotationType_;\n    var requestedAnnotationType = annotation.annotationType_;\n    die(\"Cannot apply '@\" + requestedAnnotationType + \"' to '\" + fieldName + \"':\" + (\"\\nThe field is already decorated with '@\" + currentAnnotationType + \"'.\") + \"\\nRe-decorating fields is not allowed.\" + \"\\nUse '@override' decorator for methods overridden by subclass.\");\n  }\n}\n/**\n * Collects annotations from prototypes and stores them on target (instance)\n */\nfunction collectStoredAnnotations(target) {\n  if (!hasProp(target, storedAnnotationsSymbol)) {\n    // if (__DEV__ && !target[storedAnnotationsSymbol]) {\n    //     die(\n    //         `No annotations were passed to makeObservable, but no decorated members have been found either`\n    //     )\n    // }\n    // We need a copy as we will remove annotation from the list once it's applied.\n    addHiddenProp(target, storedAnnotationsSymbol, _extends({}, target[storedAnnotationsSymbol]));\n  }\n  return target[storedAnnotationsSymbol];\n}\nfunction is20223Decorator(context) {\n  return typeof context == \"object\" && typeof context[\"kind\"] == \"string\";\n}\nfunction assert20223DecoratorType(context, types) {\n  if (process.env.NODE_ENV !== \"production\" && !types.includes(context.kind)) {\n    die(\"The decorator applied to '\" + String(context.name) + \"' cannot be used on a \" + context.kind + \" element\");\n  }\n}\n\nvar $mobx = /*#__PURE__*/Symbol(\"mobx administration\");\nvar Atom = /*#__PURE__*/function () {\n  /**\n   * Create a new atom. For debugging purposes it is recommended to give it a name.\n   * The onBecomeObserved and onBecomeUnobserved callbacks can be used for resource management.\n   */\n  function Atom(name_) {\n    if (name_ === void 0) {\n      name_ = process.env.NODE_ENV !== \"production\" ? \"Atom@\" + getNextId() : \"Atom\";\n    }\n    this.name_ = void 0;\n    this.flags_ = 0;\n    this.observers_ = new Set();\n    this.lastAccessedBy_ = 0;\n    this.lowestObserverState_ = IDerivationState_.NOT_TRACKING_;\n    // onBecomeObservedListeners\n    this.onBOL = void 0;\n    // onBecomeUnobservedListeners\n    this.onBUOL = void 0;\n    this.name_ = name_;\n  }\n  // for effective unobserving. BaseAtom has true, for extra optimization, so its onBecomeUnobserved never gets called, because it's not needed\n  var _proto = Atom.prototype;\n  _proto.onBO = function onBO() {\n    if (this.onBOL) {\n      this.onBOL.forEach(function (listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.onBUO = function onBUO() {\n    if (this.onBUOL) {\n      this.onBUOL.forEach(function (listener) {\n        return listener();\n      });\n    }\n  }\n  /**\n   * Invoke this method to notify mobx that your atom has been used somehow.\n   * Returns true if there is currently a reactive context.\n   */;\n  _proto.reportObserved = function reportObserved$1() {\n    return reportObserved(this);\n  }\n  /**\n   * Invoke this method _after_ this method has changed to signal mobx that all its observers should invalidate.\n   */;\n  _proto.reportChanged = function reportChanged() {\n    startBatch();\n    propagateChanged(this);\n    endBatch();\n  };\n  _proto.toString = function toString() {\n    return this.name_;\n  };\n  return _createClass(Atom, [{\n    key: \"isBeingObserved\",\n    get: function get() {\n      return getFlag(this.flags_, Atom.isBeingObservedMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, Atom.isBeingObservedMask_, newValue);\n    }\n  }, {\n    key: \"isPendingUnobservation\",\n    get: function get() {\n      return getFlag(this.flags_, Atom.isPendingUnobservationMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, Atom.isPendingUnobservationMask_, newValue);\n    }\n  }, {\n    key: \"diffValue\",\n    get: function get() {\n      return getFlag(this.flags_, Atom.diffValueMask_) ? 1 : 0;\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, Atom.diffValueMask_, newValue === 1 ? true : false);\n    }\n  }]);\n}();\nAtom.isBeingObservedMask_ = 1;\nAtom.isPendingUnobservationMask_ = 2;\nAtom.diffValueMask_ = 4;\nvar isAtom = /*#__PURE__*/createInstanceofPredicate(\"Atom\", Atom);\nfunction createAtom(name, onBecomeObservedHandler, onBecomeUnobservedHandler) {\n  if (onBecomeObservedHandler === void 0) {\n    onBecomeObservedHandler = noop;\n  }\n  if (onBecomeUnobservedHandler === void 0) {\n    onBecomeUnobservedHandler = noop;\n  }\n  var atom = new Atom(name);\n  // default `noop` listener will not initialize the hook Set\n  if (onBecomeObservedHandler !== noop) {\n    onBecomeObserved(atom, onBecomeObservedHandler);\n  }\n  if (onBecomeUnobservedHandler !== noop) {\n    onBecomeUnobserved(atom, onBecomeUnobservedHandler);\n  }\n  return atom;\n}\n\nfunction identityComparer(a, b) {\n  return a === b;\n}\nfunction structuralComparer(a, b) {\n  return deepEqual(a, b);\n}\nfunction shallowComparer(a, b) {\n  return deepEqual(a, b, 1);\n}\nfunction defaultComparer(a, b) {\n  if (Object.is) {\n    return Object.is(a, b);\n  }\n  return a === b ? a !== 0 || 1 / a === 1 / b : a !== a && b !== b;\n}\nvar comparer = {\n  identity: identityComparer,\n  structural: structuralComparer,\n  \"default\": defaultComparer,\n  shallow: shallowComparer\n};\n\nfunction deepEnhancer(v, _, name) {\n  // it is an observable already, done\n  if (isObservable(v)) {\n    return v;\n  }\n  // something that can be converted and mutated?\n  if (Array.isArray(v)) {\n    return observable.array(v, {\n      name: name\n    });\n  }\n  if (isPlainObject(v)) {\n    return observable.object(v, undefined, {\n      name: name\n    });\n  }\n  if (isES6Map(v)) {\n    return observable.map(v, {\n      name: name\n    });\n  }\n  if (isES6Set(v)) {\n    return observable.set(v, {\n      name: name\n    });\n  }\n  if (typeof v === \"function\" && !isAction(v) && !isFlow(v)) {\n    if (isGenerator(v)) {\n      return flow(v);\n    } else {\n      return autoAction(name, v);\n    }\n  }\n  return v;\n}\nfunction shallowEnhancer(v, _, name) {\n  if (v === undefined || v === null) {\n    return v;\n  }\n  if (isObservableObject(v) || isObservableArray(v) || isObservableMap(v) || isObservableSet(v)) {\n    return v;\n  }\n  if (Array.isArray(v)) {\n    return observable.array(v, {\n      name: name,\n      deep: false\n    });\n  }\n  if (isPlainObject(v)) {\n    return observable.object(v, undefined, {\n      name: name,\n      deep: false\n    });\n  }\n  if (isES6Map(v)) {\n    return observable.map(v, {\n      name: name,\n      deep: false\n    });\n  }\n  if (isES6Set(v)) {\n    return observable.set(v, {\n      name: name,\n      deep: false\n    });\n  }\n  if (process.env.NODE_ENV !== \"production\") {\n    die(\"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets\");\n  }\n}\nfunction referenceEnhancer(newValue) {\n  // never turn into an observable\n  return newValue;\n}\nfunction refStructEnhancer(v, oldValue) {\n  if (process.env.NODE_ENV !== \"production\" && isObservable(v)) {\n    die(\"observable.struct should not be used with observable values\");\n  }\n  if (deepEqual(v, oldValue)) {\n    return oldValue;\n  }\n  return v;\n}\n\nvar OVERRIDE = \"override\";\nvar override = /*#__PURE__*/createDecoratorAnnotation({\n  annotationType_: OVERRIDE,\n  make_: make_,\n  extend_: extend_,\n  decorate_20223_: decorate_20223_\n});\nfunction isOverride(annotation) {\n  return annotation.annotationType_ === OVERRIDE;\n}\nfunction make_(adm, key) {\n  // Must not be plain object\n  if (process.env.NODE_ENV !== \"production\" && adm.isPlainObject_) {\n    die(\"Cannot apply '\" + this.annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + this.annotationType_ + \"' cannot be used on plain objects.\"));\n  }\n  // Must override something\n  if (process.env.NODE_ENV !== \"production\" && !hasProp(adm.appliedAnnotations_, key)) {\n    die(\"'\" + adm.name_ + \".\" + key.toString() + \"' is annotated with '\" + this.annotationType_ + \"', \" + \"but no such annotated member was found on prototype.\");\n  }\n  return 0 /* MakeResult.Cancel */;\n}\nfunction extend_(adm, key, descriptor, proxyTrap) {\n  die(\"'\" + this.annotationType_ + \"' can only be used with 'makeObservable'\");\n}\nfunction decorate_20223_(desc, context) {\n  console.warn(\"'\" + this.annotationType_ + \"' cannot be used with decorators - this is a no-op\");\n}\n\nfunction createActionAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$1,\n    extend_: extend_$1,\n    decorate_20223_: decorate_20223_$1\n  };\n}\nfunction make_$1(adm, key, descriptor, source) {\n  var _this$options_;\n  // bound\n  if ((_this$options_ = this.options_) != null && _this$options_.bound) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 /* MakeResult.Cancel */ : 1 /* MakeResult.Break */;\n  }\n  // own\n  if (source === adm.target_) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 /* MakeResult.Cancel */ : 2 /* MakeResult.Continue */;\n  }\n  // prototype\n  if (isAction(descriptor.value)) {\n    // A prototype could have been annotated already by other constructor,\n    // rest of the proto chain must be annotated already\n    return 1 /* MakeResult.Break */;\n  }\n  var actionDescriptor = createActionDescriptor(adm, this, key, descriptor, false);\n  defineProperty(source, key, actionDescriptor);\n  return 2 /* MakeResult.Continue */;\n}\nfunction extend_$1(adm, key, descriptor, proxyTrap) {\n  var actionDescriptor = createActionDescriptor(adm, this, key, descriptor);\n  return adm.defineProperty_(key, actionDescriptor, proxyTrap);\n}\nfunction decorate_20223_$1(mthd, context) {\n  if (process.env.NODE_ENV !== \"production\") {\n    assert20223DecoratorType(context, [\"method\", \"field\"]);\n  }\n  var kind = context.kind,\n    name = context.name,\n    addInitializer = context.addInitializer;\n  var ann = this;\n  var _createAction = function _createAction(m) {\n    var _ann$options_$name, _ann$options_, _ann$options_$autoAct, _ann$options_2;\n    return createAction((_ann$options_$name = (_ann$options_ = ann.options_) == null ? void 0 : _ann$options_.name) != null ? _ann$options_$name : name.toString(), m, (_ann$options_$autoAct = (_ann$options_2 = ann.options_) == null ? void 0 : _ann$options_2.autoAction) != null ? _ann$options_$autoAct : false);\n  };\n  if (kind == \"field\") {\n    return function (initMthd) {\n      var _ann$options_3;\n      var mthd = initMthd;\n      if (!isAction(mthd)) {\n        mthd = _createAction(mthd);\n      }\n      if ((_ann$options_3 = ann.options_) != null && _ann$options_3.bound) {\n        mthd = mthd.bind(this);\n        mthd.isMobxAction = true;\n      }\n      return mthd;\n    };\n  }\n  if (kind == \"method\") {\n    var _this$options_2;\n    if (!isAction(mthd)) {\n      mthd = _createAction(mthd);\n    }\n    if ((_this$options_2 = this.options_) != null && _this$options_2.bound) {\n      addInitializer(function () {\n        var self = this;\n        var bound = self[name].bind(self);\n        bound.isMobxAction = true;\n        self[name] = bound;\n      });\n    }\n    return mthd;\n  }\n  die(\"Cannot apply '\" + ann.annotationType_ + \"' to '\" + String(name) + \"' (kind: \" + kind + \"):\" + (\"\\n'\" + ann.annotationType_ + \"' can only be used on properties with a function value.\"));\n}\nfunction assertActionDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var value = _ref2.value;\n  if (process.env.NODE_ENV !== \"production\" && !isFunction(value)) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on properties with a function value.\"));\n  }\n}\nfunction createActionDescriptor(adm, annotation, key, descriptor,\n// provides ability to disable safeDescriptors for prototypes\nsafeDescriptors) {\n  var _annotation$options_, _annotation$options_$, _annotation$options_2, _annotation$options_$2, _annotation$options_3, _annotation$options_4, _adm$proxy_2;\n  if (safeDescriptors === void 0) {\n    safeDescriptors = globalState.safeDescriptors;\n  }\n  assertActionDescriptor(adm, annotation, key, descriptor);\n  var value = descriptor.value;\n  if ((_annotation$options_ = annotation.options_) != null && _annotation$options_.bound) {\n    var _adm$proxy_;\n    value = value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n  }\n  return {\n    value: createAction((_annotation$options_$ = (_annotation$options_2 = annotation.options_) == null ? void 0 : _annotation$options_2.name) != null ? _annotation$options_$ : key.toString(), value, (_annotation$options_$2 = (_annotation$options_3 = annotation.options_) == null ? void 0 : _annotation$options_3.autoAction) != null ? _annotation$options_$2 : false,\n    // https://github.com/mobxjs/mobx/discussions/3140\n    (_annotation$options_4 = annotation.options_) != null && _annotation$options_4.bound ? (_adm$proxy_2 = adm.proxy_) != null ? _adm$proxy_2 : adm.target_ : undefined),\n    // Non-configurable for classes\n    // prevents accidental field redefinition in subclass\n    configurable: safeDescriptors ? adm.isPlainObject_ : true,\n    // https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058\n    enumerable: false,\n    // Non-obsevable, therefore non-writable\n    // Also prevents rewriting in subclass constructor\n    writable: safeDescriptors ? false : true\n  };\n}\n\nfunction createFlowAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$2,\n    extend_: extend_$2,\n    decorate_20223_: decorate_20223_$2\n  };\n}\nfunction make_$2(adm, key, descriptor, source) {\n  var _this$options_;\n  // own\n  if (source === adm.target_) {\n    return this.extend_(adm, key, descriptor, false) === null ? 0 /* MakeResult.Cancel */ : 2 /* MakeResult.Continue */;\n  }\n  // prototype\n  // bound - must annotate protos to support super.flow()\n  if ((_this$options_ = this.options_) != null && _this$options_.bound && (!hasProp(adm.target_, key) || !isFlow(adm.target_[key]))) {\n    if (this.extend_(adm, key, descriptor, false) === null) {\n      return 0 /* MakeResult.Cancel */;\n    }\n  }\n  if (isFlow(descriptor.value)) {\n    // A prototype could have been annotated already by other constructor,\n    // rest of the proto chain must be annotated already\n    return 1 /* MakeResult.Break */;\n  }\n  var flowDescriptor = createFlowDescriptor(adm, this, key, descriptor, false, false);\n  defineProperty(source, key, flowDescriptor);\n  return 2 /* MakeResult.Continue */;\n}\nfunction extend_$2(adm, key, descriptor, proxyTrap) {\n  var _this$options_2;\n  var flowDescriptor = createFlowDescriptor(adm, this, key, descriptor, (_this$options_2 = this.options_) == null ? void 0 : _this$options_2.bound);\n  return adm.defineProperty_(key, flowDescriptor, proxyTrap);\n}\nfunction decorate_20223_$2(mthd, context) {\n  var _this$options_3;\n  if (process.env.NODE_ENV !== \"production\") {\n    assert20223DecoratorType(context, [\"method\"]);\n  }\n  var name = context.name,\n    addInitializer = context.addInitializer;\n  if (!isFlow(mthd)) {\n    mthd = flow(mthd);\n  }\n  if ((_this$options_3 = this.options_) != null && _this$options_3.bound) {\n    addInitializer(function () {\n      var self = this;\n      var bound = self[name].bind(self);\n      bound.isMobXFlow = true;\n      self[name] = bound;\n    });\n  }\n  return mthd;\n}\nfunction assertFlowDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var value = _ref2.value;\n  if (process.env.NODE_ENV !== \"production\" && !isFunction(value)) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on properties with a generator function value.\"));\n  }\n}\nfunction createFlowDescriptor(adm, annotation, key, descriptor, bound,\n// provides ability to disable safeDescriptors for prototypes\nsafeDescriptors) {\n  if (safeDescriptors === void 0) {\n    safeDescriptors = globalState.safeDescriptors;\n  }\n  assertFlowDescriptor(adm, annotation, key, descriptor);\n  var value = descriptor.value;\n  // In case of flow.bound, the descriptor can be from already annotated prototype\n  if (!isFlow(value)) {\n    value = flow(value);\n  }\n  if (bound) {\n    var _adm$proxy_;\n    // We do not keep original function around, so we bind the existing flow\n    value = value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n    // This is normally set by `flow`, but `bind` returns new function...\n    value.isMobXFlow = true;\n  }\n  return {\n    value: value,\n    // Non-configurable for classes\n    // prevents accidental field redefinition in subclass\n    configurable: safeDescriptors ? adm.isPlainObject_ : true,\n    // https://github.com/mobxjs/mobx/pull/2641#issuecomment-737292058\n    enumerable: false,\n    // Non-obsevable, therefore non-writable\n    // Also prevents rewriting in subclass constructor\n    writable: safeDescriptors ? false : true\n  };\n}\n\nfunction createComputedAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$3,\n    extend_: extend_$3,\n    decorate_20223_: decorate_20223_$3\n  };\n}\nfunction make_$3(adm, key, descriptor) {\n  return this.extend_(adm, key, descriptor, false) === null ? 0 /* MakeResult.Cancel */ : 1 /* MakeResult.Break */;\n}\nfunction extend_$3(adm, key, descriptor, proxyTrap) {\n  assertComputedDescriptor(adm, this, key, descriptor);\n  return adm.defineComputedProperty_(key, _extends({}, this.options_, {\n    get: descriptor.get,\n    set: descriptor.set\n  }), proxyTrap);\n}\nfunction decorate_20223_$3(get, context) {\n  if (process.env.NODE_ENV !== \"production\") {\n    assert20223DecoratorType(context, [\"getter\"]);\n  }\n  var ann = this;\n  var key = context.name,\n    addInitializer = context.addInitializer;\n  addInitializer(function () {\n    var adm = asObservableObject(this)[$mobx];\n    var options = _extends({}, ann.options_, {\n      get: get,\n      context: this\n    });\n    options.name || (options.name = process.env.NODE_ENV !== \"production\" ? adm.name_ + \".\" + key.toString() : \"ObservableObject.\" + key.toString());\n    adm.values_.set(key, new ComputedValue(options));\n  });\n  return function () {\n    return this[$mobx].getObservablePropValue_(key);\n  };\n}\nfunction assertComputedDescriptor(adm, _ref, key, _ref2) {\n  var annotationType_ = _ref.annotationType_;\n  var get = _ref2.get;\n  if (process.env.NODE_ENV !== \"production\" && !get) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' can only be used on getter(+setter) properties.\"));\n  }\n}\n\nfunction createObservableAnnotation(name, options) {\n  return {\n    annotationType_: name,\n    options_: options,\n    make_: make_$4,\n    extend_: extend_$4,\n    decorate_20223_: decorate_20223_$4\n  };\n}\nfunction make_$4(adm, key, descriptor) {\n  return this.extend_(adm, key, descriptor, false) === null ? 0 /* MakeResult.Cancel */ : 1 /* MakeResult.Break */;\n}\nfunction extend_$4(adm, key, descriptor, proxyTrap) {\n  var _this$options_$enhanc, _this$options_;\n  assertObservableDescriptor(adm, this, key, descriptor);\n  return adm.defineObservableProperty_(key, descriptor.value, (_this$options_$enhanc = (_this$options_ = this.options_) == null ? void 0 : _this$options_.enhancer) != null ? _this$options_$enhanc : deepEnhancer, proxyTrap);\n}\nfunction decorate_20223_$4(desc, context) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (context.kind === \"field\") {\n      throw die(\"Please use `@observable accessor \" + String(context.name) + \"` instead of `@observable \" + String(context.name) + \"`\");\n    }\n    assert20223DecoratorType(context, [\"accessor\"]);\n  }\n  var ann = this;\n  var kind = context.kind,\n    name = context.name;\n  // The laziness here is not ideal... It's a workaround to how 2022.3 Decorators are implemented:\n  //   `addInitializer` callbacks are executed _before_ any accessors are defined (instead of the ideal-for-us right after each).\n  //   This means that, if we were to do our stuff in an `addInitializer`, we'd attempt to read a private slot\n  //   before it has been initialized. The runtime doesn't like that and throws a `Cannot read private member\n  //   from an object whose class did not declare it` error.\n  // TODO: it seems that this will not be required anymore in the final version of the spec\n  // See TODO: link\n  var initializedObjects = new WeakSet();\n  function initializeObservable(target, value) {\n    var _ann$options_$enhance, _ann$options_;\n    var adm = asObservableObject(target)[$mobx];\n    var observable = new ObservableValue(value, (_ann$options_$enhance = (_ann$options_ = ann.options_) == null ? void 0 : _ann$options_.enhancer) != null ? _ann$options_$enhance : deepEnhancer, process.env.NODE_ENV !== \"production\" ? adm.name_ + \".\" + name.toString() : \"ObservableObject.\" + name.toString(), false);\n    adm.values_.set(name, observable);\n    initializedObjects.add(target);\n  }\n  if (kind == \"accessor\") {\n    return {\n      get: function get() {\n        if (!initializedObjects.has(this)) {\n          initializeObservable(this, desc.get.call(this));\n        }\n        return this[$mobx].getObservablePropValue_(name);\n      },\n      set: function set(value) {\n        if (!initializedObjects.has(this)) {\n          initializeObservable(this, value);\n        }\n        return this[$mobx].setObservablePropValue_(name, value);\n      },\n      init: function init(value) {\n        if (!initializedObjects.has(this)) {\n          initializeObservable(this, value);\n        }\n        return value;\n      }\n    };\n  }\n  return;\n}\nfunction assertObservableDescriptor(adm, _ref, key, descriptor) {\n  var annotationType_ = _ref.annotationType_;\n  if (process.env.NODE_ENV !== \"production\" && !(\"value\" in descriptor)) {\n    die(\"Cannot apply '\" + annotationType_ + \"' to '\" + adm.name_ + \".\" + key.toString() + \"':\" + (\"\\n'\" + annotationType_ + \"' cannot be used on getter/setter properties\"));\n  }\n}\n\nvar AUTO = \"true\";\nvar autoAnnotation = /*#__PURE__*/createAutoAnnotation();\nfunction createAutoAnnotation(options) {\n  return {\n    annotationType_: AUTO,\n    options_: options,\n    make_: make_$5,\n    extend_: extend_$5,\n    decorate_20223_: decorate_20223_$5\n  };\n}\nfunction make_$5(adm, key, descriptor, source) {\n  var _this$options_3, _this$options_4;\n  // getter -> computed\n  if (descriptor.get) {\n    return computed.make_(adm, key, descriptor, source);\n  }\n  // lone setter -> action setter\n  if (descriptor.set) {\n    // TODO make action applicable to setter and delegate to action.make_\n    var set = createAction(key.toString(), descriptor.set);\n    // own\n    if (source === adm.target_) {\n      return adm.defineProperty_(key, {\n        configurable: globalState.safeDescriptors ? adm.isPlainObject_ : true,\n        set: set\n      }) === null ? 0 /* MakeResult.Cancel */ : 2 /* MakeResult.Continue */;\n    }\n    // proto\n    defineProperty(source, key, {\n      configurable: true,\n      set: set\n    });\n    return 2 /* MakeResult.Continue */;\n  }\n  // function on proto -> autoAction/flow\n  if (source !== adm.target_ && typeof descriptor.value === \"function\") {\n    var _this$options_2;\n    if (isGenerator(descriptor.value)) {\n      var _this$options_;\n      var flowAnnotation = (_this$options_ = this.options_) != null && _this$options_.autoBind ? flow.bound : flow;\n      return flowAnnotation.make_(adm, key, descriptor, source);\n    }\n    var actionAnnotation = (_this$options_2 = this.options_) != null && _this$options_2.autoBind ? autoAction.bound : autoAction;\n    return actionAnnotation.make_(adm, key, descriptor, source);\n  }\n  // other -> observable\n  // Copy props from proto as well, see test:\n  // \"decorate should work with Object.create\"\n  var observableAnnotation = ((_this$options_3 = this.options_) == null ? void 0 : _this$options_3.deep) === false ? observable.ref : observable;\n  // if function respect autoBind option\n  if (typeof descriptor.value === \"function\" && (_this$options_4 = this.options_) != null && _this$options_4.autoBind) {\n    var _adm$proxy_;\n    descriptor.value = descriptor.value.bind((_adm$proxy_ = adm.proxy_) != null ? _adm$proxy_ : adm.target_);\n  }\n  return observableAnnotation.make_(adm, key, descriptor, source);\n}\nfunction extend_$5(adm, key, descriptor, proxyTrap) {\n  var _this$options_5, _this$options_6;\n  // getter -> computed\n  if (descriptor.get) {\n    return computed.extend_(adm, key, descriptor, proxyTrap);\n  }\n  // lone setter -> action setter\n  if (descriptor.set) {\n    // TODO make action applicable to setter and delegate to action.extend_\n    return adm.defineProperty_(key, {\n      configurable: globalState.safeDescriptors ? adm.isPlainObject_ : true,\n      set: createAction(key.toString(), descriptor.set)\n    }, proxyTrap);\n  }\n  // other -> observable\n  // if function respect autoBind option\n  if (typeof descriptor.value === \"function\" && (_this$options_5 = this.options_) != null && _this$options_5.autoBind) {\n    var _adm$proxy_2;\n    descriptor.value = descriptor.value.bind((_adm$proxy_2 = adm.proxy_) != null ? _adm$proxy_2 : adm.target_);\n  }\n  var observableAnnotation = ((_this$options_6 = this.options_) == null ? void 0 : _this$options_6.deep) === false ? observable.ref : observable;\n  return observableAnnotation.extend_(adm, key, descriptor, proxyTrap);\n}\nfunction decorate_20223_$5(desc, context) {\n  die(\"'\" + this.annotationType_ + \"' cannot be used as a decorator\");\n}\n\nvar OBSERVABLE = \"observable\";\nvar OBSERVABLE_REF = \"observable.ref\";\nvar OBSERVABLE_SHALLOW = \"observable.shallow\";\nvar OBSERVABLE_STRUCT = \"observable.struct\";\n// Predefined bags of create observable options, to avoid allocating temporarily option objects\n// in the majority of cases\nvar defaultCreateObservableOptions = {\n  deep: true,\n  name: undefined,\n  defaultDecorator: undefined,\n  proxy: true\n};\nObject.freeze(defaultCreateObservableOptions);\nfunction asCreateObservableOptions(thing) {\n  return thing || defaultCreateObservableOptions;\n}\nvar observableAnnotation = /*#__PURE__*/createObservableAnnotation(OBSERVABLE);\nvar observableRefAnnotation = /*#__PURE__*/createObservableAnnotation(OBSERVABLE_REF, {\n  enhancer: referenceEnhancer\n});\nvar observableShallowAnnotation = /*#__PURE__*/createObservableAnnotation(OBSERVABLE_SHALLOW, {\n  enhancer: shallowEnhancer\n});\nvar observableStructAnnotation = /*#__PURE__*/createObservableAnnotation(OBSERVABLE_STRUCT, {\n  enhancer: refStructEnhancer\n});\nvar observableDecoratorAnnotation = /*#__PURE__*/createDecoratorAnnotation(observableAnnotation);\nfunction getEnhancerFromOptions(options) {\n  return options.deep === true ? deepEnhancer : options.deep === false ? referenceEnhancer : getEnhancerFromAnnotation(options.defaultDecorator);\n}\nfunction getAnnotationFromOptions(options) {\n  var _options$defaultDecor;\n  return options ? (_options$defaultDecor = options.defaultDecorator) != null ? _options$defaultDecor : createAutoAnnotation(options) : undefined;\n}\nfunction getEnhancerFromAnnotation(annotation) {\n  var _annotation$options_$, _annotation$options_;\n  return !annotation ? deepEnhancer : (_annotation$options_$ = (_annotation$options_ = annotation.options_) == null ? void 0 : _annotation$options_.enhancer) != null ? _annotation$options_$ : deepEnhancer;\n}\n/**\n * Turns an object, array or function into a reactive structure.\n * @param v the value which should become observable.\n */\nfunction createObservable(v, arg2, arg3) {\n  // @observable someProp; (2022.3 Decorators)\n  if (is20223Decorator(arg2)) {\n    return observableAnnotation.decorate_20223_(v, arg2);\n  }\n  // @observable someProp;\n  if (isStringish(arg2)) {\n    storeAnnotation(v, arg2, observableAnnotation);\n    return;\n  }\n  // already observable - ignore\n  if (isObservable(v)) {\n    return v;\n  }\n  // plain object\n  if (isPlainObject(v)) {\n    return observable.object(v, arg2, arg3);\n  }\n  // Array\n  if (Array.isArray(v)) {\n    return observable.array(v, arg2);\n  }\n  // Map\n  if (isES6Map(v)) {\n    return observable.map(v, arg2);\n  }\n  // Set\n  if (isES6Set(v)) {\n    return observable.set(v, arg2);\n  }\n  // other object - ignore\n  if (typeof v === \"object\" && v !== null) {\n    return v;\n  }\n  // anything else\n  return observable.box(v, arg2);\n}\nassign(createObservable, observableDecoratorAnnotation);\nvar observableFactories = {\n  box: function box(value, options) {\n    var o = asCreateObservableOptions(options);\n    return new ObservableValue(value, getEnhancerFromOptions(o), o.name, true, o.equals);\n  },\n  array: function array(initialValues, options) {\n    var o = asCreateObservableOptions(options);\n    return (globalState.useProxies === false || o.proxy === false ? createLegacyArray : createObservableArray)(initialValues, getEnhancerFromOptions(o), o.name);\n  },\n  map: function map(initialValues, options) {\n    var o = asCreateObservableOptions(options);\n    return new ObservableMap(initialValues, getEnhancerFromOptions(o), o.name);\n  },\n  set: function set(initialValues, options) {\n    var o = asCreateObservableOptions(options);\n    return new ObservableSet(initialValues, getEnhancerFromOptions(o), o.name);\n  },\n  object: function object(props, decorators, options) {\n    return initObservable(function () {\n      return extendObservable(globalState.useProxies === false || (options == null ? void 0 : options.proxy) === false ? asObservableObject({}, options) : asDynamicObservableObject({}, options), props, decorators);\n    });\n  },\n  ref: /*#__PURE__*/createDecoratorAnnotation(observableRefAnnotation),\n  shallow: /*#__PURE__*/createDecoratorAnnotation(observableShallowAnnotation),\n  deep: observableDecoratorAnnotation,\n  struct: /*#__PURE__*/createDecoratorAnnotation(observableStructAnnotation)\n};\n// eslint-disable-next-line\nvar observable = /*#__PURE__*/assign(createObservable, observableFactories);\n\nvar COMPUTED = \"computed\";\nvar COMPUTED_STRUCT = \"computed.struct\";\nvar computedAnnotation = /*#__PURE__*/createComputedAnnotation(COMPUTED);\nvar computedStructAnnotation = /*#__PURE__*/createComputedAnnotation(COMPUTED_STRUCT, {\n  equals: comparer.structural\n});\n/**\n * Decorator for class properties: @computed get value() { return expr; }.\n * For legacy purposes also invokable as ES5 observable created: `computed(() => expr)`;\n */\nvar computed = function computed(arg1, arg2) {\n  if (is20223Decorator(arg2)) {\n    // @computed (2022.3 Decorators)\n    return computedAnnotation.decorate_20223_(arg1, arg2);\n  }\n  if (isStringish(arg2)) {\n    // @computed\n    return storeAnnotation(arg1, arg2, computedAnnotation);\n  }\n  if (isPlainObject(arg1)) {\n    // @computed({ options })\n    return createDecoratorAnnotation(createComputedAnnotation(COMPUTED, arg1));\n  }\n  // computed(expr, options?)\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isFunction(arg1)) {\n      die(\"First argument to `computed` should be an expression.\");\n    }\n    if (isFunction(arg2)) {\n      die(\"A setter as second argument is no longer supported, use `{ set: fn }` option instead\");\n    }\n  }\n  var opts = isPlainObject(arg2) ? arg2 : {};\n  opts.get = arg1;\n  opts.name || (opts.name = arg1.name || \"\"); /* for generated name */\n  return new ComputedValue(opts);\n};\nObject.assign(computed, computedAnnotation);\ncomputed.struct = /*#__PURE__*/createDecoratorAnnotation(computedStructAnnotation);\n\nvar _getDescriptor$config, _getDescriptor;\n// we don't use globalState for these in order to avoid possible issues with multiple\n// mobx versions\nvar currentActionId = 0;\nvar nextActionId = 1;\nvar isFunctionNameConfigurable = (_getDescriptor$config = (_getDescriptor = /*#__PURE__*/getDescriptor(function () {}, \"name\")) == null ? void 0 : _getDescriptor.configurable) != null ? _getDescriptor$config : false;\n// we can safely recycle this object\nvar tmpNameDescriptor = {\n  value: \"action\",\n  configurable: true,\n  writable: false,\n  enumerable: false\n};\nfunction createAction(actionName, fn, autoAction, ref) {\n  if (autoAction === void 0) {\n    autoAction = false;\n  }\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isFunction(fn)) {\n      die(\"`action` can only be invoked on functions\");\n    }\n    if (typeof actionName !== \"string\" || !actionName) {\n      die(\"actions should have valid names, got: '\" + actionName + \"'\");\n    }\n  }\n  function res() {\n    return executeAction(actionName, autoAction, fn, ref || this, arguments);\n  }\n  res.isMobxAction = true;\n  res.toString = function () {\n    return fn.toString();\n  };\n  if (isFunctionNameConfigurable) {\n    tmpNameDescriptor.value = actionName;\n    defineProperty(res, \"name\", tmpNameDescriptor);\n  }\n  return res;\n}\nfunction executeAction(actionName, canRunAsDerivation, fn, scope, args) {\n  var runInfo = _startAction(actionName, canRunAsDerivation, scope, args);\n  try {\n    return fn.apply(scope, args);\n  } catch (err) {\n    runInfo.error_ = err;\n    throw err;\n  } finally {\n    _endAction(runInfo);\n  }\n}\nfunction _startAction(actionName, canRunAsDerivation,\n// true for autoAction\nscope, args) {\n  var notifySpy_ = process.env.NODE_ENV !== \"production\" && isSpyEnabled() && !!actionName;\n  var startTime_ = 0;\n  if (process.env.NODE_ENV !== \"production\" && notifySpy_) {\n    startTime_ = Date.now();\n    var flattenedArgs = args ? Array.from(args) : EMPTY_ARRAY;\n    spyReportStart({\n      type: ACTION,\n      name: actionName,\n      object: scope,\n      arguments: flattenedArgs\n    });\n  }\n  var prevDerivation_ = globalState.trackingDerivation;\n  var runAsAction = !canRunAsDerivation || !prevDerivation_;\n  startBatch();\n  var prevAllowStateChanges_ = globalState.allowStateChanges; // by default preserve previous allow\n  if (runAsAction) {\n    untrackedStart();\n    prevAllowStateChanges_ = allowStateChangesStart(true);\n  }\n  var prevAllowStateReads_ = allowStateReadsStart(true);\n  var runInfo = {\n    runAsAction_: runAsAction,\n    prevDerivation_: prevDerivation_,\n    prevAllowStateChanges_: prevAllowStateChanges_,\n    prevAllowStateReads_: prevAllowStateReads_,\n    notifySpy_: notifySpy_,\n    startTime_: startTime_,\n    actionId_: nextActionId++,\n    parentActionId_: currentActionId\n  };\n  currentActionId = runInfo.actionId_;\n  return runInfo;\n}\nfunction _endAction(runInfo) {\n  if (currentActionId !== runInfo.actionId_) {\n    die(30);\n  }\n  currentActionId = runInfo.parentActionId_;\n  if (runInfo.error_ !== undefined) {\n    globalState.suppressReactionErrors = true;\n  }\n  allowStateChangesEnd(runInfo.prevAllowStateChanges_);\n  allowStateReadsEnd(runInfo.prevAllowStateReads_);\n  endBatch();\n  if (runInfo.runAsAction_) {\n    untrackedEnd(runInfo.prevDerivation_);\n  }\n  if (process.env.NODE_ENV !== \"production\" && runInfo.notifySpy_) {\n    spyReportEnd({\n      time: Date.now() - runInfo.startTime_\n    });\n  }\n  globalState.suppressReactionErrors = false;\n}\nfunction allowStateChanges(allowStateChanges, func) {\n  var prev = allowStateChangesStart(allowStateChanges);\n  try {\n    return func();\n  } finally {\n    allowStateChangesEnd(prev);\n  }\n}\nfunction allowStateChangesStart(allowStateChanges) {\n  var prev = globalState.allowStateChanges;\n  globalState.allowStateChanges = allowStateChanges;\n  return prev;\n}\nfunction allowStateChangesEnd(prev) {\n  globalState.allowStateChanges = prev;\n}\n\nvar CREATE = \"create\";\nvar ObservableValue = /*#__PURE__*/function (_Atom) {\n  function ObservableValue(value, enhancer, name_, notifySpy, equals) {\n    var _this;\n    if (name_ === void 0) {\n      name_ = process.env.NODE_ENV !== \"production\" ? \"ObservableValue@\" + getNextId() : \"ObservableValue\";\n    }\n    if (notifySpy === void 0) {\n      notifySpy = true;\n    }\n    if (equals === void 0) {\n      equals = comparer[\"default\"];\n    }\n    _this = _Atom.call(this, name_) || this;\n    _this.enhancer = void 0;\n    _this.name_ = void 0;\n    _this.equals = void 0;\n    _this.hasUnreportedChange_ = false;\n    _this.interceptors_ = void 0;\n    _this.changeListeners_ = void 0;\n    _this.value_ = void 0;\n    _this.dehancer = void 0;\n    _this.enhancer = enhancer;\n    _this.name_ = name_;\n    _this.equals = equals;\n    _this.value_ = enhancer(value, undefined, name_);\n    if (process.env.NODE_ENV !== \"production\" && notifySpy && isSpyEnabled()) {\n      // only notify spy if this is a stand-alone observable\n      spyReport({\n        type: CREATE,\n        object: _this,\n        observableKind: \"value\",\n        debugObjectName: _this.name_,\n        newValue: \"\" + _this.value_\n      });\n    }\n    return _this;\n  }\n  _inheritsLoose(ObservableValue, _Atom);\n  var _proto = ObservableValue.prototype;\n  _proto.dehanceValue = function dehanceValue(value) {\n    if (this.dehancer !== undefined) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.set = function set(newValue) {\n    var oldValue = this.value_;\n    newValue = this.prepareNewValue_(newValue);\n    if (newValue !== globalState.UNCHANGED) {\n      var notifySpy = isSpyEnabled();\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportStart({\n          type: UPDATE,\n          object: this,\n          observableKind: \"value\",\n          debugObjectName: this.name_,\n          newValue: newValue,\n          oldValue: oldValue\n        });\n      }\n      this.setNewValue_(newValue);\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportEnd();\n      }\n    }\n  };\n  _proto.prepareNewValue_ = function prepareNewValue_(newValue) {\n    checkIfStateModificationsAreAllowed(this);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this,\n        type: UPDATE,\n        newValue: newValue\n      });\n      if (!change) {\n        return globalState.UNCHANGED;\n      }\n      newValue = change.newValue;\n    }\n    // apply modifier\n    newValue = this.enhancer(newValue, this.value_, this.name_);\n    return this.equals(this.value_, newValue) ? globalState.UNCHANGED : newValue;\n  };\n  _proto.setNewValue_ = function setNewValue_(newValue) {\n    var oldValue = this.value_;\n    this.value_ = newValue;\n    this.reportChanged();\n    if (hasListeners(this)) {\n      notifyListeners(this, {\n        type: UPDATE,\n        object: this,\n        newValue: newValue,\n        oldValue: oldValue\n      });\n    }\n  };\n  _proto.get = function get() {\n    this.reportObserved();\n    return this.dehanceValue(this.value_);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (fireImmediately) {\n      listener({\n        observableKind: \"value\",\n        debugObjectName: this.name_,\n        object: this,\n        type: UPDATE,\n        newValue: this.value_,\n        oldValue: undefined\n      });\n    }\n    return registerListener(this, listener);\n  };\n  _proto.raw = function raw() {\n    // used by MST ot get undehanced value\n    return this.value_;\n  };\n  _proto.toJSON = function toJSON() {\n    return this.get();\n  };\n  _proto.toString = function toString() {\n    return this.name_ + \"[\" + this.value_ + \"]\";\n  };\n  _proto.valueOf = function valueOf() {\n    return toPrimitive(this.get());\n  };\n  _proto[Symbol.toPrimitive] = function () {\n    return this.valueOf();\n  };\n  return ObservableValue;\n}(Atom);\nvar isObservableValue = /*#__PURE__*/createInstanceofPredicate(\"ObservableValue\", ObservableValue);\n\n/**\n * A node in the state dependency root that observes other nodes, and can be observed itself.\n *\n * ComputedValue will remember the result of the computation for the duration of the batch, or\n * while being observed.\n *\n * During this time it will recompute only when one of its direct dependencies changed,\n * but only when it is being accessed with `ComputedValue.get()`.\n *\n * Implementation description:\n * 1. First time it's being accessed it will compute and remember result\n *    give back remembered result until 2. happens\n * 2. First time any deep dependency change, propagate POSSIBLY_STALE to all observers, wait for 3.\n * 3. When it's being accessed, recompute if any shallow dependency changed.\n *    if result changed: propagate STALE to all observers, that were POSSIBLY_STALE from the last step.\n *    go to step 2. either way\n *\n * If at any point it's outside batch and it isn't observed: reset everything and go to 1.\n */\nvar ComputedValue = /*#__PURE__*/function () {\n  /**\n   * Create a new computed value based on a function expression.\n   *\n   * The `name` property is for debug purposes only.\n   *\n   * The `equals` property specifies the comparer function to use to determine if a newly produced\n   * value differs from the previous value. Two comparers are provided in the library; `defaultComparer`\n   * compares based on identity comparison (===), and `structuralComparer` deeply compares the structure.\n   * Structural comparison can be convenient if you always produce a new aggregated object and\n   * don't want to notify observers if it is structurally the same.\n   * This is useful for working with vectors, mouse coordinates etc.\n   */\n  function ComputedValue(options) {\n    this.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n    this.observing_ = [];\n    // nodes we are looking at. Our value depends on these nodes\n    this.newObserving_ = null;\n    // during tracking it's an array with new observed observers\n    this.observers_ = new Set();\n    this.runId_ = 0;\n    this.lastAccessedBy_ = 0;\n    this.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n    this.unboundDepsCount_ = 0;\n    this.value_ = new CaughtException(null);\n    this.name_ = void 0;\n    this.triggeredBy_ = void 0;\n    this.flags_ = 0;\n    this.derivation = void 0;\n    // N.B: unminified as it is used by MST\n    this.setter_ = void 0;\n    this.isTracing_ = TraceMode.NONE;\n    this.scope_ = void 0;\n    this.equals_ = void 0;\n    this.requiresReaction_ = void 0;\n    this.keepAlive_ = void 0;\n    this.onBOL = void 0;\n    this.onBUOL = void 0;\n    if (!options.get) {\n      die(31);\n    }\n    this.derivation = options.get;\n    this.name_ = options.name || (process.env.NODE_ENV !== \"production\" ? \"ComputedValue@\" + getNextId() : \"ComputedValue\");\n    if (options.set) {\n      this.setter_ = createAction(process.env.NODE_ENV !== \"production\" ? this.name_ + \"-setter\" : \"ComputedValue-setter\", options.set);\n    }\n    this.equals_ = options.equals || (options.compareStructural || options.struct ? comparer.structural : comparer[\"default\"]);\n    this.scope_ = options.context;\n    this.requiresReaction_ = options.requiresReaction;\n    this.keepAlive_ = !!options.keepAlive;\n  }\n  var _proto = ComputedValue.prototype;\n  _proto.onBecomeStale_ = function onBecomeStale_() {\n    propagateMaybeChanged(this);\n  };\n  _proto.onBO = function onBO() {\n    if (this.onBOL) {\n      this.onBOL.forEach(function (listener) {\n        return listener();\n      });\n    }\n  };\n  _proto.onBUO = function onBUO() {\n    if (this.onBUOL) {\n      this.onBUOL.forEach(function (listener) {\n        return listener();\n      });\n    }\n  }\n  // to check for cycles\n  ;\n  /**\n   * Returns the current value of this computed value.\n   * Will evaluate its computation first if needed.\n   */\n  _proto.get = function get() {\n    if (this.isComputing) {\n      die(32, this.name_, this.derivation);\n    }\n    if (globalState.inBatch === 0 &&\n    // !globalState.trackingDerivatpion &&\n    this.observers_.size === 0 && !this.keepAlive_) {\n      if (shouldCompute(this)) {\n        this.warnAboutUntrackedRead_();\n        startBatch(); // See perf test 'computed memoization'\n        this.value_ = this.computeValue_(false);\n        endBatch();\n      }\n    } else {\n      reportObserved(this);\n      if (shouldCompute(this)) {\n        var prevTrackingContext = globalState.trackingContext;\n        if (this.keepAlive_ && !prevTrackingContext) {\n          globalState.trackingContext = this;\n        }\n        if (this.trackAndCompute()) {\n          propagateChangeConfirmed(this);\n        }\n        globalState.trackingContext = prevTrackingContext;\n      }\n    }\n    var result = this.value_;\n    if (isCaughtException(result)) {\n      throw result.cause;\n    }\n    return result;\n  };\n  _proto.set = function set(value) {\n    if (this.setter_) {\n      if (this.isRunningSetter) {\n        die(33, this.name_);\n      }\n      this.isRunningSetter = true;\n      try {\n        this.setter_.call(this.scope_, value);\n      } finally {\n        this.isRunningSetter = false;\n      }\n    } else {\n      die(34, this.name_);\n    }\n  };\n  _proto.trackAndCompute = function trackAndCompute() {\n    // N.B: unminified as it is used by MST\n    var oldValue = this.value_;\n    var wasSuspended = /* see #1208 */this.dependenciesState_ === IDerivationState_.NOT_TRACKING_;\n    var newValue = this.computeValue_(true);\n    var changed = wasSuspended || isCaughtException(oldValue) || isCaughtException(newValue) || !this.equals_(oldValue, newValue);\n    if (changed) {\n      this.value_ = newValue;\n      if (process.env.NODE_ENV !== \"production\" && isSpyEnabled()) {\n        spyReport({\n          observableKind: \"computed\",\n          debugObjectName: this.name_,\n          object: this.scope_,\n          type: \"update\",\n          oldValue: oldValue,\n          newValue: newValue\n        });\n      }\n    }\n    return changed;\n  };\n  _proto.computeValue_ = function computeValue_(track) {\n    this.isComputing = true;\n    // don't allow state changes during computation\n    var prev = allowStateChangesStart(false);\n    var res;\n    if (track) {\n      res = trackDerivedFunction(this, this.derivation, this.scope_);\n    } else {\n      if (globalState.disableErrorBoundaries === true) {\n        res = this.derivation.call(this.scope_);\n      } else {\n        try {\n          res = this.derivation.call(this.scope_);\n        } catch (e) {\n          res = new CaughtException(e);\n        }\n      }\n    }\n    allowStateChangesEnd(prev);\n    this.isComputing = false;\n    return res;\n  };\n  _proto.suspend_ = function suspend_() {\n    if (!this.keepAlive_) {\n      clearObserving(this);\n      this.value_ = undefined; // don't hold on to computed value!\n      if (process.env.NODE_ENV !== \"production\" && this.isTracing_ !== TraceMode.NONE) {\n        console.log(\"[mobx.trace] Computed value '\" + this.name_ + \"' was suspended and it will recompute on the next access.\");\n      }\n    }\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    var _this = this;\n    var firstTime = true;\n    var prevValue = undefined;\n    return autorun(function () {\n      // TODO: why is this in a different place than the spyReport() function? in all other observables it's called in the same place\n      var newValue = _this.get();\n      if (!firstTime || fireImmediately) {\n        var prevU = untrackedStart();\n        listener({\n          observableKind: \"computed\",\n          debugObjectName: _this.name_,\n          type: UPDATE,\n          object: _this,\n          newValue: newValue,\n          oldValue: prevValue\n        });\n        untrackedEnd(prevU);\n      }\n      firstTime = false;\n      prevValue = newValue;\n    });\n  };\n  _proto.warnAboutUntrackedRead_ = function warnAboutUntrackedRead_() {\n    if (!(process.env.NODE_ENV !== \"production\")) {\n      return;\n    }\n    if (this.isTracing_ !== TraceMode.NONE) {\n      console.log(\"[mobx.trace] Computed value '\" + this.name_ + \"' is being read outside a reactive context. Doing a full recompute.\");\n    }\n    if (typeof this.requiresReaction_ === \"boolean\" ? this.requiresReaction_ : globalState.computedRequiresReaction) {\n      console.warn(\"[mobx] Computed value '\" + this.name_ + \"' is being read outside a reactive context. Doing a full recompute.\");\n    }\n  };\n  _proto.toString = function toString() {\n    return this.name_ + \"[\" + this.derivation.toString() + \"]\";\n  };\n  _proto.valueOf = function valueOf() {\n    return toPrimitive(this.get());\n  };\n  _proto[Symbol.toPrimitive] = function () {\n    return this.valueOf();\n  };\n  return _createClass(ComputedValue, [{\n    key: \"isComputing\",\n    get: function get() {\n      return getFlag(this.flags_, ComputedValue.isComputingMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, ComputedValue.isComputingMask_, newValue);\n    }\n  }, {\n    key: \"isRunningSetter\",\n    get: function get() {\n      return getFlag(this.flags_, ComputedValue.isRunningSetterMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, ComputedValue.isRunningSetterMask_, newValue);\n    }\n  }, {\n    key: \"isBeingObserved\",\n    get: function get() {\n      return getFlag(this.flags_, ComputedValue.isBeingObservedMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, ComputedValue.isBeingObservedMask_, newValue);\n    }\n  }, {\n    key: \"isPendingUnobservation\",\n    get: function get() {\n      return getFlag(this.flags_, ComputedValue.isPendingUnobservationMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, ComputedValue.isPendingUnobservationMask_, newValue);\n    }\n  }, {\n    key: \"diffValue\",\n    get: function get() {\n      return getFlag(this.flags_, ComputedValue.diffValueMask_) ? 1 : 0;\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, ComputedValue.diffValueMask_, newValue === 1 ? true : false);\n    }\n  }]);\n}();\nComputedValue.isComputingMask_ = 1;\nComputedValue.isRunningSetterMask_ = 2;\nComputedValue.isBeingObservedMask_ = 4;\nComputedValue.isPendingUnobservationMask_ = 8;\nComputedValue.diffValueMask_ = 16;\nvar isComputedValue = /*#__PURE__*/createInstanceofPredicate(\"ComputedValue\", ComputedValue);\n\nvar IDerivationState_;\n(function (IDerivationState_) {\n  // before being run or (outside batch and not being observed)\n  // at this point derivation is not holding any data about dependency tree\n  IDerivationState_[IDerivationState_[\"NOT_TRACKING_\"] = -1] = \"NOT_TRACKING_\";\n  // no shallow dependency changed since last computation\n  // won't recalculate derivation\n  // this is what makes mobx fast\n  IDerivationState_[IDerivationState_[\"UP_TO_DATE_\"] = 0] = \"UP_TO_DATE_\";\n  // some deep dependency changed, but don't know if shallow dependency changed\n  // will require to check first if UP_TO_DATE or POSSIBLY_STALE\n  // currently only ComputedValue will propagate POSSIBLY_STALE\n  //\n  // having this state is second big optimization:\n  // don't have to recompute on every dependency change, but only when it's needed\n  IDerivationState_[IDerivationState_[\"POSSIBLY_STALE_\"] = 1] = \"POSSIBLY_STALE_\";\n  // A shallow dependency has changed since last computation and the derivation\n  // will need to recompute when it's needed next.\n  IDerivationState_[IDerivationState_[\"STALE_\"] = 2] = \"STALE_\";\n})(IDerivationState_ || (IDerivationState_ = {}));\nvar TraceMode;\n(function (TraceMode) {\n  TraceMode[TraceMode[\"NONE\"] = 0] = \"NONE\";\n  TraceMode[TraceMode[\"LOG\"] = 1] = \"LOG\";\n  TraceMode[TraceMode[\"BREAK\"] = 2] = \"BREAK\";\n})(TraceMode || (TraceMode = {}));\nvar CaughtException = function CaughtException(cause) {\n  this.cause = void 0;\n  this.cause = cause;\n  // Empty\n};\nfunction isCaughtException(e) {\n  return e instanceof CaughtException;\n}\n/**\n * Finds out whether any dependency of the derivation has actually changed.\n * If dependenciesState is 1 then it will recalculate dependencies,\n * if any dependency changed it will propagate it by changing dependenciesState to 2.\n *\n * By iterating over the dependencies in the same order that they were reported and\n * stopping on the first change, all the recalculations are only called for ComputedValues\n * that will be tracked by derivation. That is because we assume that if the first x\n * dependencies of the derivation doesn't change then the derivation should run the same way\n * up until accessing x-th dependency.\n */\nfunction shouldCompute(derivation) {\n  switch (derivation.dependenciesState_) {\n    case IDerivationState_.UP_TO_DATE_:\n      return false;\n    case IDerivationState_.NOT_TRACKING_:\n    case IDerivationState_.STALE_:\n      return true;\n    case IDerivationState_.POSSIBLY_STALE_:\n      {\n        // state propagation can occur outside of action/reactive context #2195\n        var prevAllowStateReads = allowStateReadsStart(true);\n        var prevUntracked = untrackedStart(); // no need for those computeds to be reported, they will be picked up in trackDerivedFunction.\n        var obs = derivation.observing_,\n          l = obs.length;\n        for (var i = 0; i < l; i++) {\n          var obj = obs[i];\n          if (isComputedValue(obj)) {\n            if (globalState.disableErrorBoundaries) {\n              obj.get();\n            } else {\n              try {\n                obj.get();\n              } catch (e) {\n                // we are not interested in the value *or* exception at this moment, but if there is one, notify all\n                untrackedEnd(prevUntracked);\n                allowStateReadsEnd(prevAllowStateReads);\n                return true;\n              }\n            }\n            // if ComputedValue `obj` actually changed it will be computed and propagated to its observers.\n            // and `derivation` is an observer of `obj`\n            // invariantShouldCompute(derivation)\n            if (derivation.dependenciesState_ === IDerivationState_.STALE_) {\n              untrackedEnd(prevUntracked);\n              allowStateReadsEnd(prevAllowStateReads);\n              return true;\n            }\n          }\n        }\n        changeDependenciesStateTo0(derivation);\n        untrackedEnd(prevUntracked);\n        allowStateReadsEnd(prevAllowStateReads);\n        return false;\n      }\n  }\n}\nfunction isComputingDerivation() {\n  return globalState.trackingDerivation !== null; // filter out actions inside computations\n}\nfunction checkIfStateModificationsAreAllowed(atom) {\n  if (!(process.env.NODE_ENV !== \"production\")) {\n    return;\n  }\n  var hasObservers = atom.observers_.size > 0;\n  // Should not be possible to change observed state outside strict mode, except during initialization, see #563\n  if (!globalState.allowStateChanges && (hasObservers || globalState.enforceActions === \"always\")) {\n    console.warn(\"[MobX] \" + (globalState.enforceActions ? \"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: \" : \"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: \") + atom.name_);\n  }\n}\nfunction checkIfStateReadsAreAllowed(observable) {\n  if (process.env.NODE_ENV !== \"production\" && !globalState.allowStateReads && globalState.observableRequiresReaction) {\n    console.warn(\"[mobx] Observable '\" + observable.name_ + \"' being read outside a reactive context.\");\n  }\n}\n/**\n * Executes the provided function `f` and tracks which observables are being accessed.\n * The tracking information is stored on the `derivation` object and the derivation is registered\n * as observer of any of the accessed observables.\n */\nfunction trackDerivedFunction(derivation, f, context) {\n  var prevAllowStateReads = allowStateReadsStart(true);\n  changeDependenciesStateTo0(derivation);\n  // Preallocate array; will be trimmed by bindDependencies.\n  derivation.newObserving_ = new Array(\n  // Reserve constant space for initial dependencies, dynamic space otherwise.\n  // See https://github.com/mobxjs/mobx/pull/3833\n  derivation.runId_ === 0 ? 100 : derivation.observing_.length);\n  derivation.unboundDepsCount_ = 0;\n  derivation.runId_ = ++globalState.runId;\n  var prevTracking = globalState.trackingDerivation;\n  globalState.trackingDerivation = derivation;\n  globalState.inBatch++;\n  var result;\n  if (globalState.disableErrorBoundaries === true) {\n    result = f.call(context);\n  } else {\n    try {\n      result = f.call(context);\n    } catch (e) {\n      result = new CaughtException(e);\n    }\n  }\n  globalState.inBatch--;\n  globalState.trackingDerivation = prevTracking;\n  bindDependencies(derivation);\n  warnAboutDerivationWithoutDependencies(derivation);\n  allowStateReadsEnd(prevAllowStateReads);\n  return result;\n}\nfunction warnAboutDerivationWithoutDependencies(derivation) {\n  if (!(process.env.NODE_ENV !== \"production\")) {\n    return;\n  }\n  if (derivation.observing_.length !== 0) {\n    return;\n  }\n  if (typeof derivation.requiresObservable_ === \"boolean\" ? derivation.requiresObservable_ : globalState.reactionRequiresObservable) {\n    console.warn(\"[mobx] Derivation '\" + derivation.name_ + \"' is created/updated without reading any observable value.\");\n  }\n}\n/**\n * diffs newObserving with observing.\n * update observing to be newObserving with unique observables\n * notify observers that become observed/unobserved\n */\nfunction bindDependencies(derivation) {\n  // invariant(derivation.dependenciesState !== IDerivationState.NOT_TRACKING, \"INTERNAL ERROR bindDependencies expects derivation.dependenciesState !== -1\");\n  var prevObserving = derivation.observing_;\n  var observing = derivation.observing_ = derivation.newObserving_;\n  var lowestNewObservingDerivationState = IDerivationState_.UP_TO_DATE_;\n  // Go through all new observables and check diffValue: (this list can contain duplicates):\n  //   0: first occurrence, change to 1 and keep it\n  //   1: extra occurrence, drop it\n  var i0 = 0,\n    l = derivation.unboundDepsCount_;\n  for (var i = 0; i < l; i++) {\n    var dep = observing[i];\n    if (dep.diffValue === 0) {\n      dep.diffValue = 1;\n      if (i0 !== i) {\n        observing[i0] = dep;\n      }\n      i0++;\n    }\n    // Upcast is 'safe' here, because if dep is IObservable, `dependenciesState` will be undefined,\n    // not hitting the condition\n    if (dep.dependenciesState_ > lowestNewObservingDerivationState) {\n      lowestNewObservingDerivationState = dep.dependenciesState_;\n    }\n  }\n  observing.length = i0;\n  derivation.newObserving_ = null; // newObserving shouldn't be needed outside tracking (statement moved down to work around FF bug, see #614)\n  // Go through all old observables and check diffValue: (it is unique after last bindDependencies)\n  //   0: it's not in new observables, unobserve it\n  //   1: it keeps being observed, don't want to notify it. change to 0\n  l = prevObserving.length;\n  while (l--) {\n    var _dep = prevObserving[l];\n    if (_dep.diffValue === 0) {\n      removeObserver(_dep, derivation);\n    }\n    _dep.diffValue = 0;\n  }\n  // Go through all new observables and check diffValue: (now it should be unique)\n  //   0: it was set to 0 in last loop. don't need to do anything.\n  //   1: it wasn't observed, let's observe it. set back to 0\n  while (i0--) {\n    var _dep2 = observing[i0];\n    if (_dep2.diffValue === 1) {\n      _dep2.diffValue = 0;\n      addObserver(_dep2, derivation);\n    }\n  }\n  // Some new observed derivations may become stale during this derivation computation\n  // so they have had no chance to propagate staleness (#916)\n  if (lowestNewObservingDerivationState !== IDerivationState_.UP_TO_DATE_) {\n    derivation.dependenciesState_ = lowestNewObservingDerivationState;\n    derivation.onBecomeStale_();\n  }\n}\nfunction clearObserving(derivation) {\n  // invariant(globalState.inBatch > 0, \"INTERNAL ERROR clearObserving should be called only inside batch\");\n  var obs = derivation.observing_;\n  derivation.observing_ = [];\n  var i = obs.length;\n  while (i--) {\n    removeObserver(obs[i], derivation);\n  }\n  derivation.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n}\nfunction untracked(action) {\n  var prev = untrackedStart();\n  try {\n    return action();\n  } finally {\n    untrackedEnd(prev);\n  }\n}\nfunction untrackedStart() {\n  var prev = globalState.trackingDerivation;\n  globalState.trackingDerivation = null;\n  return prev;\n}\nfunction untrackedEnd(prev) {\n  globalState.trackingDerivation = prev;\n}\nfunction allowStateReadsStart(allowStateReads) {\n  var prev = globalState.allowStateReads;\n  globalState.allowStateReads = allowStateReads;\n  return prev;\n}\nfunction allowStateReadsEnd(prev) {\n  globalState.allowStateReads = prev;\n}\n/**\n * needed to keep `lowestObserverState` correct. when changing from (2 or 1) to 0\n *\n */\nfunction changeDependenciesStateTo0(derivation) {\n  if (derivation.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n    return;\n  }\n  derivation.dependenciesState_ = IDerivationState_.UP_TO_DATE_;\n  var obs = derivation.observing_;\n  var i = obs.length;\n  while (i--) {\n    obs[i].lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n  }\n}\n\n/**\n * These values will persist if global state is reset\n */\nvar persistentKeys = [\"mobxGuid\", \"spyListeners\", \"enforceActions\", \"computedRequiresReaction\", \"reactionRequiresObservable\", \"observableRequiresReaction\", \"allowStateReads\", \"disableErrorBoundaries\", \"runId\", \"UNCHANGED\", \"useProxies\"];\nvar MobXGlobals = function MobXGlobals() {\n  /**\n   * MobXGlobals version.\n   * MobX compatiblity with other versions loaded in memory as long as this version matches.\n   * It indicates that the global state still stores similar information\n   *\n   * N.B: this version is unrelated to the package version of MobX, and is only the version of the\n   * internal state storage of MobX, and can be the same across many different package versions\n   */\n  this.version = 6;\n  /**\n   * globally unique token to signal unchanged\n   */\n  this.UNCHANGED = {};\n  /**\n   * Currently running derivation\n   */\n  this.trackingDerivation = null;\n  /**\n   * Currently running reaction. This determines if we currently have a reactive context.\n   * (Tracking derivation is also set for temporal tracking of computed values inside actions,\n   * but trackingReaction can only be set by a form of Reaction)\n   */\n  this.trackingContext = null;\n  /**\n   * Each time a derivation is tracked, it is assigned a unique run-id\n   */\n  this.runId = 0;\n  /**\n   * 'guid' for general purpose. Will be persisted amongst resets.\n   */\n  this.mobxGuid = 0;\n  /**\n   * Are we in a batch block? (and how many of them)\n   */\n  this.inBatch = 0;\n  /**\n   * Observables that don't have observers anymore, and are about to be\n   * suspended, unless somebody else accesses it in the same batch\n   *\n   * @type {IObservable[]}\n   */\n  this.pendingUnobservations = [];\n  /**\n   * List of scheduled, not yet executed, reactions.\n   */\n  this.pendingReactions = [];\n  /**\n   * Are we currently processing reactions?\n   */\n  this.isRunningReactions = false;\n  /**\n   * Is it allowed to change observables at this point?\n   * In general, MobX doesn't allow that when running computations and React.render.\n   * To ensure that those functions stay pure.\n   */\n  this.allowStateChanges = false;\n  /**\n   * Is it allowed to read observables at this point?\n   * Used to hold the state needed for `observableRequiresReaction`\n   */\n  this.allowStateReads = true;\n  /**\n   * If strict mode is enabled, state changes are by default not allowed\n   */\n  this.enforceActions = true;\n  /**\n   * Spy callbacks\n   */\n  this.spyListeners = [];\n  /**\n   * Globally attached error handlers that react specifically to errors in reactions\n   */\n  this.globalReactionErrorHandlers = [];\n  /**\n   * Warn if computed values are accessed outside a reactive context\n   */\n  this.computedRequiresReaction = false;\n  /**\n   * (Experimental)\n   * Warn if you try to create to derivation / reactive context without accessing any observable.\n   */\n  this.reactionRequiresObservable = false;\n  /**\n   * (Experimental)\n   * Warn if observables are accessed outside a reactive context\n   */\n  this.observableRequiresReaction = false;\n  /*\n   * Don't catch and rethrow exceptions. This is useful for inspecting the state of\n   * the stack when an exception occurs while debugging.\n   */\n  this.disableErrorBoundaries = false;\n  /*\n   * If true, we are already handling an exception in an action. Any errors in reactions should be suppressed, as\n   * they are not the cause, see: https://github.com/mobxjs/mobx/issues/1836\n   */\n  this.suppressReactionErrors = false;\n  this.useProxies = true;\n  /*\n   * print warnings about code that would fail if proxies weren't available\n   */\n  this.verifyProxies = false;\n  /**\n   * False forces all object's descriptors to\n   * writable: true\n   * configurable: true\n   */\n  this.safeDescriptors = true;\n};\nvar canMergeGlobalState = true;\nvar isolateCalled = false;\nvar globalState = /*#__PURE__*/function () {\n  var global = /*#__PURE__*/getGlobal();\n  if (global.__mobxInstanceCount > 0 && !global.__mobxGlobals) {\n    canMergeGlobalState = false;\n  }\n  if (global.__mobxGlobals && global.__mobxGlobals.version !== new MobXGlobals().version) {\n    canMergeGlobalState = false;\n  }\n  if (!canMergeGlobalState) {\n    // Because this is a IIFE we need to let isolateCalled a chance to change\n    // so we run it after the event loop completed at least 1 iteration\n    setTimeout(function () {\n      if (!isolateCalled) {\n        die(35);\n      }\n    }, 1);\n    return new MobXGlobals();\n  } else if (global.__mobxGlobals) {\n    global.__mobxInstanceCount += 1;\n    if (!global.__mobxGlobals.UNCHANGED) {\n      global.__mobxGlobals.UNCHANGED = {};\n    } // make merge backward compatible\n    return global.__mobxGlobals;\n  } else {\n    global.__mobxInstanceCount = 1;\n    return global.__mobxGlobals = /*#__PURE__*/new MobXGlobals();\n  }\n}();\nfunction isolateGlobalState() {\n  if (globalState.pendingReactions.length || globalState.inBatch || globalState.isRunningReactions) {\n    die(36);\n  }\n  isolateCalled = true;\n  if (canMergeGlobalState) {\n    var global = getGlobal();\n    if (--global.__mobxInstanceCount === 0) {\n      global.__mobxGlobals = undefined;\n    }\n    globalState = new MobXGlobals();\n  }\n}\nfunction getGlobalState() {\n  return globalState;\n}\n/**\n * For testing purposes only; this will break the internal state of existing observables,\n * but can be used to get back at a stable state after throwing errors\n */\nfunction resetGlobalState() {\n  var defaultGlobals = new MobXGlobals();\n  for (var key in defaultGlobals) {\n    if (persistentKeys.indexOf(key) === -1) {\n      globalState[key] = defaultGlobals[key];\n    }\n  }\n  globalState.allowStateChanges = !globalState.enforceActions;\n}\n\nfunction hasObservers(observable) {\n  return observable.observers_ && observable.observers_.size > 0;\n}\nfunction getObservers(observable) {\n  return observable.observers_;\n}\n// function invariantObservers(observable: IObservable) {\n//     const list = observable.observers\n//     const map = observable.observersIndexes\n//     const l = list.length\n//     for (let i = 0; i < l; i++) {\n//         const id = list[i].__mapid\n//         if (i) {\n//             invariant(map[id] === i, \"INTERNAL ERROR maps derivation.__mapid to index in list\") // for performance\n//         } else {\n//             invariant(!(id in map), \"INTERNAL ERROR observer on index 0 shouldn't be held in map.\") // for performance\n//         }\n//     }\n//     invariant(\n//         list.length === 0 || Object.keys(map).length === list.length - 1,\n//         \"INTERNAL ERROR there is no junk in map\"\n//     )\n// }\nfunction addObserver(observable, node) {\n  // invariant(node.dependenciesState !== -1, \"INTERNAL ERROR, can add only dependenciesState !== -1\");\n  // invariant(observable._observers.indexOf(node) === -1, \"INTERNAL ERROR add already added node\");\n  // invariantObservers(observable);\n  observable.observers_.add(node);\n  if (observable.lowestObserverState_ > node.dependenciesState_) {\n    observable.lowestObserverState_ = node.dependenciesState_;\n  }\n  // invariantObservers(observable);\n  // invariant(observable._observers.indexOf(node) !== -1, \"INTERNAL ERROR didn't add node\");\n}\nfunction removeObserver(observable, node) {\n  // invariant(globalState.inBatch > 0, \"INTERNAL ERROR, remove should be called only inside batch\");\n  // invariant(observable._observers.indexOf(node) !== -1, \"INTERNAL ERROR remove already removed node\");\n  // invariantObservers(observable);\n  observable.observers_[\"delete\"](node);\n  if (observable.observers_.size === 0) {\n    // deleting last observer\n    queueForUnobservation(observable);\n  }\n  // invariantObservers(observable);\n  // invariant(observable._observers.indexOf(node) === -1, \"INTERNAL ERROR remove already removed node2\");\n}\nfunction queueForUnobservation(observable) {\n  if (observable.isPendingUnobservation === false) {\n    // invariant(observable._observers.length === 0, \"INTERNAL ERROR, should only queue for unobservation unobserved observables\");\n    observable.isPendingUnobservation = true;\n    globalState.pendingUnobservations.push(observable);\n  }\n}\n/**\n * Batch starts a transaction, at least for purposes of memoizing ComputedValues when nothing else does.\n * During a batch `onBecomeUnobserved` will be called at most once per observable.\n * Avoids unnecessary recalculations.\n */\nfunction startBatch() {\n  globalState.inBatch++;\n}\nfunction endBatch() {\n  if (--globalState.inBatch === 0) {\n    runReactions();\n    // the batch is actually about to finish, all unobserving should happen here.\n    var list = globalState.pendingUnobservations;\n    for (var i = 0; i < list.length; i++) {\n      var observable = list[i];\n      observable.isPendingUnobservation = false;\n      if (observable.observers_.size === 0) {\n        if (observable.isBeingObserved) {\n          // if this observable had reactive observers, trigger the hooks\n          observable.isBeingObserved = false;\n          observable.onBUO();\n        }\n        if (observable instanceof ComputedValue) {\n          // computed values are automatically teared down when the last observer leaves\n          // this process happens recursively, this computed might be the last observabe of another, etc..\n          observable.suspend_();\n        }\n      }\n    }\n    globalState.pendingUnobservations = [];\n  }\n}\nfunction reportObserved(observable) {\n  checkIfStateReadsAreAllowed(observable);\n  var derivation = globalState.trackingDerivation;\n  if (derivation !== null) {\n    /**\n     * Simple optimization, give each derivation run an unique id (runId)\n     * Check if last time this observable was accessed the same runId is used\n     * if this is the case, the relation is already known\n     */\n    if (derivation.runId_ !== observable.lastAccessedBy_) {\n      observable.lastAccessedBy_ = derivation.runId_;\n      // Tried storing newObserving, or observing, or both as Set, but performance didn't come close...\n      derivation.newObserving_[derivation.unboundDepsCount_++] = observable;\n      if (!observable.isBeingObserved && globalState.trackingContext) {\n        observable.isBeingObserved = true;\n        observable.onBO();\n      }\n    }\n    return observable.isBeingObserved;\n  } else if (observable.observers_.size === 0 && globalState.inBatch > 0) {\n    queueForUnobservation(observable);\n  }\n  return false;\n}\n// function invariantLOS(observable: IObservable, msg: string) {\n//     // it's expensive so better not run it in produciton. but temporarily helpful for testing\n//     const min = getObservers(observable).reduce((a, b) => Math.min(a, b.dependenciesState), 2)\n//     if (min >= observable.lowestObserverState) return // <- the only assumption about `lowestObserverState`\n//     throw new Error(\n//         \"lowestObserverState is wrong for \" +\n//             msg +\n//             \" because \" +\n//             min +\n//             \" < \" +\n//             observable.lowestObserverState\n//     )\n// }\n/**\n * NOTE: current propagation mechanism will in case of self reruning autoruns behave unexpectedly\n * It will propagate changes to observers from previous run\n * It's hard or maybe impossible (with reasonable perf) to get it right with current approach\n * Hopefully self reruning autoruns aren't a feature people should depend on\n * Also most basic use cases should be ok\n */\n// Called by Atom when its value changes\nfunction propagateChanged(observable) {\n  // invariantLOS(observable, \"changed start\");\n  if (observable.lowestObserverState_ === IDerivationState_.STALE_) {\n    return;\n  }\n  observable.lowestObserverState_ = IDerivationState_.STALE_;\n  // Ideally we use for..of here, but the downcompiled version is really slow...\n  observable.observers_.forEach(function (d) {\n    if (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n      if (process.env.NODE_ENV !== \"production\" && d.isTracing_ !== TraceMode.NONE) {\n        logTraceInfo(d, observable);\n      }\n      d.onBecomeStale_();\n    }\n    d.dependenciesState_ = IDerivationState_.STALE_;\n  });\n  // invariantLOS(observable, \"changed end\");\n}\n// Called by ComputedValue when it recalculate and its value changed\nfunction propagateChangeConfirmed(observable) {\n  // invariantLOS(observable, \"confirmed start\");\n  if (observable.lowestObserverState_ === IDerivationState_.STALE_) {\n    return;\n  }\n  observable.lowestObserverState_ = IDerivationState_.STALE_;\n  observable.observers_.forEach(function (d) {\n    if (d.dependenciesState_ === IDerivationState_.POSSIBLY_STALE_) {\n      d.dependenciesState_ = IDerivationState_.STALE_;\n      if (process.env.NODE_ENV !== \"production\" && d.isTracing_ !== TraceMode.NONE) {\n        logTraceInfo(d, observable);\n      }\n    } else if (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_ // this happens during computing of `d`, just keep lowestObserverState up to date.\n    ) {\n      observable.lowestObserverState_ = IDerivationState_.UP_TO_DATE_;\n    }\n  });\n  // invariantLOS(observable, \"confirmed end\");\n}\n// Used by computed when its dependency changed, but we don't wan't to immediately recompute.\nfunction propagateMaybeChanged(observable) {\n  // invariantLOS(observable, \"maybe start\");\n  if (observable.lowestObserverState_ !== IDerivationState_.UP_TO_DATE_) {\n    return;\n  }\n  observable.lowestObserverState_ = IDerivationState_.POSSIBLY_STALE_;\n  observable.observers_.forEach(function (d) {\n    if (d.dependenciesState_ === IDerivationState_.UP_TO_DATE_) {\n      d.dependenciesState_ = IDerivationState_.POSSIBLY_STALE_;\n      d.onBecomeStale_();\n    }\n  });\n  // invariantLOS(observable, \"maybe end\");\n}\nfunction logTraceInfo(derivation, observable) {\n  console.log(\"[mobx.trace] '\" + derivation.name_ + \"' is invalidated due to a change in: '\" + observable.name_ + \"'\");\n  if (derivation.isTracing_ === TraceMode.BREAK) {\n    var lines = [];\n    printDepTree(getDependencyTree(derivation), lines, 1);\n    // prettier-ignore\n    new Function(\"debugger;\\n/*\\nTracing '\" + derivation.name_ + \"'\\n\\nYou are entering this break point because derivation '\" + derivation.name_ + \"' is being traced and '\" + observable.name_ + \"' is now forcing it to update.\\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\\n\\n\" + (derivation instanceof ComputedValue ? derivation.derivation.toString().replace(/[*]\\//g, \"/\") : \"\") + \"\\n\\nThe dependencies for this derivation are:\\n\\n\" + lines.join(\"\\n\") + \"\\n*/\\n    \")();\n  }\n}\nfunction printDepTree(tree, lines, depth) {\n  if (lines.length >= 1000) {\n    lines.push(\"(and many more)\");\n    return;\n  }\n  lines.push(\"\" + \"\\t\".repeat(depth - 1) + tree.name);\n  if (tree.dependencies) {\n    tree.dependencies.forEach(function (child) {\n      return printDepTree(child, lines, depth + 1);\n    });\n  }\n}\n\nvar Reaction = /*#__PURE__*/function () {\n  function Reaction(name_, onInvalidate_, errorHandler_, requiresObservable_) {\n    if (name_ === void 0) {\n      name_ = process.env.NODE_ENV !== \"production\" ? \"Reaction@\" + getNextId() : \"Reaction\";\n    }\n    this.name_ = void 0;\n    this.onInvalidate_ = void 0;\n    this.errorHandler_ = void 0;\n    this.requiresObservable_ = void 0;\n    this.observing_ = [];\n    // nodes we are looking at. Our value depends on these nodes\n    this.newObserving_ = [];\n    this.dependenciesState_ = IDerivationState_.NOT_TRACKING_;\n    this.runId_ = 0;\n    this.unboundDepsCount_ = 0;\n    this.flags_ = 0;\n    this.isTracing_ = TraceMode.NONE;\n    this.name_ = name_;\n    this.onInvalidate_ = onInvalidate_;\n    this.errorHandler_ = errorHandler_;\n    this.requiresObservable_ = requiresObservable_;\n  }\n  var _proto = Reaction.prototype;\n  _proto.onBecomeStale_ = function onBecomeStale_() {\n    this.schedule_();\n  };\n  _proto.schedule_ = function schedule_() {\n    if (!this.isScheduled) {\n      this.isScheduled = true;\n      globalState.pendingReactions.push(this);\n      runReactions();\n    }\n  }\n  /**\n   * internal, use schedule() if you intend to kick off a reaction\n   */;\n  _proto.runReaction_ = function runReaction_() {\n    if (!this.isDisposed) {\n      startBatch();\n      this.isScheduled = false;\n      var prev = globalState.trackingContext;\n      globalState.trackingContext = this;\n      if (shouldCompute(this)) {\n        this.isTrackPending = true;\n        try {\n          this.onInvalidate_();\n          if (process.env.NODE_ENV !== \"production\" && this.isTrackPending && isSpyEnabled()) {\n            // onInvalidate didn't trigger track right away..\n            spyReport({\n              name: this.name_,\n              type: \"scheduled-reaction\"\n            });\n          }\n        } catch (e) {\n          this.reportExceptionInDerivation_(e);\n        }\n      }\n      globalState.trackingContext = prev;\n      endBatch();\n    }\n  };\n  _proto.track = function track(fn) {\n    if (this.isDisposed) {\n      return;\n      // console.warn(\"Reaction already disposed\") // Note: Not a warning / error in mobx 4 either\n    }\n    startBatch();\n    var notify = isSpyEnabled();\n    var startTime;\n    if (process.env.NODE_ENV !== \"production\" && notify) {\n      startTime = Date.now();\n      spyReportStart({\n        name: this.name_,\n        type: \"reaction\"\n      });\n    }\n    this.isRunning = true;\n    var prevReaction = globalState.trackingContext; // reactions could create reactions...\n    globalState.trackingContext = this;\n    var result = trackDerivedFunction(this, fn, undefined);\n    globalState.trackingContext = prevReaction;\n    this.isRunning = false;\n    this.isTrackPending = false;\n    if (this.isDisposed) {\n      // disposed during last run. Clean up everything that was bound after the dispose call.\n      clearObserving(this);\n    }\n    if (isCaughtException(result)) {\n      this.reportExceptionInDerivation_(result.cause);\n    }\n    if (process.env.NODE_ENV !== \"production\" && notify) {\n      spyReportEnd({\n        time: Date.now() - startTime\n      });\n    }\n    endBatch();\n  };\n  _proto.reportExceptionInDerivation_ = function reportExceptionInDerivation_(error) {\n    var _this = this;\n    if (this.errorHandler_) {\n      this.errorHandler_(error, this);\n      return;\n    }\n    if (globalState.disableErrorBoundaries) {\n      throw error;\n    }\n    var message = process.env.NODE_ENV !== \"production\" ? \"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '\" + this + \"'\" : \"[mobx] uncaught error in '\" + this + \"'\";\n    if (!globalState.suppressReactionErrors) {\n      console.error(message, error);\n      /** If debugging brought you here, please, read the above message :-). Tnx! */\n    } else if (process.env.NODE_ENV !== \"production\") {\n      console.warn(\"[mobx] (error in reaction '\" + this.name_ + \"' suppressed, fix error of causing action below)\");\n    } // prettier-ignore\n    if (process.env.NODE_ENV !== \"production\" && isSpyEnabled()) {\n      spyReport({\n        type: \"error\",\n        name: this.name_,\n        message: message,\n        error: \"\" + error\n      });\n    }\n    globalState.globalReactionErrorHandlers.forEach(function (f) {\n      return f(error, _this);\n    });\n  };\n  _proto.dispose = function dispose() {\n    if (!this.isDisposed) {\n      this.isDisposed = true;\n      if (!this.isRunning) {\n        // if disposed while running, clean up later. Maybe not optimal, but rare case\n        startBatch();\n        clearObserving(this);\n        endBatch();\n      }\n    }\n  };\n  _proto.getDisposer_ = function getDisposer_(abortSignal) {\n    var _this2 = this;\n    var dispose = function dispose() {\n      _this2.dispose();\n      abortSignal == null || abortSignal.removeEventListener == null || abortSignal.removeEventListener(\"abort\", dispose);\n    };\n    abortSignal == null || abortSignal.addEventListener == null || abortSignal.addEventListener(\"abort\", dispose);\n    dispose[$mobx] = this;\n    return dispose;\n  };\n  _proto.toString = function toString() {\n    return \"Reaction[\" + this.name_ + \"]\";\n  };\n  _proto.trace = function trace$1(enterBreakPoint) {\n    if (enterBreakPoint === void 0) {\n      enterBreakPoint = false;\n    }\n    trace(this, enterBreakPoint);\n  };\n  return _createClass(Reaction, [{\n    key: \"isDisposed\",\n    get: function get() {\n      return getFlag(this.flags_, Reaction.isDisposedMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, Reaction.isDisposedMask_, newValue);\n    }\n  }, {\n    key: \"isScheduled\",\n    get: function get() {\n      return getFlag(this.flags_, Reaction.isScheduledMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, Reaction.isScheduledMask_, newValue);\n    }\n  }, {\n    key: \"isTrackPending\",\n    get: function get() {\n      return getFlag(this.flags_, Reaction.isTrackPendingMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, Reaction.isTrackPendingMask_, newValue);\n    }\n  }, {\n    key: \"isRunning\",\n    get: function get() {\n      return getFlag(this.flags_, Reaction.isRunningMask_);\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, Reaction.isRunningMask_, newValue);\n    }\n  }, {\n    key: \"diffValue\",\n    get: function get() {\n      return getFlag(this.flags_, Reaction.diffValueMask_) ? 1 : 0;\n    },\n    set: function set(newValue) {\n      this.flags_ = setFlag(this.flags_, Reaction.diffValueMask_, newValue === 1 ? true : false);\n    }\n  }]);\n}();\nReaction.isDisposedMask_ = 1;\nReaction.isScheduledMask_ = 2;\nReaction.isTrackPendingMask_ = 4;\nReaction.isRunningMask_ = 8;\nReaction.diffValueMask_ = 16;\nfunction onReactionError(handler) {\n  globalState.globalReactionErrorHandlers.push(handler);\n  return function () {\n    var idx = globalState.globalReactionErrorHandlers.indexOf(handler);\n    if (idx >= 0) {\n      globalState.globalReactionErrorHandlers.splice(idx, 1);\n    }\n  };\n}\n/**\n * Magic number alert!\n * Defines within how many times a reaction is allowed to re-trigger itself\n * until it is assumed that this is gonna be a never ending loop...\n */\nvar MAX_REACTION_ITERATIONS = 100;\nvar reactionScheduler = function reactionScheduler(f) {\n  return f();\n};\nfunction runReactions() {\n  // Trampolining, if runReactions are already running, new reactions will be picked up\n  if (globalState.inBatch > 0 || globalState.isRunningReactions) {\n    return;\n  }\n  reactionScheduler(runReactionsHelper);\n}\nfunction runReactionsHelper() {\n  globalState.isRunningReactions = true;\n  var allReactions = globalState.pendingReactions;\n  var iterations = 0;\n  // While running reactions, new reactions might be triggered.\n  // Hence we work with two variables and check whether\n  // we converge to no remaining reactions after a while.\n  while (allReactions.length > 0) {\n    if (++iterations === MAX_REACTION_ITERATIONS) {\n      console.error(process.env.NODE_ENV !== \"production\" ? \"Reaction doesn't converge to a stable state after \" + MAX_REACTION_ITERATIONS + \" iterations.\" + (\" Probably there is a cycle in the reactive function: \" + allReactions[0]) : \"[mobx] cycle in reaction: \" + allReactions[0]);\n      allReactions.splice(0); // clear reactions\n    }\n    var remainingReactions = allReactions.splice(0);\n    for (var i = 0, l = remainingReactions.length; i < l; i++) {\n      remainingReactions[i].runReaction_();\n    }\n  }\n  globalState.isRunningReactions = false;\n}\nvar isReaction = /*#__PURE__*/createInstanceofPredicate(\"Reaction\", Reaction);\nfunction setReactionScheduler(fn) {\n  var baseScheduler = reactionScheduler;\n  reactionScheduler = function reactionScheduler(f) {\n    return fn(function () {\n      return baseScheduler(f);\n    });\n  };\n}\n\nfunction isSpyEnabled() {\n  return process.env.NODE_ENV !== \"production\" && !!globalState.spyListeners.length;\n}\nfunction spyReport(event) {\n  if (!(process.env.NODE_ENV !== \"production\")) {\n    return;\n  } // dead code elimination can do the rest\n  if (!globalState.spyListeners.length) {\n    return;\n  }\n  var listeners = globalState.spyListeners;\n  for (var i = 0, l = listeners.length; i < l; i++) {\n    listeners[i](event);\n  }\n}\nfunction spyReportStart(event) {\n  if (!(process.env.NODE_ENV !== \"production\")) {\n    return;\n  }\n  var change = _extends({}, event, {\n    spyReportStart: true\n  });\n  spyReport(change);\n}\nvar END_EVENT = {\n  type: \"report-end\",\n  spyReportEnd: true\n};\nfunction spyReportEnd(change) {\n  if (!(process.env.NODE_ENV !== \"production\")) {\n    return;\n  }\n  if (change) {\n    spyReport(_extends({}, change, {\n      type: \"report-end\",\n      spyReportEnd: true\n    }));\n  } else {\n    spyReport(END_EVENT);\n  }\n}\nfunction spy(listener) {\n  if (!(process.env.NODE_ENV !== \"production\")) {\n    console.warn(\"[mobx.spy] Is a no-op in production builds\");\n    return function () {};\n  } else {\n    globalState.spyListeners.push(listener);\n    return once(function () {\n      globalState.spyListeners = globalState.spyListeners.filter(function (l) {\n        return l !== listener;\n      });\n    });\n  }\n}\n\nvar ACTION = \"action\";\nvar ACTION_BOUND = \"action.bound\";\nvar AUTOACTION = \"autoAction\";\nvar AUTOACTION_BOUND = \"autoAction.bound\";\nvar DEFAULT_ACTION_NAME = \"<unnamed action>\";\nvar actionAnnotation = /*#__PURE__*/createActionAnnotation(ACTION);\nvar actionBoundAnnotation = /*#__PURE__*/createActionAnnotation(ACTION_BOUND, {\n  bound: true\n});\nvar autoActionAnnotation = /*#__PURE__*/createActionAnnotation(AUTOACTION, {\n  autoAction: true\n});\nvar autoActionBoundAnnotation = /*#__PURE__*/createActionAnnotation(AUTOACTION_BOUND, {\n  autoAction: true,\n  bound: true\n});\nfunction createActionFactory(autoAction) {\n  var res = function action(arg1, arg2) {\n    // action(fn() {})\n    if (isFunction(arg1)) {\n      return createAction(arg1.name || DEFAULT_ACTION_NAME, arg1, autoAction);\n    }\n    // action(\"name\", fn() {})\n    if (isFunction(arg2)) {\n      return createAction(arg1, arg2, autoAction);\n    }\n    // @action (2022.3 Decorators)\n    if (is20223Decorator(arg2)) {\n      return (autoAction ? autoActionAnnotation : actionAnnotation).decorate_20223_(arg1, arg2);\n    }\n    // @action\n    if (isStringish(arg2)) {\n      return storeAnnotation(arg1, arg2, autoAction ? autoActionAnnotation : actionAnnotation);\n    }\n    // action(\"name\") & @action(\"name\")\n    if (isStringish(arg1)) {\n      return createDecoratorAnnotation(createActionAnnotation(autoAction ? AUTOACTION : ACTION, {\n        name: arg1,\n        autoAction: autoAction\n      }));\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      die(\"Invalid arguments for `action`\");\n    }\n  };\n  return res;\n}\nvar action = /*#__PURE__*/createActionFactory(false);\nObject.assign(action, actionAnnotation);\nvar autoAction = /*#__PURE__*/createActionFactory(true);\nObject.assign(autoAction, autoActionAnnotation);\naction.bound = /*#__PURE__*/createDecoratorAnnotation(actionBoundAnnotation);\nautoAction.bound = /*#__PURE__*/createDecoratorAnnotation(autoActionBoundAnnotation);\nfunction runInAction(fn) {\n  return executeAction(fn.name || DEFAULT_ACTION_NAME, false, fn, this, undefined);\n}\nfunction isAction(thing) {\n  return isFunction(thing) && thing.isMobxAction === true;\n}\n\n/**\n * Creates a named reactive view and keeps it alive, so that the view is always\n * updated if one of the dependencies changes, even when the view is not further used by something else.\n * @param view The reactive view\n * @returns disposer function, which can be used to stop the view from being updated in the future.\n */\nfunction autorun(view, opts) {\n  var _opts$name, _opts, _opts2, _opts3;\n  if (opts === void 0) {\n    opts = EMPTY_OBJECT;\n  }\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isFunction(view)) {\n      die(\"Autorun expects a function as first argument\");\n    }\n    if (isAction(view)) {\n      die(\"Autorun does not accept actions since actions are untrackable\");\n    }\n  }\n  var name = (_opts$name = (_opts = opts) == null ? void 0 : _opts.name) != null ? _opts$name : process.env.NODE_ENV !== \"production\" ? view.name || \"Autorun@\" + getNextId() : \"Autorun\";\n  var runSync = !opts.scheduler && !opts.delay;\n  var reaction;\n  if (runSync) {\n    // normal autorun\n    reaction = new Reaction(name, function () {\n      this.track(reactionRunner);\n    }, opts.onError, opts.requiresObservable);\n  } else {\n    var scheduler = createSchedulerFromOptions(opts);\n    // debounced autorun\n    var isScheduled = false;\n    reaction = new Reaction(name, function () {\n      if (!isScheduled) {\n        isScheduled = true;\n        scheduler(function () {\n          isScheduled = false;\n          if (!reaction.isDisposed) {\n            reaction.track(reactionRunner);\n          }\n        });\n      }\n    }, opts.onError, opts.requiresObservable);\n  }\n  function reactionRunner() {\n    view(reaction);\n  }\n  if (!((_opts2 = opts) != null && (_opts2 = _opts2.signal) != null && _opts2.aborted)) {\n    reaction.schedule_();\n  }\n  return reaction.getDisposer_((_opts3 = opts) == null ? void 0 : _opts3.signal);\n}\nvar run = function run(f) {\n  return f();\n};\nfunction createSchedulerFromOptions(opts) {\n  return opts.scheduler ? opts.scheduler : opts.delay ? function (f) {\n    return setTimeout(f, opts.delay);\n  } : run;\n}\nfunction reaction(expression, effect, opts) {\n  var _opts$name2, _opts4, _opts5;\n  if (opts === void 0) {\n    opts = EMPTY_OBJECT;\n  }\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isFunction(expression) || !isFunction(effect)) {\n      die(\"First and second argument to reaction should be functions\");\n    }\n    if (!isPlainObject(opts)) {\n      die(\"Third argument of reactions should be an object\");\n    }\n  }\n  var name = (_opts$name2 = opts.name) != null ? _opts$name2 : process.env.NODE_ENV !== \"production\" ? \"Reaction@\" + getNextId() : \"Reaction\";\n  var effectAction = action(name, opts.onError ? wrapErrorHandler(opts.onError, effect) : effect);\n  var runSync = !opts.scheduler && !opts.delay;\n  var scheduler = createSchedulerFromOptions(opts);\n  var firstTime = true;\n  var isScheduled = false;\n  var value;\n  var equals = opts.compareStructural ? comparer.structural : opts.equals || comparer[\"default\"];\n  var r = new Reaction(name, function () {\n    if (firstTime || runSync) {\n      reactionRunner();\n    } else if (!isScheduled) {\n      isScheduled = true;\n      scheduler(reactionRunner);\n    }\n  }, opts.onError, opts.requiresObservable);\n  function reactionRunner() {\n    isScheduled = false;\n    if (r.isDisposed) {\n      return;\n    }\n    var changed = false;\n    var oldValue = value;\n    r.track(function () {\n      var nextValue = allowStateChanges(false, function () {\n        return expression(r);\n      });\n      changed = firstTime || !equals(value, nextValue);\n      value = nextValue;\n    });\n    if (firstTime && opts.fireImmediately) {\n      effectAction(value, oldValue, r);\n    } else if (!firstTime && changed) {\n      effectAction(value, oldValue, r);\n    }\n    firstTime = false;\n  }\n  if (!((_opts4 = opts) != null && (_opts4 = _opts4.signal) != null && _opts4.aborted)) {\n    r.schedule_();\n  }\n  return r.getDisposer_((_opts5 = opts) == null ? void 0 : _opts5.signal);\n}\nfunction wrapErrorHandler(errorHandler, baseFn) {\n  return function () {\n    try {\n      return baseFn.apply(this, arguments);\n    } catch (e) {\n      errorHandler.call(this, e);\n    }\n  };\n}\n\nvar ON_BECOME_OBSERVED = \"onBO\";\nvar ON_BECOME_UNOBSERVED = \"onBUO\";\nfunction onBecomeObserved(thing, arg2, arg3) {\n  return interceptHook(ON_BECOME_OBSERVED, thing, arg2, arg3);\n}\nfunction onBecomeUnobserved(thing, arg2, arg3) {\n  return interceptHook(ON_BECOME_UNOBSERVED, thing, arg2, arg3);\n}\nfunction interceptHook(hook, thing, arg2, arg3) {\n  var atom = typeof arg3 === \"function\" ? getAtom(thing, arg2) : getAtom(thing);\n  var cb = isFunction(arg3) ? arg3 : arg2;\n  var listenersKey = hook + \"L\";\n  if (atom[listenersKey]) {\n    atom[listenersKey].add(cb);\n  } else {\n    atom[listenersKey] = new Set([cb]);\n  }\n  return function () {\n    var hookListeners = atom[listenersKey];\n    if (hookListeners) {\n      hookListeners[\"delete\"](cb);\n      if (hookListeners.size === 0) {\n        delete atom[listenersKey];\n      }\n    }\n  };\n}\n\nvar NEVER = \"never\";\nvar ALWAYS = \"always\";\nvar OBSERVED = \"observed\";\n// const IF_AVAILABLE = \"ifavailable\"\nfunction configure(options) {\n  if (options.isolateGlobalState === true) {\n    isolateGlobalState();\n  }\n  var useProxies = options.useProxies,\n    enforceActions = options.enforceActions;\n  if (useProxies !== undefined) {\n    globalState.useProxies = useProxies === ALWAYS ? true : useProxies === NEVER ? false : typeof Proxy !== \"undefined\";\n  }\n  if (useProxies === \"ifavailable\") {\n    globalState.verifyProxies = true;\n  }\n  if (enforceActions !== undefined) {\n    var ea = enforceActions === ALWAYS ? ALWAYS : enforceActions === OBSERVED;\n    globalState.enforceActions = ea;\n    globalState.allowStateChanges = ea === true || ea === ALWAYS ? false : true;\n  }\n  [\"computedRequiresReaction\", \"reactionRequiresObservable\", \"observableRequiresReaction\", \"disableErrorBoundaries\", \"safeDescriptors\"].forEach(function (key) {\n    if (key in options) {\n      globalState[key] = !!options[key];\n    }\n  });\n  globalState.allowStateReads = !globalState.observableRequiresReaction;\n  if (process.env.NODE_ENV !== \"production\" && globalState.disableErrorBoundaries === true) {\n    console.warn(\"WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled.\");\n  }\n  if (options.reactionScheduler) {\n    setReactionScheduler(options.reactionScheduler);\n  }\n}\n\nfunction extendObservable(target, properties, annotations, options) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (arguments.length > 4) {\n      die(\"'extendObservable' expected 2-4 arguments\");\n    }\n    if (typeof target !== \"object\") {\n      die(\"'extendObservable' expects an object as first argument\");\n    }\n    if (isObservableMap(target)) {\n      die(\"'extendObservable' should not be used on maps, use map.merge instead\");\n    }\n    if (!isPlainObject(properties)) {\n      die(\"'extendObservable' only accepts plain objects as second argument\");\n    }\n    if (isObservable(properties) || isObservable(annotations)) {\n      die(\"Extending an object with another observable (object) is not supported\");\n    }\n  }\n  // Pull descriptors first, so we don't have to deal with props added by administration ($mobx)\n  var descriptors = getOwnPropertyDescriptors(properties);\n  initObservable(function () {\n    var adm = asObservableObject(target, options)[$mobx];\n    ownKeys(descriptors).forEach(function (key) {\n      adm.extend_(key, descriptors[key],\n      // must pass \"undefined\" for { key: undefined }\n      !annotations ? true : key in annotations ? annotations[key] : true);\n    });\n  });\n  return target;\n}\n\nfunction getDependencyTree(thing, property) {\n  return nodeToDependencyTree(getAtom(thing, property));\n}\nfunction nodeToDependencyTree(node) {\n  var result = {\n    name: node.name_\n  };\n  if (node.observing_ && node.observing_.length > 0) {\n    result.dependencies = unique(node.observing_).map(nodeToDependencyTree);\n  }\n  return result;\n}\nfunction getObserverTree(thing, property) {\n  return nodeToObserverTree(getAtom(thing, property));\n}\nfunction nodeToObserverTree(node) {\n  var result = {\n    name: node.name_\n  };\n  if (hasObservers(node)) {\n    result.observers = Array.from(getObservers(node)).map(nodeToObserverTree);\n  }\n  return result;\n}\nfunction unique(list) {\n  return Array.from(new Set(list));\n}\n\nvar generatorId = 0;\nfunction FlowCancellationError() {\n  this.message = \"FLOW_CANCELLED\";\n}\nFlowCancellationError.prototype = /*#__PURE__*/Object.create(Error.prototype);\nfunction isFlowCancellationError(error) {\n  return error instanceof FlowCancellationError;\n}\nvar flowAnnotation = /*#__PURE__*/createFlowAnnotation(\"flow\");\nvar flowBoundAnnotation = /*#__PURE__*/createFlowAnnotation(\"flow.bound\", {\n  bound: true\n});\nvar flow = /*#__PURE__*/Object.assign(function flow(arg1, arg2) {\n  // @flow (2022.3 Decorators)\n  if (is20223Decorator(arg2)) {\n    return flowAnnotation.decorate_20223_(arg1, arg2);\n  }\n  // @flow\n  if (isStringish(arg2)) {\n    return storeAnnotation(arg1, arg2, flowAnnotation);\n  }\n  // flow(fn)\n  if (process.env.NODE_ENV !== \"production\" && arguments.length !== 1) {\n    die(\"Flow expects single argument with generator function\");\n  }\n  var generator = arg1;\n  var name = generator.name || \"<unnamed flow>\";\n  // Implementation based on https://github.com/tj/co/blob/master/index.js\n  var res = function res() {\n    var ctx = this;\n    var args = arguments;\n    var runId = ++generatorId;\n    var gen = action(name + \" - runid: \" + runId + \" - init\", generator).apply(ctx, args);\n    var rejector;\n    var pendingPromise = undefined;\n    var promise = new Promise(function (resolve, reject) {\n      var stepId = 0;\n      rejector = reject;\n      function onFulfilled(res) {\n        pendingPromise = undefined;\n        var ret;\n        try {\n          ret = action(name + \" - runid: \" + runId + \" - yield \" + stepId++, gen.next).call(gen, res);\n        } catch (e) {\n          return reject(e);\n        }\n        next(ret);\n      }\n      function onRejected(err) {\n        pendingPromise = undefined;\n        var ret;\n        try {\n          ret = action(name + \" - runid: \" + runId + \" - yield \" + stepId++, gen[\"throw\"]).call(gen, err);\n        } catch (e) {\n          return reject(e);\n        }\n        next(ret);\n      }\n      function next(ret) {\n        if (isFunction(ret == null ? void 0 : ret.then)) {\n          // an async iterator\n          ret.then(next, reject);\n          return;\n        }\n        if (ret.done) {\n          return resolve(ret.value);\n        }\n        pendingPromise = Promise.resolve(ret.value);\n        return pendingPromise.then(onFulfilled, onRejected);\n      }\n      onFulfilled(undefined); // kick off the process\n    });\n    promise.cancel = action(name + \" - runid: \" + runId + \" - cancel\", function () {\n      try {\n        if (pendingPromise) {\n          cancelPromise(pendingPromise);\n        }\n        // Finally block can return (or yield) stuff..\n        var _res = gen[\"return\"](undefined);\n        // eat anything that promise would do, it's cancelled!\n        var yieldedPromise = Promise.resolve(_res.value);\n        yieldedPromise.then(noop, noop);\n        cancelPromise(yieldedPromise); // maybe it can be cancelled :)\n        // reject our original promise\n        rejector(new FlowCancellationError());\n      } catch (e) {\n        rejector(e); // there could be a throwing finally block\n      }\n    });\n    return promise;\n  };\n  res.isMobXFlow = true;\n  return res;\n}, flowAnnotation);\nflow.bound = /*#__PURE__*/createDecoratorAnnotation(flowBoundAnnotation);\nfunction cancelPromise(promise) {\n  if (isFunction(promise.cancel)) {\n    promise.cancel();\n  }\n}\nfunction flowResult(result) {\n  return result; // just tricking TypeScript :)\n}\nfunction isFlow(fn) {\n  return (fn == null ? void 0 : fn.isMobXFlow) === true;\n}\n\nfunction interceptReads(thing, propOrHandler, handler) {\n  var target;\n  if (isObservableMap(thing) || isObservableArray(thing) || isObservableValue(thing)) {\n    target = getAdministration(thing);\n  } else if (isObservableObject(thing)) {\n    if (process.env.NODE_ENV !== \"production\" && !isStringish(propOrHandler)) {\n      return die(\"InterceptReads can only be used with a specific property, not with an object in general\");\n    }\n    target = getAdministration(thing, propOrHandler);\n  } else if (process.env.NODE_ENV !== \"production\") {\n    return die(\"Expected observable map, object or array as first array\");\n  }\n  if (process.env.NODE_ENV !== \"production\" && target.dehancer !== undefined) {\n    return die(\"An intercept reader was already established\");\n  }\n  target.dehancer = typeof propOrHandler === \"function\" ? propOrHandler : handler;\n  return function () {\n    target.dehancer = undefined;\n  };\n}\n\nfunction intercept(thing, propOrHandler, handler) {\n  if (isFunction(handler)) {\n    return interceptProperty(thing, propOrHandler, handler);\n  } else {\n    return interceptInterceptable(thing, propOrHandler);\n  }\n}\nfunction interceptInterceptable(thing, handler) {\n  return getAdministration(thing).intercept_(handler);\n}\nfunction interceptProperty(thing, property, handler) {\n  return getAdministration(thing, property).intercept_(handler);\n}\n\nfunction _isComputed(value, property) {\n  if (property === undefined) {\n    return isComputedValue(value);\n  }\n  if (isObservableObject(value) === false) {\n    return false;\n  }\n  if (!value[$mobx].values_.has(property)) {\n    return false;\n  }\n  var atom = getAtom(value, property);\n  return isComputedValue(atom);\n}\nfunction isComputed(value) {\n  if (process.env.NODE_ENV !== \"production\" && arguments.length > 1) {\n    return die(\"isComputed expects only 1 argument. Use isComputedProp to inspect the observability of a property\");\n  }\n  return _isComputed(value);\n}\nfunction isComputedProp(value, propName) {\n  if (process.env.NODE_ENV !== \"production\" && !isStringish(propName)) {\n    return die(\"isComputed expected a property name as second argument\");\n  }\n  return _isComputed(value, propName);\n}\n\nfunction _isObservable(value, property) {\n  if (!value) {\n    return false;\n  }\n  if (property !== undefined) {\n    if (process.env.NODE_ENV !== \"production\" && (isObservableMap(value) || isObservableArray(value))) {\n      return die(\"isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.\");\n    }\n    if (isObservableObject(value)) {\n      return value[$mobx].values_.has(property);\n    }\n    return false;\n  }\n  // For first check, see #701\n  return isObservableObject(value) || !!value[$mobx] || isAtom(value) || isReaction(value) || isComputedValue(value);\n}\nfunction isObservable(value) {\n  if (process.env.NODE_ENV !== \"production\" && arguments.length !== 1) {\n    die(\"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property\");\n  }\n  return _isObservable(value);\n}\nfunction isObservableProp(value, propName) {\n  if (process.env.NODE_ENV !== \"production\" && !isStringish(propName)) {\n    return die(\"expected a property name as second argument\");\n  }\n  return _isObservable(value, propName);\n}\n\nfunction keys(obj) {\n  if (isObservableObject(obj)) {\n    return obj[$mobx].keys_();\n  }\n  if (isObservableMap(obj) || isObservableSet(obj)) {\n    return Array.from(obj.keys());\n  }\n  if (isObservableArray(obj)) {\n    return obj.map(function (_, index) {\n      return index;\n    });\n  }\n  die(5);\n}\nfunction values(obj) {\n  if (isObservableObject(obj)) {\n    return keys(obj).map(function (key) {\n      return obj[key];\n    });\n  }\n  if (isObservableMap(obj)) {\n    return keys(obj).map(function (key) {\n      return obj.get(key);\n    });\n  }\n  if (isObservableSet(obj)) {\n    return Array.from(obj.values());\n  }\n  if (isObservableArray(obj)) {\n    return obj.slice();\n  }\n  die(6);\n}\nfunction entries(obj) {\n  if (isObservableObject(obj)) {\n    return keys(obj).map(function (key) {\n      return [key, obj[key]];\n    });\n  }\n  if (isObservableMap(obj)) {\n    return keys(obj).map(function (key) {\n      return [key, obj.get(key)];\n    });\n  }\n  if (isObservableSet(obj)) {\n    return Array.from(obj.entries());\n  }\n  if (isObservableArray(obj)) {\n    return obj.map(function (key, index) {\n      return [index, key];\n    });\n  }\n  die(7);\n}\nfunction set(obj, key, value) {\n  if (arguments.length === 2 && !isObservableSet(obj)) {\n    startBatch();\n    var _values = key;\n    try {\n      for (var _key in _values) {\n        set(obj, _key, _values[_key]);\n      }\n    } finally {\n      endBatch();\n    }\n    return;\n  }\n  if (isObservableObject(obj)) {\n    obj[$mobx].set_(key, value);\n  } else if (isObservableMap(obj)) {\n    obj.set(key, value);\n  } else if (isObservableSet(obj)) {\n    obj.add(key);\n  } else if (isObservableArray(obj)) {\n    if (typeof key !== \"number\") {\n      key = parseInt(key, 10);\n    }\n    if (key < 0) {\n      die(\"Invalid index: '\" + key + \"'\");\n    }\n    startBatch();\n    if (key >= obj.length) {\n      obj.length = key + 1;\n    }\n    obj[key] = value;\n    endBatch();\n  } else {\n    die(8);\n  }\n}\nfunction remove(obj, key) {\n  if (isObservableObject(obj)) {\n    obj[$mobx].delete_(key);\n  } else if (isObservableMap(obj)) {\n    obj[\"delete\"](key);\n  } else if (isObservableSet(obj)) {\n    obj[\"delete\"](key);\n  } else if (isObservableArray(obj)) {\n    if (typeof key !== \"number\") {\n      key = parseInt(key, 10);\n    }\n    obj.splice(key, 1);\n  } else {\n    die(9);\n  }\n}\nfunction has(obj, key) {\n  if (isObservableObject(obj)) {\n    return obj[$mobx].has_(key);\n  } else if (isObservableMap(obj)) {\n    return obj.has(key);\n  } else if (isObservableSet(obj)) {\n    return obj.has(key);\n  } else if (isObservableArray(obj)) {\n    return key >= 0 && key < obj.length;\n  }\n  die(10);\n}\nfunction get(obj, key) {\n  if (!has(obj, key)) {\n    return undefined;\n  }\n  if (isObservableObject(obj)) {\n    return obj[$mobx].get_(key);\n  } else if (isObservableMap(obj)) {\n    return obj.get(key);\n  } else if (isObservableArray(obj)) {\n    return obj[key];\n  }\n  die(11);\n}\nfunction apiDefineProperty(obj, key, descriptor) {\n  if (isObservableObject(obj)) {\n    return obj[$mobx].defineProperty_(key, descriptor);\n  }\n  die(39);\n}\nfunction apiOwnKeys(obj) {\n  if (isObservableObject(obj)) {\n    return obj[$mobx].ownKeys_();\n  }\n  die(38);\n}\n\nfunction observe(thing, propOrCb, cbOrFire, fireImmediately) {\n  if (isFunction(cbOrFire)) {\n    return observeObservableProperty(thing, propOrCb, cbOrFire, fireImmediately);\n  } else {\n    return observeObservable(thing, propOrCb, cbOrFire);\n  }\n}\nfunction observeObservable(thing, listener, fireImmediately) {\n  return getAdministration(thing).observe_(listener, fireImmediately);\n}\nfunction observeObservableProperty(thing, property, listener, fireImmediately) {\n  return getAdministration(thing, property).observe_(listener, fireImmediately);\n}\n\nfunction cache(map, key, value) {\n  map.set(key, value);\n  return value;\n}\nfunction toJSHelper(source, __alreadySeen) {\n  if (source == null || typeof source !== \"object\" || source instanceof Date || !isObservable(source)) {\n    return source;\n  }\n  if (isObservableValue(source) || isComputedValue(source)) {\n    return toJSHelper(source.get(), __alreadySeen);\n  }\n  if (__alreadySeen.has(source)) {\n    return __alreadySeen.get(source);\n  }\n  if (isObservableArray(source)) {\n    var res = cache(__alreadySeen, source, new Array(source.length));\n    source.forEach(function (value, idx) {\n      res[idx] = toJSHelper(value, __alreadySeen);\n    });\n    return res;\n  }\n  if (isObservableSet(source)) {\n    var _res = cache(__alreadySeen, source, new Set());\n    source.forEach(function (value) {\n      _res.add(toJSHelper(value, __alreadySeen));\n    });\n    return _res;\n  }\n  if (isObservableMap(source)) {\n    var _res2 = cache(__alreadySeen, source, new Map());\n    source.forEach(function (value, key) {\n      _res2.set(key, toJSHelper(value, __alreadySeen));\n    });\n    return _res2;\n  } else {\n    // must be observable object\n    var _res3 = cache(__alreadySeen, source, {});\n    apiOwnKeys(source).forEach(function (key) {\n      if (objectPrototype.propertyIsEnumerable.call(source, key)) {\n        _res3[key] = toJSHelper(source[key], __alreadySeen);\n      }\n    });\n    return _res3;\n  }\n}\n/**\n * Recursively converts an observable to it's non-observable native counterpart.\n * It does NOT recurse into non-observables, these are left as they are, even if they contain observables.\n * Computed and other non-enumerable properties are completely ignored.\n * Complex scenarios require custom solution, eg implementing `toJSON` or using `serializr` lib.\n */\nfunction toJS(source, options) {\n  if (process.env.NODE_ENV !== \"production\" && options) {\n    die(\"toJS no longer supports options\");\n  }\n  return toJSHelper(source, new Map());\n}\n\nfunction trace() {\n  if (!(process.env.NODE_ENV !== \"production\")) {\n    return;\n  }\n  var enterBreakPoint = false;\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (typeof args[args.length - 1] === \"boolean\") {\n    enterBreakPoint = args.pop();\n  }\n  var derivation = getAtomFromArgs(args);\n  if (!derivation) {\n    return die(\"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly\");\n  }\n  if (derivation.isTracing_ === TraceMode.NONE) {\n    console.log(\"[mobx.trace] '\" + derivation.name_ + \"' tracing enabled\");\n  }\n  derivation.isTracing_ = enterBreakPoint ? TraceMode.BREAK : TraceMode.LOG;\n}\nfunction getAtomFromArgs(args) {\n  switch (args.length) {\n    case 0:\n      return globalState.trackingDerivation;\n    case 1:\n      return getAtom(args[0]);\n    case 2:\n      return getAtom(args[0], args[1]);\n  }\n}\n\n/**\n * During a transaction no views are updated until the end of the transaction.\n * The transaction will be run synchronously nonetheless.\n *\n * @param action a function that updates some reactive state\n * @returns any value that was returned by the 'action' parameter.\n */\nfunction transaction(action, thisArg) {\n  if (thisArg === void 0) {\n    thisArg = undefined;\n  }\n  startBatch();\n  try {\n    return action.apply(thisArg);\n  } finally {\n    endBatch();\n  }\n}\n\nfunction when(predicate, arg1, arg2) {\n  if (arguments.length === 1 || arg1 && typeof arg1 === \"object\") {\n    return whenPromise(predicate, arg1);\n  }\n  return _when(predicate, arg1, arg2 || {});\n}\nfunction _when(predicate, effect, opts) {\n  var timeoutHandle;\n  if (typeof opts.timeout === \"number\") {\n    var error = new Error(\"WHEN_TIMEOUT\");\n    timeoutHandle = setTimeout(function () {\n      if (!disposer[$mobx].isDisposed) {\n        disposer();\n        if (opts.onError) {\n          opts.onError(error);\n        } else {\n          throw error;\n        }\n      }\n    }, opts.timeout);\n  }\n  opts.name = process.env.NODE_ENV !== \"production\" ? opts.name || \"When@\" + getNextId() : \"When\";\n  var effectAction = createAction(process.env.NODE_ENV !== \"production\" ? opts.name + \"-effect\" : \"When-effect\", effect);\n  // eslint-disable-next-line\n  var disposer = autorun(function (r) {\n    // predicate should not change state\n    var cond = allowStateChanges(false, predicate);\n    if (cond) {\n      r.dispose();\n      if (timeoutHandle) {\n        clearTimeout(timeoutHandle);\n      }\n      effectAction();\n    }\n  }, opts);\n  return disposer;\n}\nfunction whenPromise(predicate, opts) {\n  var _opts$signal;\n  if (process.env.NODE_ENV !== \"production\" && opts && opts.onError) {\n    return die(\"the options 'onError' and 'promise' cannot be combined\");\n  }\n  if (opts != null && (_opts$signal = opts.signal) != null && _opts$signal.aborted) {\n    return Object.assign(Promise.reject(new Error(\"WHEN_ABORTED\")), {\n      cancel: function cancel() {\n        return null;\n      }\n    });\n  }\n  var cancel;\n  var abort;\n  var res = new Promise(function (resolve, reject) {\n    var _opts$signal2;\n    var disposer = _when(predicate, resolve, _extends({}, opts, {\n      onError: reject\n    }));\n    cancel = function cancel() {\n      disposer();\n      reject(new Error(\"WHEN_CANCELLED\"));\n    };\n    abort = function abort() {\n      disposer();\n      reject(new Error(\"WHEN_ABORTED\"));\n    };\n    opts == null || (_opts$signal2 = opts.signal) == null || _opts$signal2.addEventListener == null || _opts$signal2.addEventListener(\"abort\", abort);\n  })[\"finally\"](function () {\n    var _opts$signal3;\n    return opts == null || (_opts$signal3 = opts.signal) == null || _opts$signal3.removeEventListener == null ? void 0 : _opts$signal3.removeEventListener(\"abort\", abort);\n  });\n  res.cancel = cancel;\n  return res;\n}\n\nfunction getAdm(target) {\n  return target[$mobx];\n}\n// Optimization: we don't need the intermediate objects and could have a completely custom administration for DynamicObjects,\n// and skip either the internal values map, or the base object with its property descriptors!\nvar objectProxyTraps = {\n  has: function has(target, name) {\n    if (process.env.NODE_ENV !== \"production\" && globalState.trackingDerivation) {\n      warnAboutProxyRequirement(\"detect new properties using the 'in' operator. Use 'has' from 'mobx' instead.\");\n    }\n    return getAdm(target).has_(name);\n  },\n  get: function get(target, name) {\n    return getAdm(target).get_(name);\n  },\n  set: function set(target, name, value) {\n    var _getAdm$set_;\n    if (!isStringish(name)) {\n      return false;\n    }\n    if (process.env.NODE_ENV !== \"production\" && !getAdm(target).values_.has(name)) {\n      warnAboutProxyRequirement(\"add a new observable property through direct assignment. Use 'set' from 'mobx' instead.\");\n    }\n    // null (intercepted) -> true (success)\n    return (_getAdm$set_ = getAdm(target).set_(name, value, true)) != null ? _getAdm$set_ : true;\n  },\n  deleteProperty: function deleteProperty(target, name) {\n    var _getAdm$delete_;\n    if (process.env.NODE_ENV !== \"production\") {\n      warnAboutProxyRequirement(\"delete properties from an observable object. Use 'remove' from 'mobx' instead.\");\n    }\n    if (!isStringish(name)) {\n      return false;\n    }\n    // null (intercepted) -> true (success)\n    return (_getAdm$delete_ = getAdm(target).delete_(name, true)) != null ? _getAdm$delete_ : true;\n  },\n  defineProperty: function defineProperty(target, name, descriptor) {\n    var _getAdm$definePropert;\n    if (process.env.NODE_ENV !== \"production\") {\n      warnAboutProxyRequirement(\"define property on an observable object. Use 'defineProperty' from 'mobx' instead.\");\n    }\n    // null (intercepted) -> true (success)\n    return (_getAdm$definePropert = getAdm(target).defineProperty_(name, descriptor)) != null ? _getAdm$definePropert : true;\n  },\n  ownKeys: function ownKeys(target) {\n    if (process.env.NODE_ENV !== \"production\" && globalState.trackingDerivation) {\n      warnAboutProxyRequirement(\"iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead.\");\n    }\n    return getAdm(target).ownKeys_();\n  },\n  preventExtensions: function preventExtensions(target) {\n    die(13);\n  }\n};\nfunction asDynamicObservableObject(target, options) {\n  var _target$$mobx, _target$$mobx$proxy_;\n  assertProxies();\n  target = asObservableObject(target, options);\n  return (_target$$mobx$proxy_ = (_target$$mobx = target[$mobx]).proxy_) != null ? _target$$mobx$proxy_ : _target$$mobx.proxy_ = new Proxy(target, objectProxyTraps);\n}\n\nfunction hasInterceptors(interceptable) {\n  return interceptable.interceptors_ !== undefined && interceptable.interceptors_.length > 0;\n}\nfunction registerInterceptor(interceptable, handler) {\n  var interceptors = interceptable.interceptors_ || (interceptable.interceptors_ = []);\n  interceptors.push(handler);\n  return once(function () {\n    var idx = interceptors.indexOf(handler);\n    if (idx !== -1) {\n      interceptors.splice(idx, 1);\n    }\n  });\n}\nfunction interceptChange(interceptable, change) {\n  var prevU = untrackedStart();\n  try {\n    // Interceptor can modify the array, copy it to avoid concurrent modification, see #1950\n    var interceptors = [].concat(interceptable.interceptors_ || []);\n    for (var i = 0, l = interceptors.length; i < l; i++) {\n      change = interceptors[i](change);\n      if (change && !change.type) {\n        die(14);\n      }\n      if (!change) {\n        break;\n      }\n    }\n    return change;\n  } finally {\n    untrackedEnd(prevU);\n  }\n}\n\nfunction hasListeners(listenable) {\n  return listenable.changeListeners_ !== undefined && listenable.changeListeners_.length > 0;\n}\nfunction registerListener(listenable, handler) {\n  var listeners = listenable.changeListeners_ || (listenable.changeListeners_ = []);\n  listeners.push(handler);\n  return once(function () {\n    var idx = listeners.indexOf(handler);\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    }\n  });\n}\nfunction notifyListeners(listenable, change) {\n  var prevU = untrackedStart();\n  var listeners = listenable.changeListeners_;\n  if (!listeners) {\n    return;\n  }\n  listeners = listeners.slice();\n  for (var i = 0, l = listeners.length; i < l; i++) {\n    listeners[i](change);\n  }\n  untrackedEnd(prevU);\n}\n\nfunction makeObservable(target, annotations, options) {\n  initObservable(function () {\n    var _annotations;\n    var adm = asObservableObject(target, options)[$mobx];\n    if (process.env.NODE_ENV !== \"production\" && annotations && target[storedAnnotationsSymbol]) {\n      die(\"makeObservable second arg must be nullish when using decorators. Mixing @decorator syntax with annotations is not supported.\");\n    }\n    // Default to decorators\n    (_annotations = annotations) != null ? _annotations : annotations = collectStoredAnnotations(target);\n    // Annotate\n    ownKeys(annotations).forEach(function (key) {\n      return adm.make_(key, annotations[key]);\n    });\n  });\n  return target;\n}\n// proto[keysSymbol] = new Set<PropertyKey>()\nvar keysSymbol = /*#__PURE__*/Symbol(\"mobx-keys\");\nfunction makeAutoObservable(target, overrides, options) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isPlainObject(target) && !isPlainObject(Object.getPrototypeOf(target))) {\n      die(\"'makeAutoObservable' can only be used for classes that don't have a superclass\");\n    }\n    if (isObservableObject(target)) {\n      die(\"makeAutoObservable can only be used on objects not already made observable\");\n    }\n  }\n  // Optimization: avoid visiting protos\n  // Assumes that annotation.make_/.extend_ works the same for plain objects\n  if (isPlainObject(target)) {\n    return extendObservable(target, target, overrides, options);\n  }\n  initObservable(function () {\n    var adm = asObservableObject(target, options)[$mobx];\n    // Optimization: cache keys on proto\n    // Assumes makeAutoObservable can be called only once per object and can't be used in subclass\n    if (!target[keysSymbol]) {\n      var proto = Object.getPrototypeOf(target);\n      var keys = new Set([].concat(ownKeys(target), ownKeys(proto)));\n      keys[\"delete\"](\"constructor\");\n      keys[\"delete\"]($mobx);\n      addHiddenProp(proto, keysSymbol, keys);\n    }\n    target[keysSymbol].forEach(function (key) {\n      return adm.make_(key,\n      // must pass \"undefined\" for { key: undefined }\n      !overrides ? true : key in overrides ? overrides[key] : true);\n    });\n  });\n  return target;\n}\n\nvar SPLICE = \"splice\";\nvar UPDATE = \"update\";\nvar MAX_SPLICE_SIZE = 10000; // See e.g. https://github.com/mobxjs/mobx/issues/859\nvar arrayTraps = {\n  get: function get(target, name) {\n    var adm = target[$mobx];\n    if (name === $mobx) {\n      return adm;\n    }\n    if (name === \"length\") {\n      return adm.getArrayLength_();\n    }\n    if (typeof name === \"string\" && !isNaN(name)) {\n      return adm.get_(parseInt(name));\n    }\n    if (hasProp(arrayExtensions, name)) {\n      return arrayExtensions[name];\n    }\n    return target[name];\n  },\n  set: function set(target, name, value) {\n    var adm = target[$mobx];\n    if (name === \"length\") {\n      adm.setArrayLength_(value);\n    }\n    if (typeof name === \"symbol\" || isNaN(name)) {\n      target[name] = value;\n    } else {\n      // numeric string\n      adm.set_(parseInt(name), value);\n    }\n    return true;\n  },\n  preventExtensions: function preventExtensions() {\n    die(15);\n  }\n};\nvar ObservableArrayAdministration = /*#__PURE__*/function () {\n  function ObservableArrayAdministration(name, enhancer, owned_, legacyMode_) {\n    if (name === void 0) {\n      name = process.env.NODE_ENV !== \"production\" ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n    }\n    this.owned_ = void 0;\n    this.legacyMode_ = void 0;\n    this.atom_ = void 0;\n    this.values_ = [];\n    // this is the prop that gets proxied, so can't replace it!\n    this.interceptors_ = void 0;\n    this.changeListeners_ = void 0;\n    this.enhancer_ = void 0;\n    this.dehancer = void 0;\n    this.proxy_ = void 0;\n    this.lastKnownLength_ = 0;\n    this.owned_ = owned_;\n    this.legacyMode_ = legacyMode_;\n    this.atom_ = new Atom(name);\n    this.enhancer_ = function (newV, oldV) {\n      return enhancer(newV, oldV, process.env.NODE_ENV !== \"production\" ? name + \"[..]\" : \"ObservableArray[..]\");\n    };\n  }\n  var _proto = ObservableArrayAdministration.prototype;\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== undefined) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.dehanceValues_ = function dehanceValues_(values) {\n    if (this.dehancer !== undefined && values.length > 0) {\n      return values.map(this.dehancer);\n    }\n    return values;\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (fireImmediately === void 0) {\n      fireImmediately = false;\n    }\n    if (fireImmediately) {\n      listener({\n        observableKind: \"array\",\n        object: this.proxy_,\n        debugObjectName: this.atom_.name_,\n        type: \"splice\",\n        index: 0,\n        added: this.values_.slice(),\n        addedCount: this.values_.length,\n        removed: [],\n        removedCount: 0\n      });\n    }\n    return registerListener(this, listener);\n  };\n  _proto.getArrayLength_ = function getArrayLength_() {\n    this.atom_.reportObserved();\n    return this.values_.length;\n  };\n  _proto.setArrayLength_ = function setArrayLength_(newLength) {\n    if (typeof newLength !== \"number\" || isNaN(newLength) || newLength < 0) {\n      die(\"Out of range: \" + newLength);\n    }\n    var currentLength = this.values_.length;\n    if (newLength === currentLength) {\n      return;\n    } else if (newLength > currentLength) {\n      var newItems = new Array(newLength - currentLength);\n      for (var i = 0; i < newLength - currentLength; i++) {\n        newItems[i] = undefined;\n      } // No Array.fill everywhere...\n      this.spliceWithArray_(currentLength, 0, newItems);\n    } else {\n      this.spliceWithArray_(newLength, currentLength - newLength);\n    }\n  };\n  _proto.updateArrayLength_ = function updateArrayLength_(oldLength, delta) {\n    if (oldLength !== this.lastKnownLength_) {\n      die(16);\n    }\n    this.lastKnownLength_ += delta;\n    if (this.legacyMode_ && delta > 0) {\n      reserveArrayBuffer(oldLength + delta + 1);\n    }\n  };\n  _proto.spliceWithArray_ = function spliceWithArray_(index, deleteCount, newItems) {\n    var _this = this;\n    checkIfStateModificationsAreAllowed(this.atom_);\n    var length = this.values_.length;\n    if (index === undefined) {\n      index = 0;\n    } else if (index > length) {\n      index = length;\n    } else if (index < 0) {\n      index = Math.max(0, length + index);\n    }\n    if (arguments.length === 1) {\n      deleteCount = length - index;\n    } else if (deleteCount === undefined || deleteCount === null) {\n      deleteCount = 0;\n    } else {\n      deleteCount = Math.max(0, Math.min(deleteCount, length - index));\n    }\n    if (newItems === undefined) {\n      newItems = EMPTY_ARRAY;\n    }\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy_,\n        type: SPLICE,\n        index: index,\n        removedCount: deleteCount,\n        added: newItems\n      });\n      if (!change) {\n        return EMPTY_ARRAY;\n      }\n      deleteCount = change.removedCount;\n      newItems = change.added;\n    }\n    newItems = newItems.length === 0 ? newItems : newItems.map(function (v) {\n      return _this.enhancer_(v, undefined);\n    });\n    if (this.legacyMode_ || process.env.NODE_ENV !== \"production\") {\n      var lengthDelta = newItems.length - deleteCount;\n      this.updateArrayLength_(length, lengthDelta); // checks if internal array wasn't modified\n    }\n    var res = this.spliceItemsIntoValues_(index, deleteCount, newItems);\n    if (deleteCount !== 0 || newItems.length !== 0) {\n      this.notifyArraySplice_(index, newItems, res);\n    }\n    return this.dehanceValues_(res);\n  };\n  _proto.spliceItemsIntoValues_ = function spliceItemsIntoValues_(index, deleteCount, newItems) {\n    if (newItems.length < MAX_SPLICE_SIZE) {\n      var _this$values_;\n      return (_this$values_ = this.values_).splice.apply(_this$values_, [index, deleteCount].concat(newItems));\n    } else {\n      // The items removed by the splice\n      var res = this.values_.slice(index, index + deleteCount);\n      // The items that that should remain at the end of the array\n      var oldItems = this.values_.slice(index + deleteCount);\n      // New length is the previous length + addition count - deletion count\n      this.values_.length += newItems.length - deleteCount;\n      for (var i = 0; i < newItems.length; i++) {\n        this.values_[index + i] = newItems[i];\n      }\n      for (var _i = 0; _i < oldItems.length; _i++) {\n        this.values_[index + newItems.length + _i] = oldItems[_i];\n      }\n      return res;\n    }\n  };\n  _proto.notifyArrayChildUpdate_ = function notifyArrayChildUpdate_(index, newValue, oldValue) {\n    var notifySpy = !this.owned_ && isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"array\",\n      object: this.proxy_,\n      type: UPDATE,\n      debugObjectName: this.atom_.name_,\n      index: index,\n      newValue: newValue,\n      oldValue: oldValue\n    } : null;\n    // The reason why this is on right hand side here (and not above), is this way the uglifier will drop it, but it won't\n    // cause any runtime overhead in development mode without NODE_ENV set, unless spying is enabled\n    if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n      spyReportStart(change);\n    }\n    this.atom_.reportChanged();\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n      spyReportEnd();\n    }\n  };\n  _proto.notifyArraySplice_ = function notifyArraySplice_(index, added, removed) {\n    var notifySpy = !this.owned_ && isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"array\",\n      object: this.proxy_,\n      debugObjectName: this.atom_.name_,\n      type: SPLICE,\n      index: index,\n      removed: removed,\n      added: added,\n      removedCount: removed.length,\n      addedCount: added.length\n    } : null;\n    if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n      spyReportStart(change);\n    }\n    this.atom_.reportChanged();\n    // conform: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/observe\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n      spyReportEnd();\n    }\n  };\n  _proto.get_ = function get_(index) {\n    if (this.legacyMode_ && index >= this.values_.length) {\n      console.warn(process.env.NODE_ENV !== \"production\" ? \"[mobx.array] Attempt to read an array index (\" + index + \") that is out of bounds (\" + this.values_.length + \"). Please check length first. Out of bound indices will not be tracked by MobX\" : \"[mobx] Out of bounds read: \" + index);\n      return undefined;\n    }\n    this.atom_.reportObserved();\n    return this.dehanceValue_(this.values_[index]);\n  };\n  _proto.set_ = function set_(index, newValue) {\n    var values = this.values_;\n    if (this.legacyMode_ && index > values.length) {\n      // out of bounds\n      die(17, index, values.length);\n    }\n    if (index < values.length) {\n      // update at index in range\n      checkIfStateModificationsAreAllowed(this.atom_);\n      var oldValue = values[index];\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          type: UPDATE,\n          object: this.proxy_,\n          // since \"this\" is the real array we need to pass its proxy\n          index: index,\n          newValue: newValue\n        });\n        if (!change) {\n          return;\n        }\n        newValue = change.newValue;\n      }\n      newValue = this.enhancer_(newValue, oldValue);\n      var changed = newValue !== oldValue;\n      if (changed) {\n        values[index] = newValue;\n        this.notifyArrayChildUpdate_(index, newValue, oldValue);\n      }\n    } else {\n      // For out of bound index, we don't create an actual sparse array,\n      // but rather fill the holes with undefined (same as setArrayLength_).\n      // This could be considered a bug.\n      var newItems = new Array(index + 1 - values.length);\n      for (var i = 0; i < newItems.length - 1; i++) {\n        newItems[i] = undefined;\n      } // No Array.fill everywhere...\n      newItems[newItems.length - 1] = newValue;\n      this.spliceWithArray_(values.length, 0, newItems);\n    }\n  };\n  return ObservableArrayAdministration;\n}();\nfunction createObservableArray(initialValues, enhancer, name, owned) {\n  if (name === void 0) {\n    name = process.env.NODE_ENV !== \"production\" ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n  }\n  if (owned === void 0) {\n    owned = false;\n  }\n  assertProxies();\n  return initObservable(function () {\n    var adm = new ObservableArrayAdministration(name, enhancer, owned, false);\n    addHiddenFinalProp(adm.values_, $mobx, adm);\n    var proxy = new Proxy(adm.values_, arrayTraps);\n    adm.proxy_ = proxy;\n    if (initialValues && initialValues.length) {\n      adm.spliceWithArray_(0, 0, initialValues);\n    }\n    return proxy;\n  });\n}\n// eslint-disable-next-line\nvar arrayExtensions = {\n  clear: function clear() {\n    return this.splice(0);\n  },\n  replace: function replace(newItems) {\n    var adm = this[$mobx];\n    return adm.spliceWithArray_(0, adm.values_.length, newItems);\n  },\n  // Used by JSON.stringify\n  toJSON: function toJSON() {\n    return this.slice();\n  },\n  /*\n   * functions that do alter the internal structure of the array, (based on lib.es6.d.ts)\n   * since these functions alter the inner structure of the array, the have side effects.\n   * Because the have side effects, they should not be used in computed function,\n   * and for that reason the do not call dependencyState.notifyObserved\n   */\n  splice: function splice(index, deleteCount) {\n    for (var _len = arguments.length, newItems = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      newItems[_key - 2] = arguments[_key];\n    }\n    var adm = this[$mobx];\n    switch (arguments.length) {\n      case 0:\n        return [];\n      case 1:\n        return adm.spliceWithArray_(index);\n      case 2:\n        return adm.spliceWithArray_(index, deleteCount);\n    }\n    return adm.spliceWithArray_(index, deleteCount, newItems);\n  },\n  spliceWithArray: function spliceWithArray(index, deleteCount, newItems) {\n    return this[$mobx].spliceWithArray_(index, deleteCount, newItems);\n  },\n  push: function push() {\n    var adm = this[$mobx];\n    for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      items[_key2] = arguments[_key2];\n    }\n    adm.spliceWithArray_(adm.values_.length, 0, items);\n    return adm.values_.length;\n  },\n  pop: function pop() {\n    return this.splice(Math.max(this[$mobx].values_.length - 1, 0), 1)[0];\n  },\n  shift: function shift() {\n    return this.splice(0, 1)[0];\n  },\n  unshift: function unshift() {\n    var adm = this[$mobx];\n    for (var _len3 = arguments.length, items = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      items[_key3] = arguments[_key3];\n    }\n    adm.spliceWithArray_(0, 0, items);\n    return adm.values_.length;\n  },\n  reverse: function reverse() {\n    // reverse by default mutates in place before returning the result\n    // which makes it both a 'derivation' and a 'mutation'.\n    if (globalState.trackingDerivation) {\n      die(37, \"reverse\");\n    }\n    this.replace(this.slice().reverse());\n    return this;\n  },\n  sort: function sort() {\n    // sort by default mutates in place before returning the result\n    // which goes against all good practices. Let's not change the array in place!\n    if (globalState.trackingDerivation) {\n      die(37, \"sort\");\n    }\n    var copy = this.slice();\n    copy.sort.apply(copy, arguments);\n    this.replace(copy);\n    return this;\n  },\n  remove: function remove(value) {\n    var adm = this[$mobx];\n    var idx = adm.dehanceValues_(adm.values_).indexOf(value);\n    if (idx > -1) {\n      this.splice(idx, 1);\n      return true;\n    }\n    return false;\n  }\n};\n/**\n * Wrap function from prototype\n * Without this, everything works as well, but this works\n * faster as everything works on unproxied values\n */\naddArrayExtension(\"at\", simpleFunc);\naddArrayExtension(\"concat\", simpleFunc);\naddArrayExtension(\"flat\", simpleFunc);\naddArrayExtension(\"includes\", simpleFunc);\naddArrayExtension(\"indexOf\", simpleFunc);\naddArrayExtension(\"join\", simpleFunc);\naddArrayExtension(\"lastIndexOf\", simpleFunc);\naddArrayExtension(\"slice\", simpleFunc);\naddArrayExtension(\"toString\", simpleFunc);\naddArrayExtension(\"toLocaleString\", simpleFunc);\naddArrayExtension(\"toSorted\", simpleFunc);\naddArrayExtension(\"toSpliced\", simpleFunc);\naddArrayExtension(\"with\", simpleFunc);\n// map\naddArrayExtension(\"every\", mapLikeFunc);\naddArrayExtension(\"filter\", mapLikeFunc);\naddArrayExtension(\"find\", mapLikeFunc);\naddArrayExtension(\"findIndex\", mapLikeFunc);\naddArrayExtension(\"findLast\", mapLikeFunc);\naddArrayExtension(\"findLastIndex\", mapLikeFunc);\naddArrayExtension(\"flatMap\", mapLikeFunc);\naddArrayExtension(\"forEach\", mapLikeFunc);\naddArrayExtension(\"map\", mapLikeFunc);\naddArrayExtension(\"some\", mapLikeFunc);\naddArrayExtension(\"toReversed\", mapLikeFunc);\n// reduce\naddArrayExtension(\"reduce\", reduceLikeFunc);\naddArrayExtension(\"reduceRight\", reduceLikeFunc);\nfunction addArrayExtension(funcName, funcFactory) {\n  if (typeof Array.prototype[funcName] === \"function\") {\n    arrayExtensions[funcName] = funcFactory(funcName);\n  }\n}\n// Report and delegate to dehanced array\nfunction simpleFunc(funcName) {\n  return function () {\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    return dehancedValues[funcName].apply(dehancedValues, arguments);\n  };\n}\n// Make sure callbacks receive correct array arg #2326\nfunction mapLikeFunc(funcName) {\n  return function (callback, thisArg) {\n    var _this2 = this;\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    return dehancedValues[funcName](function (element, index) {\n      return callback.call(thisArg, element, index, _this2);\n    });\n  };\n}\n// Make sure callbacks receive correct array arg #2326\nfunction reduceLikeFunc(funcName) {\n  return function () {\n    var _this3 = this;\n    var adm = this[$mobx];\n    adm.atom_.reportObserved();\n    var dehancedValues = adm.dehanceValues_(adm.values_);\n    // #2432 - reduce behavior depends on arguments.length\n    var callback = arguments[0];\n    arguments[0] = function (accumulator, currentValue, index) {\n      return callback(accumulator, currentValue, index, _this3);\n    };\n    return dehancedValues[funcName].apply(dehancedValues, arguments);\n  };\n}\nvar isObservableArrayAdministration = /*#__PURE__*/createInstanceofPredicate(\"ObservableArrayAdministration\", ObservableArrayAdministration);\nfunction isObservableArray(thing) {\n  return isObject(thing) && isObservableArrayAdministration(thing[$mobx]);\n}\n\nvar ObservableMapMarker = {};\nvar ADD = \"add\";\nvar DELETE = \"delete\";\n// just extend Map? See also https://gist.github.com/nestharus/13b4d74f2ef4a2f4357dbd3fc23c1e54\n// But: https://github.com/mobxjs/mobx/issues/1556\nvar ObservableMap = /*#__PURE__*/function () {\n  function ObservableMap(initialData, enhancer_, name_) {\n    var _this = this;\n    if (enhancer_ === void 0) {\n      enhancer_ = deepEnhancer;\n    }\n    if (name_ === void 0) {\n      name_ = process.env.NODE_ENV !== \"production\" ? \"ObservableMap@\" + getNextId() : \"ObservableMap\";\n    }\n    this.enhancer_ = void 0;\n    this.name_ = void 0;\n    this[$mobx] = ObservableMapMarker;\n    this.data_ = void 0;\n    this.hasMap_ = void 0;\n    // hasMap, not hashMap >-).\n    this.keysAtom_ = void 0;\n    this.interceptors_ = void 0;\n    this.changeListeners_ = void 0;\n    this.dehancer = void 0;\n    this.enhancer_ = enhancer_;\n    this.name_ = name_;\n    if (!isFunction(Map)) {\n      die(18);\n    }\n    initObservable(function () {\n      _this.keysAtom_ = createAtom(process.env.NODE_ENV !== \"production\" ? _this.name_ + \".keys()\" : \"ObservableMap.keys()\");\n      _this.data_ = new Map();\n      _this.hasMap_ = new Map();\n      if (initialData) {\n        _this.merge(initialData);\n      }\n    });\n  }\n  var _proto = ObservableMap.prototype;\n  _proto.has_ = function has_(key) {\n    return this.data_.has(key);\n  };\n  _proto.has = function has(key) {\n    var _this2 = this;\n    if (!globalState.trackingDerivation) {\n      return this.has_(key);\n    }\n    var entry = this.hasMap_.get(key);\n    if (!entry) {\n      var newEntry = entry = new ObservableValue(this.has_(key), referenceEnhancer, process.env.NODE_ENV !== \"production\" ? this.name_ + \".\" + stringifyKey(key) + \"?\" : \"ObservableMap.key?\", false);\n      this.hasMap_.set(key, newEntry);\n      onBecomeUnobserved(newEntry, function () {\n        return _this2.hasMap_[\"delete\"](key);\n      });\n    }\n    return entry.get();\n  };\n  _proto.set = function set(key, value) {\n    var hasKey = this.has_(key);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: hasKey ? UPDATE : ADD,\n        object: this,\n        newValue: value,\n        name: key\n      });\n      if (!change) {\n        return this;\n      }\n      value = change.newValue;\n    }\n    if (hasKey) {\n      this.updateValue_(key, value);\n    } else {\n      this.addValue_(key, value);\n    }\n    return this;\n  };\n  _proto[\"delete\"] = function _delete(key) {\n    var _this3 = this;\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: DELETE,\n        object: this,\n        name: key\n      });\n      if (!change) {\n        return false;\n      }\n    }\n    if (this.has_(key)) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var _change = notify || notifySpy ? {\n        observableKind: \"map\",\n        debugObjectName: this.name_,\n        type: DELETE,\n        object: this,\n        oldValue: this.data_.get(key).value_,\n        name: key\n      } : null;\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportStart(_change);\n      } // TODO fix type\n      transaction(function () {\n        var _this3$hasMap_$get;\n        _this3.keysAtom_.reportChanged();\n        (_this3$hasMap_$get = _this3.hasMap_.get(key)) == null || _this3$hasMap_$get.setNewValue_(false);\n        var observable = _this3.data_.get(key);\n        observable.setNewValue_(undefined);\n        _this3.data_[\"delete\"](key);\n      });\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportEnd();\n      }\n      return true;\n    }\n    return false;\n  };\n  _proto.updateValue_ = function updateValue_(key, newValue) {\n    var observable = this.data_.get(key);\n    newValue = observable.prepareNewValue_(newValue);\n    if (newValue !== globalState.UNCHANGED) {\n      var notifySpy = isSpyEnabled();\n      var notify = hasListeners(this);\n      var change = notify || notifySpy ? {\n        observableKind: \"map\",\n        debugObjectName: this.name_,\n        type: UPDATE,\n        object: this,\n        oldValue: observable.value_,\n        name: key,\n        newValue: newValue\n      } : null;\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportStart(change);\n      } // TODO fix type\n      observable.setNewValue_(newValue);\n      if (notify) {\n        notifyListeners(this, change);\n      }\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportEnd();\n      }\n    }\n  };\n  _proto.addValue_ = function addValue_(key, newValue) {\n    var _this4 = this;\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    transaction(function () {\n      var _this4$hasMap_$get;\n      var observable = new ObservableValue(newValue, _this4.enhancer_, process.env.NODE_ENV !== \"production\" ? _this4.name_ + \".\" + stringifyKey(key) : \"ObservableMap.key\", false);\n      _this4.data_.set(key, observable);\n      newValue = observable.value_; // value might have been changed\n      (_this4$hasMap_$get = _this4.hasMap_.get(key)) == null || _this4$hasMap_$get.setNewValue_(true);\n      _this4.keysAtom_.reportChanged();\n    });\n    var notifySpy = isSpyEnabled();\n    var notify = hasListeners(this);\n    var change = notify || notifySpy ? {\n      observableKind: \"map\",\n      debugObjectName: this.name_,\n      type: ADD,\n      object: this,\n      name: key,\n      newValue: newValue\n    } : null;\n    if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n      spyReportStart(change);\n    } // TODO fix type\n    if (notify) {\n      notifyListeners(this, change);\n    }\n    if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n      spyReportEnd();\n    }\n  };\n  _proto.get = function get(key) {\n    if (this.has(key)) {\n      return this.dehanceValue_(this.data_.get(key).get());\n    }\n    return this.dehanceValue_(undefined);\n  };\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== undefined) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.keys = function keys() {\n    this.keysAtom_.reportObserved();\n    return this.data_.keys();\n  };\n  _proto.values = function values() {\n    var self = this;\n    var keys = this.keys();\n    return makeIterableForMap({\n      next: function next() {\n        var _keys$next = keys.next(),\n          done = _keys$next.done,\n          value = _keys$next.value;\n        return {\n          done: done,\n          value: done ? undefined : self.get(value)\n        };\n      }\n    });\n  };\n  _proto.entries = function entries() {\n    var self = this;\n    var keys = this.keys();\n    return makeIterableForMap({\n      next: function next() {\n        var _keys$next2 = keys.next(),\n          done = _keys$next2.done,\n          value = _keys$next2.value;\n        return {\n          done: done,\n          value: done ? undefined : [value, self.get(value)]\n        };\n      }\n    });\n  };\n  _proto[Symbol.iterator] = function () {\n    return this.entries();\n  };\n  _proto.forEach = function forEach(callback, thisArg) {\n    for (var _iterator = _createForOfIteratorHelperLoose(this), _step; !(_step = _iterator()).done;) {\n      var _step$value = _step.value,\n        key = _step$value[0],\n        value = _step$value[1];\n      callback.call(thisArg, value, key, this);\n    }\n  }\n  /** Merge another object into this object, returns this. */;\n  _proto.merge = function merge(other) {\n    var _this5 = this;\n    if (isObservableMap(other)) {\n      other = new Map(other);\n    }\n    transaction(function () {\n      if (isPlainObject(other)) {\n        getPlainObjectKeys(other).forEach(function (key) {\n          return _this5.set(key, other[key]);\n        });\n      } else if (Array.isArray(other)) {\n        other.forEach(function (_ref) {\n          var key = _ref[0],\n            value = _ref[1];\n          return _this5.set(key, value);\n        });\n      } else if (isES6Map(other)) {\n        if (!isPlainES6Map(other)) {\n          die(19, other);\n        }\n        other.forEach(function (value, key) {\n          return _this5.set(key, value);\n        });\n      } else if (other !== null && other !== undefined) {\n        die(20, other);\n      }\n    });\n    return this;\n  };\n  _proto.clear = function clear() {\n    var _this6 = this;\n    transaction(function () {\n      untracked(function () {\n        for (var _iterator2 = _createForOfIteratorHelperLoose(_this6.keys()), _step2; !(_step2 = _iterator2()).done;) {\n          var key = _step2.value;\n          _this6[\"delete\"](key);\n        }\n      });\n    });\n  };\n  _proto.replace = function replace(values) {\n    var _this7 = this;\n    // Implementation requirements:\n    // - respect ordering of replacement map\n    // - allow interceptors to run and potentially prevent individual operations\n    // - don't recreate observables that already exist in original map (so we don't destroy existing subscriptions)\n    // - don't _keysAtom.reportChanged if the keys of resulting map are indentical (order matters!)\n    // - note that result map may differ from replacement map due to the interceptors\n    transaction(function () {\n      // Convert to map so we can do quick key lookups\n      var replacementMap = convertToMap(values);\n      var orderedData = new Map();\n      // Used for optimization\n      var keysReportChangedCalled = false;\n      // Delete keys that don't exist in replacement map\n      // if the key deletion is prevented by interceptor\n      // add entry at the beginning of the result map\n      for (var _iterator3 = _createForOfIteratorHelperLoose(_this7.data_.keys()), _step3; !(_step3 = _iterator3()).done;) {\n        var key = _step3.value;\n        // Concurrently iterating/deleting keys\n        // iterator should handle this correctly\n        if (!replacementMap.has(key)) {\n          var deleted = _this7[\"delete\"](key);\n          // Was the key removed?\n          if (deleted) {\n            // _keysAtom.reportChanged() was already called\n            keysReportChangedCalled = true;\n          } else {\n            // Delete prevented by interceptor\n            var value = _this7.data_.get(key);\n            orderedData.set(key, value);\n          }\n        }\n      }\n      // Merge entries\n      for (var _iterator4 = _createForOfIteratorHelperLoose(replacementMap.entries()), _step4; !(_step4 = _iterator4()).done;) {\n        var _step4$value = _step4.value,\n          _key = _step4$value[0],\n          _value = _step4$value[1];\n        // We will want to know whether a new key is added\n        var keyExisted = _this7.data_.has(_key);\n        // Add or update value\n        _this7.set(_key, _value);\n        // The addition could have been prevent by interceptor\n        if (_this7.data_.has(_key)) {\n          // The update could have been prevented by interceptor\n          // and also we want to preserve existing values\n          // so use value from _data map (instead of replacement map)\n          var _value2 = _this7.data_.get(_key);\n          orderedData.set(_key, _value2);\n          // Was a new key added?\n          if (!keyExisted) {\n            // _keysAtom.reportChanged() was already called\n            keysReportChangedCalled = true;\n          }\n        }\n      }\n      // Check for possible key order change\n      if (!keysReportChangedCalled) {\n        if (_this7.data_.size !== orderedData.size) {\n          // If size differs, keys are definitely modified\n          _this7.keysAtom_.reportChanged();\n        } else {\n          var iter1 = _this7.data_.keys();\n          var iter2 = orderedData.keys();\n          var next1 = iter1.next();\n          var next2 = iter2.next();\n          while (!next1.done) {\n            if (next1.value !== next2.value) {\n              _this7.keysAtom_.reportChanged();\n              break;\n            }\n            next1 = iter1.next();\n            next2 = iter2.next();\n          }\n        }\n      }\n      // Use correctly ordered map\n      _this7.data_ = orderedData;\n    });\n    return this;\n  };\n  _proto.toString = function toString() {\n    return \"[object ObservableMap]\";\n  };\n  _proto.toJSON = function toJSON() {\n    return Array.from(this);\n  };\n  /**\n   * Observes this object. Triggers for the events 'add', 'update' and 'delete'.\n   * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\n   * for callback details\n   */\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    if (process.env.NODE_ENV !== \"production\" && fireImmediately === true) {\n      die(\"`observe` doesn't support fireImmediately=true in combination with maps.\");\n    }\n    return registerListener(this, listener);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  return _createClass(ObservableMap, [{\n    key: \"size\",\n    get: function get() {\n      this.keysAtom_.reportObserved();\n      return this.data_.size;\n    }\n  }, {\n    key: Symbol.toStringTag,\n    get: function get() {\n      return \"Map\";\n    }\n  }]);\n}();\n// eslint-disable-next-line\nvar isObservableMap = /*#__PURE__*/createInstanceofPredicate(\"ObservableMap\", ObservableMap);\nfunction makeIterableForMap(iterator) {\n  iterator[Symbol.toStringTag] = \"MapIterator\";\n  return makeIterable(iterator);\n}\nfunction convertToMap(dataStructure) {\n  if (isES6Map(dataStructure) || isObservableMap(dataStructure)) {\n    return dataStructure;\n  } else if (Array.isArray(dataStructure)) {\n    return new Map(dataStructure);\n  } else if (isPlainObject(dataStructure)) {\n    var map = new Map();\n    for (var key in dataStructure) {\n      map.set(key, dataStructure[key]);\n    }\n    return map;\n  } else {\n    return die(21, dataStructure);\n  }\n}\n\nvar ObservableSetMarker = {};\nvar ObservableSet = /*#__PURE__*/function () {\n  function ObservableSet(initialData, enhancer, name_) {\n    var _this = this;\n    if (enhancer === void 0) {\n      enhancer = deepEnhancer;\n    }\n    if (name_ === void 0) {\n      name_ = process.env.NODE_ENV !== \"production\" ? \"ObservableSet@\" + getNextId() : \"ObservableSet\";\n    }\n    this.name_ = void 0;\n    this[$mobx] = ObservableSetMarker;\n    this.data_ = new Set();\n    this.atom_ = void 0;\n    this.changeListeners_ = void 0;\n    this.interceptors_ = void 0;\n    this.dehancer = void 0;\n    this.enhancer_ = void 0;\n    this.name_ = name_;\n    if (!isFunction(Set)) {\n      die(22);\n    }\n    this.enhancer_ = function (newV, oldV) {\n      return enhancer(newV, oldV, name_);\n    };\n    initObservable(function () {\n      _this.atom_ = createAtom(_this.name_);\n      if (initialData) {\n        _this.replace(initialData);\n      }\n    });\n  }\n  var _proto = ObservableSet.prototype;\n  _proto.dehanceValue_ = function dehanceValue_(value) {\n    if (this.dehancer !== undefined) {\n      return this.dehancer(value);\n    }\n    return value;\n  };\n  _proto.clear = function clear() {\n    var _this2 = this;\n    transaction(function () {\n      untracked(function () {\n        for (var _iterator = _createForOfIteratorHelperLoose(_this2.data_.values()), _step; !(_step = _iterator()).done;) {\n          var value = _step.value;\n          _this2[\"delete\"](value);\n        }\n      });\n    });\n  };\n  _proto.forEach = function forEach(callbackFn, thisArg) {\n    for (var _iterator2 = _createForOfIteratorHelperLoose(this), _step2; !(_step2 = _iterator2()).done;) {\n      var value = _step2.value;\n      callbackFn.call(thisArg, value, value, this);\n    }\n  };\n  _proto.add = function add(value) {\n    var _this3 = this;\n    checkIfStateModificationsAreAllowed(this.atom_);\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: ADD,\n        object: this,\n        newValue: value\n      });\n      if (!change) {\n        return this;\n      }\n      // ideally, value = change.value would be done here, so that values can be\n      // changed by interceptor. Same applies for other Set and Map api's.\n    }\n    if (!this.has(value)) {\n      transaction(function () {\n        _this3.data_.add(_this3.enhancer_(value, undefined));\n        _this3.atom_.reportChanged();\n      });\n      var notifySpy = process.env.NODE_ENV !== \"production\" && isSpyEnabled();\n      var notify = hasListeners(this);\n      var _change = notify || notifySpy ? {\n        observableKind: \"set\",\n        debugObjectName: this.name_,\n        type: ADD,\n        object: this,\n        newValue: value\n      } : null;\n      if (notifySpy && process.env.NODE_ENV !== \"production\") {\n        spyReportStart(_change);\n      }\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (notifySpy && process.env.NODE_ENV !== \"production\") {\n        spyReportEnd();\n      }\n    }\n    return this;\n  };\n  _proto[\"delete\"] = function _delete(value) {\n    var _this4 = this;\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: DELETE,\n        object: this,\n        oldValue: value\n      });\n      if (!change) {\n        return false;\n      }\n    }\n    if (this.has(value)) {\n      var notifySpy = process.env.NODE_ENV !== \"production\" && isSpyEnabled();\n      var notify = hasListeners(this);\n      var _change2 = notify || notifySpy ? {\n        observableKind: \"set\",\n        debugObjectName: this.name_,\n        type: DELETE,\n        object: this,\n        oldValue: value\n      } : null;\n      if (notifySpy && process.env.NODE_ENV !== \"production\") {\n        spyReportStart(_change2);\n      }\n      transaction(function () {\n        _this4.atom_.reportChanged();\n        _this4.data_[\"delete\"](value);\n      });\n      if (notify) {\n        notifyListeners(this, _change2);\n      }\n      if (notifySpy && process.env.NODE_ENV !== \"production\") {\n        spyReportEnd();\n      }\n      return true;\n    }\n    return false;\n  };\n  _proto.has = function has(value) {\n    this.atom_.reportObserved();\n    return this.data_.has(this.dehanceValue_(value));\n  };\n  _proto.entries = function entries() {\n    var nextIndex = 0;\n    var keys = Array.from(this.keys());\n    var values = Array.from(this.values());\n    return makeIterableForSet({\n      next: function next() {\n        var index = nextIndex;\n        nextIndex += 1;\n        return index < values.length ? {\n          value: [keys[index], values[index]],\n          done: false\n        } : {\n          value: undefined,\n          done: true\n        };\n      }\n    });\n  };\n  _proto.keys = function keys() {\n    return this.values();\n  };\n  _proto.values = function values() {\n    this.atom_.reportObserved();\n    var self = this;\n    var nextIndex = 0;\n    var observableValues = Array.from(this.data_.values());\n    return makeIterableForSet({\n      next: function next() {\n        return nextIndex < observableValues.length ? {\n          value: self.dehanceValue_(observableValues[nextIndex++]),\n          done: false\n        } : {\n          value: undefined,\n          done: true\n        };\n      }\n    });\n  };\n  _proto.intersection = function intersection(otherSet) {\n    if (isES6Set(otherSet) && !isObservableSet(otherSet)) {\n      return otherSet.intersection(this);\n    } else {\n      var dehancedSet = new Set(this);\n      return dehancedSet.intersection(otherSet);\n    }\n  };\n  _proto.union = function union(otherSet) {\n    if (isES6Set(otherSet) && !isObservableSet(otherSet)) {\n      return otherSet.union(this);\n    } else {\n      var dehancedSet = new Set(this);\n      return dehancedSet.union(otherSet);\n    }\n  };\n  _proto.difference = function difference(otherSet) {\n    return new Set(this).difference(otherSet);\n  };\n  _proto.symmetricDifference = function symmetricDifference(otherSet) {\n    if (isES6Set(otherSet) && !isObservableSet(otherSet)) {\n      return otherSet.symmetricDifference(this);\n    } else {\n      var dehancedSet = new Set(this);\n      return dehancedSet.symmetricDifference(otherSet);\n    }\n  };\n  _proto.isSubsetOf = function isSubsetOf(otherSet) {\n    return new Set(this).isSubsetOf(otherSet);\n  };\n  _proto.isSupersetOf = function isSupersetOf(otherSet) {\n    return new Set(this).isSupersetOf(otherSet);\n  };\n  _proto.isDisjointFrom = function isDisjointFrom(otherSet) {\n    if (isES6Set(otherSet) && !isObservableSet(otherSet)) {\n      return otherSet.isDisjointFrom(this);\n    } else {\n      var dehancedSet = new Set(this);\n      return dehancedSet.isDisjointFrom(otherSet);\n    }\n  };\n  _proto.replace = function replace(other) {\n    var _this5 = this;\n    if (isObservableSet(other)) {\n      other = new Set(other);\n    }\n    transaction(function () {\n      if (Array.isArray(other)) {\n        _this5.clear();\n        other.forEach(function (value) {\n          return _this5.add(value);\n        });\n      } else if (isES6Set(other)) {\n        _this5.clear();\n        other.forEach(function (value) {\n          return _this5.add(value);\n        });\n      } else if (other !== null && other !== undefined) {\n        die(\"Cannot initialize set from \" + other);\n      }\n    });\n    return this;\n  };\n  _proto.observe_ = function observe_(listener, fireImmediately) {\n    // ... 'fireImmediately' could also be true?\n    if (process.env.NODE_ENV !== \"production\" && fireImmediately === true) {\n      die(\"`observe` doesn't support fireImmediately=true in combination with sets.\");\n    }\n    return registerListener(this, listener);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.toJSON = function toJSON() {\n    return Array.from(this);\n  };\n  _proto.toString = function toString() {\n    return \"[object ObservableSet]\";\n  };\n  _proto[Symbol.iterator] = function () {\n    return this.values();\n  };\n  return _createClass(ObservableSet, [{\n    key: \"size\",\n    get: function get() {\n      this.atom_.reportObserved();\n      return this.data_.size;\n    }\n  }, {\n    key: Symbol.toStringTag,\n    get: function get() {\n      return \"Set\";\n    }\n  }]);\n}();\n// eslint-disable-next-line\nvar isObservableSet = /*#__PURE__*/createInstanceofPredicate(\"ObservableSet\", ObservableSet);\nfunction makeIterableForSet(iterator) {\n  iterator[Symbol.toStringTag] = \"SetIterator\";\n  return makeIterable(iterator);\n}\n\nvar descriptorCache = /*#__PURE__*/Object.create(null);\nvar REMOVE = \"remove\";\nvar ObservableObjectAdministration = /*#__PURE__*/function () {\n  function ObservableObjectAdministration(target_, values_, name_,\n  // Used anytime annotation is not explicitely provided\n  defaultAnnotation_) {\n    if (values_ === void 0) {\n      values_ = new Map();\n    }\n    if (defaultAnnotation_ === void 0) {\n      defaultAnnotation_ = autoAnnotation;\n    }\n    this.target_ = void 0;\n    this.values_ = void 0;\n    this.name_ = void 0;\n    this.defaultAnnotation_ = void 0;\n    this.keysAtom_ = void 0;\n    this.changeListeners_ = void 0;\n    this.interceptors_ = void 0;\n    this.proxy_ = void 0;\n    this.isPlainObject_ = void 0;\n    this.appliedAnnotations_ = void 0;\n    this.pendingKeys_ = void 0;\n    this.target_ = target_;\n    this.values_ = values_;\n    this.name_ = name_;\n    this.defaultAnnotation_ = defaultAnnotation_;\n    this.keysAtom_ = new Atom(process.env.NODE_ENV !== \"production\" ? this.name_ + \".keys\" : \"ObservableObject.keys\");\n    // Optimization: we use this frequently\n    this.isPlainObject_ = isPlainObject(this.target_);\n    if (process.env.NODE_ENV !== \"production\" && !isAnnotation(this.defaultAnnotation_)) {\n      die(\"defaultAnnotation must be valid annotation\");\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      // Prepare structure for tracking which fields were already annotated\n      this.appliedAnnotations_ = {};\n    }\n  }\n  var _proto = ObservableObjectAdministration.prototype;\n  _proto.getObservablePropValue_ = function getObservablePropValue_(key) {\n    return this.values_.get(key).get();\n  };\n  _proto.setObservablePropValue_ = function setObservablePropValue_(key, newValue) {\n    var observable = this.values_.get(key);\n    if (observable instanceof ComputedValue) {\n      observable.set(newValue);\n      return true;\n    }\n    // intercept\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        type: UPDATE,\n        object: this.proxy_ || this.target_,\n        name: key,\n        newValue: newValue\n      });\n      if (!change) {\n        return null;\n      }\n      newValue = change.newValue;\n    }\n    newValue = observable.prepareNewValue_(newValue);\n    // notify spy & observers\n    if (newValue !== globalState.UNCHANGED) {\n      var notify = hasListeners(this);\n      var notifySpy = process.env.NODE_ENV !== \"production\" && isSpyEnabled();\n      var _change = notify || notifySpy ? {\n        type: UPDATE,\n        observableKind: \"object\",\n        debugObjectName: this.name_,\n        object: this.proxy_ || this.target_,\n        oldValue: observable.value_,\n        name: key,\n        newValue: newValue\n      } : null;\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportStart(_change);\n      }\n      observable.setNewValue_(newValue);\n      if (notify) {\n        notifyListeners(this, _change);\n      }\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportEnd();\n      }\n    }\n    return true;\n  };\n  _proto.get_ = function get_(key) {\n    if (globalState.trackingDerivation && !hasProp(this.target_, key)) {\n      // Key doesn't exist yet, subscribe for it in case it's added later\n      this.has_(key);\n    }\n    return this.target_[key];\n  }\n  /**\n   * @param {PropertyKey} key\n   * @param {any} value\n   * @param {Annotation|boolean} annotation true - use default annotation, false - copy as is\n   * @param {boolean} proxyTrap whether it's called from proxy trap\n   * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor\n   */;\n  _proto.set_ = function set_(key, value, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    // Don't use .has(key) - we care about own\n    if (hasProp(this.target_, key)) {\n      // Existing prop\n      if (this.values_.has(key)) {\n        // Observable (can be intercepted)\n        return this.setObservablePropValue_(key, value);\n      } else if (proxyTrap) {\n        // Non-observable - proxy\n        return Reflect.set(this.target_, key, value);\n      } else {\n        // Non-observable\n        this.target_[key] = value;\n        return true;\n      }\n    } else {\n      // New prop\n      return this.extend_(key, {\n        value: value,\n        enumerable: true,\n        writable: true,\n        configurable: true\n      }, this.defaultAnnotation_, proxyTrap);\n    }\n  }\n  // Trap for \"in\"\n  ;\n  _proto.has_ = function has_(key) {\n    if (!globalState.trackingDerivation) {\n      // Skip key subscription outside derivation\n      return key in this.target_;\n    }\n    this.pendingKeys_ || (this.pendingKeys_ = new Map());\n    var entry = this.pendingKeys_.get(key);\n    if (!entry) {\n      entry = new ObservableValue(key in this.target_, referenceEnhancer, process.env.NODE_ENV !== \"production\" ? this.name_ + \".\" + stringifyKey(key) + \"?\" : \"ObservableObject.key?\", false);\n      this.pendingKeys_.set(key, entry);\n    }\n    return entry.get();\n  }\n  /**\n   * @param {PropertyKey} key\n   * @param {Annotation|boolean} annotation true - use default annotation, false - ignore prop\n   */;\n  _proto.make_ = function make_(key, annotation) {\n    if (annotation === true) {\n      annotation = this.defaultAnnotation_;\n    }\n    if (annotation === false) {\n      return;\n    }\n    assertAnnotable(this, annotation, key);\n    if (!(key in this.target_)) {\n      var _this$target_$storedA;\n      // Throw on missing key, except for decorators:\n      // Decorator annotations are collected from whole prototype chain.\n      // When called from super() some props may not exist yet.\n      // However we don't have to worry about missing prop,\n      // because the decorator must have been applied to something.\n      if ((_this$target_$storedA = this.target_[storedAnnotationsSymbol]) != null && _this$target_$storedA[key]) {\n        return; // will be annotated by subclass constructor\n      } else {\n        die(1, annotation.annotationType_, this.name_ + \".\" + key.toString());\n      }\n    }\n    var source = this.target_;\n    while (source && source !== objectPrototype) {\n      var descriptor = getDescriptor(source, key);\n      if (descriptor) {\n        var outcome = annotation.make_(this, key, descriptor, source);\n        if (outcome === 0 /* MakeResult.Cancel */) {\n          return;\n        }\n        if (outcome === 1 /* MakeResult.Break */) {\n          break;\n        }\n      }\n      source = Object.getPrototypeOf(source);\n    }\n    recordAnnotationApplied(this, annotation, key);\n  }\n  /**\n   * @param {PropertyKey} key\n   * @param {PropertyDescriptor} descriptor\n   * @param {Annotation|boolean} annotation true - use default annotation, false - copy as is\n   * @param {boolean} proxyTrap whether it's called from proxy trap\n   * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor\n   */;\n  _proto.extend_ = function extend_(key, descriptor, annotation, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    if (annotation === true) {\n      annotation = this.defaultAnnotation_;\n    }\n    if (annotation === false) {\n      return this.defineProperty_(key, descriptor, proxyTrap);\n    }\n    assertAnnotable(this, annotation, key);\n    var outcome = annotation.extend_(this, key, descriptor, proxyTrap);\n    if (outcome) {\n      recordAnnotationApplied(this, annotation, key);\n    }\n    return outcome;\n  }\n  /**\n   * @param {PropertyKey} key\n   * @param {PropertyDescriptor} descriptor\n   * @param {boolean} proxyTrap whether it's called from proxy trap\n   * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor\n   */;\n  _proto.defineProperty_ = function defineProperty_(key, descriptor, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    try {\n      startBatch();\n      // Delete\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        // Failure or intercepted\n        return deleteOutcome;\n      }\n      // ADD interceptor\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: descriptor.value\n        });\n        if (!change) {\n          return null;\n        }\n        var newValue = change.newValue;\n        if (descriptor.value !== newValue) {\n          descriptor = _extends({}, descriptor, {\n            value: newValue\n          });\n        }\n      }\n      // Define\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      // Notify\n      this.notifyPropertyAddition_(key, descriptor.value);\n    } finally {\n      endBatch();\n    }\n    return true;\n  }\n  // If original descriptor becomes relevant, move this to annotation directly\n  ;\n  _proto.defineObservableProperty_ = function defineObservableProperty_(key, value, enhancer, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    try {\n      startBatch();\n      // Delete\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        // Failure or intercepted\n        return deleteOutcome;\n      }\n      // ADD interceptor\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: value\n        });\n        if (!change) {\n          return null;\n        }\n        value = change.newValue;\n      }\n      var cachedDescriptor = getCachedObservablePropDescriptor(key);\n      var descriptor = {\n        configurable: globalState.safeDescriptors ? this.isPlainObject_ : true,\n        enumerable: true,\n        get: cachedDescriptor.get,\n        set: cachedDescriptor.set\n      };\n      // Define\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      var observable = new ObservableValue(value, enhancer, process.env.NODE_ENV !== \"production\" ? this.name_ + \".\" + key.toString() : \"ObservableObject.key\", false);\n      this.values_.set(key, observable);\n      // Notify (value possibly changed by ObservableValue)\n      this.notifyPropertyAddition_(key, observable.value_);\n    } finally {\n      endBatch();\n    }\n    return true;\n  }\n  // If original descriptor becomes relevant, move this to annotation directly\n  ;\n  _proto.defineComputedProperty_ = function defineComputedProperty_(key, options, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    try {\n      startBatch();\n      // Delete\n      var deleteOutcome = this.delete_(key);\n      if (!deleteOutcome) {\n        // Failure or intercepted\n        return deleteOutcome;\n      }\n      // ADD interceptor\n      if (hasInterceptors(this)) {\n        var change = interceptChange(this, {\n          object: this.proxy_ || this.target_,\n          name: key,\n          type: ADD,\n          newValue: undefined\n        });\n        if (!change) {\n          return null;\n        }\n      }\n      options.name || (options.name = process.env.NODE_ENV !== \"production\" ? this.name_ + \".\" + key.toString() : \"ObservableObject.key\");\n      options.context = this.proxy_ || this.target_;\n      var cachedDescriptor = getCachedObservablePropDescriptor(key);\n      var descriptor = {\n        configurable: globalState.safeDescriptors ? this.isPlainObject_ : true,\n        enumerable: false,\n        get: cachedDescriptor.get,\n        set: cachedDescriptor.set\n      };\n      // Define\n      if (proxyTrap) {\n        if (!Reflect.defineProperty(this.target_, key, descriptor)) {\n          return false;\n        }\n      } else {\n        defineProperty(this.target_, key, descriptor);\n      }\n      this.values_.set(key, new ComputedValue(options));\n      // Notify\n      this.notifyPropertyAddition_(key, undefined);\n    } finally {\n      endBatch();\n    }\n    return true;\n  }\n  /**\n   * @param {PropertyKey} key\n   * @param {PropertyDescriptor} descriptor\n   * @param {boolean} proxyTrap whether it's called from proxy trap\n   * @returns {boolean|null} true on success, false on failure (proxyTrap + non-configurable), null when cancelled by interceptor\n   */;\n  _proto.delete_ = function delete_(key, proxyTrap) {\n    if (proxyTrap === void 0) {\n      proxyTrap = false;\n    }\n    checkIfStateModificationsAreAllowed(this.keysAtom_);\n    // No such prop\n    if (!hasProp(this.target_, key)) {\n      return true;\n    }\n    // Intercept\n    if (hasInterceptors(this)) {\n      var change = interceptChange(this, {\n        object: this.proxy_ || this.target_,\n        name: key,\n        type: REMOVE\n      });\n      // Cancelled\n      if (!change) {\n        return null;\n      }\n    }\n    // Delete\n    try {\n      var _this$pendingKeys_;\n      startBatch();\n      var notify = hasListeners(this);\n      var notifySpy = process.env.NODE_ENV !== \"production\" && isSpyEnabled();\n      var observable = this.values_.get(key);\n      // Value needed for spies/listeners\n      var value = undefined;\n      // Optimization: don't pull the value unless we will need it\n      if (!observable && (notify || notifySpy)) {\n        var _getDescriptor;\n        value = (_getDescriptor = getDescriptor(this.target_, key)) == null ? void 0 : _getDescriptor.value;\n      }\n      // delete prop (do first, may fail)\n      if (proxyTrap) {\n        if (!Reflect.deleteProperty(this.target_, key)) {\n          return false;\n        }\n      } else {\n        delete this.target_[key];\n      }\n      // Allow re-annotating this field\n      if (process.env.NODE_ENV !== \"production\") {\n        delete this.appliedAnnotations_[key];\n      }\n      // Clear observable\n      if (observable) {\n        this.values_[\"delete\"](key);\n        // for computed, value is undefined\n        if (observable instanceof ObservableValue) {\n          value = observable.value_;\n        }\n        // Notify: autorun(() => obj[key]), see #1796\n        propagateChanged(observable);\n      }\n      // Notify \"keys/entries/values\" observers\n      this.keysAtom_.reportChanged();\n      // Notify \"has\" observers\n      // \"in\" as it may still exist in proto\n      (_this$pendingKeys_ = this.pendingKeys_) == null || (_this$pendingKeys_ = _this$pendingKeys_.get(key)) == null || _this$pendingKeys_.set(key in this.target_);\n      // Notify spies/listeners\n      if (notify || notifySpy) {\n        var _change2 = {\n          type: REMOVE,\n          observableKind: \"object\",\n          object: this.proxy_ || this.target_,\n          debugObjectName: this.name_,\n          oldValue: value,\n          name: key\n        };\n        if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n          spyReportStart(_change2);\n        }\n        if (notify) {\n          notifyListeners(this, _change2);\n        }\n        if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n          spyReportEnd();\n        }\n      }\n    } finally {\n      endBatch();\n    }\n    return true;\n  }\n  /**\n   * Observes this object. Triggers for the events 'add', 'update' and 'delete'.\n   * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\n   * for callback details\n   */;\n  _proto.observe_ = function observe_(callback, fireImmediately) {\n    if (process.env.NODE_ENV !== \"production\" && fireImmediately === true) {\n      die(\"`observe` doesn't support the fire immediately property for observable objects.\");\n    }\n    return registerListener(this, callback);\n  };\n  _proto.intercept_ = function intercept_(handler) {\n    return registerInterceptor(this, handler);\n  };\n  _proto.notifyPropertyAddition_ = function notifyPropertyAddition_(key, value) {\n    var _this$pendingKeys_2;\n    var notify = hasListeners(this);\n    var notifySpy = process.env.NODE_ENV !== \"production\" && isSpyEnabled();\n    if (notify || notifySpy) {\n      var change = notify || notifySpy ? {\n        type: ADD,\n        observableKind: \"object\",\n        debugObjectName: this.name_,\n        object: this.proxy_ || this.target_,\n        name: key,\n        newValue: value\n      } : null;\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportStart(change);\n      }\n      if (notify) {\n        notifyListeners(this, change);\n      }\n      if (process.env.NODE_ENV !== \"production\" && notifySpy) {\n        spyReportEnd();\n      }\n    }\n    (_this$pendingKeys_2 = this.pendingKeys_) == null || (_this$pendingKeys_2 = _this$pendingKeys_2.get(key)) == null || _this$pendingKeys_2.set(true);\n    // Notify \"keys/entries/values\" observers\n    this.keysAtom_.reportChanged();\n  };\n  _proto.ownKeys_ = function ownKeys_() {\n    this.keysAtom_.reportObserved();\n    return ownKeys(this.target_);\n  };\n  _proto.keys_ = function keys_() {\n    // Returns enumerable && own, but unfortunately keysAtom will report on ANY key change.\n    // There is no way to distinguish between Object.keys(object) and Reflect.ownKeys(object) - both are handled by ownKeys trap.\n    // We can either over-report in Object.keys(object) or under-report in Reflect.ownKeys(object)\n    // We choose to over-report in Object.keys(object), because:\n    // - typically it's used with simple data objects\n    // - when symbolic/non-enumerable keys are relevant Reflect.ownKeys works as expected\n    this.keysAtom_.reportObserved();\n    return Object.keys(this.target_);\n  };\n  return ObservableObjectAdministration;\n}();\nfunction asObservableObject(target, options) {\n  var _options$name;\n  if (process.env.NODE_ENV !== \"production\" && options && isObservableObject(target)) {\n    die(\"Options can't be provided for already observable objects.\");\n  }\n  if (hasProp(target, $mobx)) {\n    if (process.env.NODE_ENV !== \"production\" && !(getAdministration(target) instanceof ObservableObjectAdministration)) {\n      die(\"Cannot convert '\" + getDebugName(target) + \"' into observable object:\" + \"\\nThe target is already observable of different type.\" + \"\\nExtending builtins is not supported.\");\n    }\n    return target;\n  }\n  if (process.env.NODE_ENV !== \"production\" && !Object.isExtensible(target)) {\n    die(\"Cannot make the designated object observable; it is not extensible\");\n  }\n  var name = (_options$name = options == null ? void 0 : options.name) != null ? _options$name : process.env.NODE_ENV !== \"production\" ? (isPlainObject(target) ? \"ObservableObject\" : target.constructor.name) + \"@\" + getNextId() : \"ObservableObject\";\n  var adm = new ObservableObjectAdministration(target, new Map(), String(name), getAnnotationFromOptions(options));\n  addHiddenProp(target, $mobx, adm);\n  return target;\n}\nvar isObservableObjectAdministration = /*#__PURE__*/createInstanceofPredicate(\"ObservableObjectAdministration\", ObservableObjectAdministration);\nfunction getCachedObservablePropDescriptor(key) {\n  return descriptorCache[key] || (descriptorCache[key] = {\n    get: function get() {\n      return this[$mobx].getObservablePropValue_(key);\n    },\n    set: function set(value) {\n      return this[$mobx].setObservablePropValue_(key, value);\n    }\n  });\n}\nfunction isObservableObject(thing) {\n  if (isObject(thing)) {\n    return isObservableObjectAdministration(thing[$mobx]);\n  }\n  return false;\n}\nfunction recordAnnotationApplied(adm, annotation, key) {\n  var _adm$target_$storedAn;\n  if (process.env.NODE_ENV !== \"production\") {\n    adm.appliedAnnotations_[key] = annotation;\n  }\n  // Remove applied decorator annotation so we don't try to apply it again in subclass constructor\n  (_adm$target_$storedAn = adm.target_[storedAnnotationsSymbol]) == null || delete _adm$target_$storedAn[key];\n}\nfunction assertAnnotable(adm, annotation, key) {\n  // Valid annotation\n  if (process.env.NODE_ENV !== \"production\" && !isAnnotation(annotation)) {\n    die(\"Cannot annotate '\" + adm.name_ + \".\" + key.toString() + \"': Invalid annotation.\");\n  }\n  /*\n  // Configurable, not sealed, not frozen\n  // Possibly not needed, just a little better error then the one thrown by engine.\n  // Cases where this would be useful the most (subclass field initializer) are not interceptable by this.\n  if (__DEV__) {\n      const configurable = getDescriptor(adm.target_, key)?.configurable\n      const frozen = Object.isFrozen(adm.target_)\n      const sealed = Object.isSealed(adm.target_)\n      if (!configurable || frozen || sealed) {\n          const fieldName = `${adm.name_}.${key.toString()}`\n          const requestedAnnotationType = annotation.annotationType_\n          let error = `Cannot apply '${requestedAnnotationType}' to '${fieldName}':`\n          if (frozen) {\n              error += `\\nObject is frozen.`\n          }\n          if (sealed) {\n              error += `\\nObject is sealed.`\n          }\n          if (!configurable) {\n              error += `\\nproperty is not configurable.`\n              // Mention only if caused by us to avoid confusion\n              if (hasProp(adm.appliedAnnotations!, key)) {\n                  error += `\\nTo prevent accidental re-definition of a field by a subclass, `\n                  error += `all annotated fields of non-plain objects (classes) are not configurable.`\n              }\n          }\n          die(error)\n      }\n  }\n  */\n  // Not annotated\n  if (process.env.NODE_ENV !== \"production\" && !isOverride(annotation) && hasProp(adm.appliedAnnotations_, key)) {\n    var fieldName = adm.name_ + \".\" + key.toString();\n    var currentAnnotationType = adm.appliedAnnotations_[key].annotationType_;\n    var requestedAnnotationType = annotation.annotationType_;\n    die(\"Cannot apply '\" + requestedAnnotationType + \"' to '\" + fieldName + \"':\" + (\"\\nThe field is already annotated with '\" + currentAnnotationType + \"'.\") + \"\\nRe-annotating fields is not allowed.\" + \"\\nUse 'override' annotation for methods overridden by subclass.\");\n  }\n}\n\n// Bug in safari 9.* (or iOS 9 safari mobile). See #364\nvar ENTRY_0 = /*#__PURE__*/createArrayEntryDescriptor(0);\nvar safariPrototypeSetterInheritanceBug = /*#__PURE__*/function () {\n  var v = false;\n  var p = {};\n  Object.defineProperty(p, \"0\", {\n    set: function set() {\n      v = true;\n    }\n  });\n  /*#__PURE__*/Object.create(p)[\"0\"] = 1;\n  return v === false;\n}();\n/**\n * This array buffer contains two lists of properties, so that all arrays\n * can recycle their property definitions, which significantly improves performance of creating\n * properties on the fly.\n */\nvar OBSERVABLE_ARRAY_BUFFER_SIZE = 0;\n// Typescript workaround to make sure ObservableArray extends Array\nvar StubArray = function StubArray() {};\nfunction inherit(ctor, proto) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ctor.prototype, proto);\n  } else if (ctor.prototype.__proto__ !== undefined) {\n    ctor.prototype.__proto__ = proto;\n  } else {\n    ctor.prototype = proto;\n  }\n}\ninherit(StubArray, Array.prototype);\n// Weex proto freeze protection was here,\n// but it is unclear why the hack is need as MobX never changed the prototype\n// anyway, so removed it in V6\nvar LegacyObservableArray = /*#__PURE__*/function (_StubArray) {\n  function LegacyObservableArray(initialValues, enhancer, name, owned) {\n    var _this;\n    if (name === void 0) {\n      name = process.env.NODE_ENV !== \"production\" ? \"ObservableArray@\" + getNextId() : \"ObservableArray\";\n    }\n    if (owned === void 0) {\n      owned = false;\n    }\n    _this = _StubArray.call(this) || this;\n    initObservable(function () {\n      var adm = new ObservableArrayAdministration(name, enhancer, owned, true);\n      adm.proxy_ = _this;\n      addHiddenFinalProp(_this, $mobx, adm);\n      if (initialValues && initialValues.length) {\n        // @ts-ignore\n        _this.spliceWithArray(0, 0, initialValues);\n      }\n      if (safariPrototypeSetterInheritanceBug) {\n        // Seems that Safari won't use numeric prototype setter until any * numeric property is\n        // defined on the instance. After that it works fine, even if this property is deleted.\n        Object.defineProperty(_this, \"0\", ENTRY_0);\n      }\n    });\n    return _this;\n  }\n  _inheritsLoose(LegacyObservableArray, _StubArray);\n  var _proto = LegacyObservableArray.prototype;\n  _proto.concat = function concat() {\n    this[$mobx].atom_.reportObserved();\n    for (var _len = arguments.length, arrays = new Array(_len), _key = 0; _key < _len; _key++) {\n      arrays[_key] = arguments[_key];\n    }\n    return Array.prototype.concat.apply(this.slice(),\n    //@ts-ignore\n    arrays.map(function (a) {\n      return isObservableArray(a) ? a.slice() : a;\n    }));\n  };\n  _proto[Symbol.iterator] = function () {\n    var self = this;\n    var nextIndex = 0;\n    return makeIterable({\n      next: function next() {\n        return nextIndex < self.length ? {\n          value: self[nextIndex++],\n          done: false\n        } : {\n          done: true,\n          value: undefined\n        };\n      }\n    });\n  };\n  return _createClass(LegacyObservableArray, [{\n    key: \"length\",\n    get: function get() {\n      return this[$mobx].getArrayLength_();\n    },\n    set: function set(newLength) {\n      this[$mobx].setArrayLength_(newLength);\n    }\n  }, {\n    key: Symbol.toStringTag,\n    get: function get() {\n      return \"Array\";\n    }\n  }]);\n}(StubArray);\nObject.entries(arrayExtensions).forEach(function (_ref) {\n  var prop = _ref[0],\n    fn = _ref[1];\n  if (prop !== \"concat\") {\n    addHiddenProp(LegacyObservableArray.prototype, prop, fn);\n  }\n});\nfunction createArrayEntryDescriptor(index) {\n  return {\n    enumerable: false,\n    configurable: true,\n    get: function get() {\n      return this[$mobx].get_(index);\n    },\n    set: function set(value) {\n      this[$mobx].set_(index, value);\n    }\n  };\n}\nfunction createArrayBufferItem(index) {\n  defineProperty(LegacyObservableArray.prototype, \"\" + index, createArrayEntryDescriptor(index));\n}\nfunction reserveArrayBuffer(max) {\n  if (max > OBSERVABLE_ARRAY_BUFFER_SIZE) {\n    for (var index = OBSERVABLE_ARRAY_BUFFER_SIZE; index < max + 100; index++) {\n      createArrayBufferItem(index);\n    }\n    OBSERVABLE_ARRAY_BUFFER_SIZE = max;\n  }\n}\nreserveArrayBuffer(1000);\nfunction createLegacyArray(initialValues, enhancer, name) {\n  return new LegacyObservableArray(initialValues, enhancer, name);\n}\n\nfunction getAtom(thing, property) {\n  if (typeof thing === \"object\" && thing !== null) {\n    if (isObservableArray(thing)) {\n      if (property !== undefined) {\n        die(23);\n      }\n      return thing[$mobx].atom_;\n    }\n    if (isObservableSet(thing)) {\n      return thing.atom_;\n    }\n    if (isObservableMap(thing)) {\n      if (property === undefined) {\n        return thing.keysAtom_;\n      }\n      var observable = thing.data_.get(property) || thing.hasMap_.get(property);\n      if (!observable) {\n        die(25, property, getDebugName(thing));\n      }\n      return observable;\n    }\n    if (isObservableObject(thing)) {\n      if (!property) {\n        return die(26);\n      }\n      var _observable = thing[$mobx].values_.get(property);\n      if (!_observable) {\n        die(27, property, getDebugName(thing));\n      }\n      return _observable;\n    }\n    if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n      return thing;\n    }\n  } else if (isFunction(thing)) {\n    if (isReaction(thing[$mobx])) {\n      // disposer function\n      return thing[$mobx];\n    }\n  }\n  die(28);\n}\nfunction getAdministration(thing, property) {\n  if (!thing) {\n    die(29);\n  }\n  if (property !== undefined) {\n    return getAdministration(getAtom(thing, property));\n  }\n  if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\n    return thing;\n  }\n  if (isObservableMap(thing) || isObservableSet(thing)) {\n    return thing;\n  }\n  if (thing[$mobx]) {\n    return thing[$mobx];\n  }\n  die(24, thing);\n}\nfunction getDebugName(thing, property) {\n  var named;\n  if (property !== undefined) {\n    named = getAtom(thing, property);\n  } else if (isAction(thing)) {\n    return thing.name;\n  } else if (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing)) {\n    named = getAdministration(thing);\n  } else {\n    // valid for arrays as well\n    named = getAtom(thing);\n  }\n  return named.name_;\n}\n/**\n * Helper function for initializing observable structures, it applies:\n * 1. allowStateChanges so we don't violate enforceActions.\n * 2. untracked so we don't accidentaly subscribe to anything observable accessed during init in case the observable is created inside derivation.\n * 3. batch to avoid state version updates\n */\nfunction initObservable(cb) {\n  var derivation = untrackedStart();\n  var allowStateChanges = allowStateChangesStart(true);\n  startBatch();\n  try {\n    return cb();\n  } finally {\n    endBatch();\n    allowStateChangesEnd(allowStateChanges);\n    untrackedEnd(derivation);\n  }\n}\n\nvar toString = objectPrototype.toString;\nfunction deepEqual(a, b, depth) {\n  if (depth === void 0) {\n    depth = -1;\n  }\n  return eq(a, b, depth);\n}\n// Copied from https://github.com/jashkenas/underscore/blob/5c237a7c682fb68fd5378203f0bf22dce1624854/underscore.js#L1186-L1289\n// Internal recursive comparison function for `isEqual`.\nfunction eq(a, b, depth, aStack, bStack) {\n  // Identical objects are equal. `0 === -0`, but they aren't identical.\n  // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n  if (a === b) {\n    return a !== 0 || 1 / a === 1 / b;\n  }\n  // `null` or `undefined` only equal to itself (strict comparison).\n  if (a == null || b == null) {\n    return false;\n  }\n  // `NaN`s are equivalent, but non-reflexive.\n  if (a !== a) {\n    return b !== b;\n  }\n  // Exhaust primitive checks\n  var type = typeof a;\n  if (type !== \"function\" && type !== \"object\" && typeof b != \"object\") {\n    return false;\n  }\n  // Compare `[[Class]]` names.\n  var className = toString.call(a);\n  if (className !== toString.call(b)) {\n    return false;\n  }\n  switch (className) {\n    // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n    case \"[object RegExp]\":\n    // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n    case \"[object String]\":\n      // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n      // equivalent to `new String(\"5\")`.\n      return \"\" + a === \"\" + b;\n    case \"[object Number]\":\n      // `NaN`s are equivalent, but non-reflexive.\n      // Object(NaN) is equivalent to NaN.\n      if (+a !== +a) {\n        return +b !== +b;\n      }\n      // An `egal` comparison is performed for other numeric values.\n      return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n    case \"[object Date]\":\n    case \"[object Boolean]\":\n      // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n      // millisecond representations. Note that invalid dates with millisecond representations\n      // of `NaN` are not equivalent.\n      return +a === +b;\n    case \"[object Symbol]\":\n      return typeof Symbol !== \"undefined\" && Symbol.valueOf.call(a) === Symbol.valueOf.call(b);\n    case \"[object Map]\":\n    case \"[object Set]\":\n      // Maps and Sets are unwrapped to arrays of entry-pairs, adding an incidental level.\n      // Hide this extra level by increasing the depth.\n      if (depth >= 0) {\n        depth++;\n      }\n      break;\n  }\n  // Unwrap any wrapped objects.\n  a = unwrap(a);\n  b = unwrap(b);\n  var areArrays = className === \"[object Array]\";\n  if (!areArrays) {\n    if (typeof a != \"object\" || typeof b != \"object\") {\n      return false;\n    }\n    // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n    // from different frames are.\n    var aCtor = a.constructor,\n      bCtor = b.constructor;\n    if (aCtor !== bCtor && !(isFunction(aCtor) && aCtor instanceof aCtor && isFunction(bCtor) && bCtor instanceof bCtor) && \"constructor\" in a && \"constructor\" in b) {\n      return false;\n    }\n  }\n  if (depth === 0) {\n    return false;\n  } else if (depth < 0) {\n    depth = -1;\n  }\n  // Assume equality for cyclic structures. The algorithm for detecting cyclic\n  // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n  // Initializing stack of traversed objects.\n  // It's done here since we only need them for objects and arrays comparison.\n  aStack = aStack || [];\n  bStack = bStack || [];\n  var length = aStack.length;\n  while (length--) {\n    // Linear search. Performance is inversely proportional to the number of\n    // unique nested structures.\n    if (aStack[length] === a) {\n      return bStack[length] === b;\n    }\n  }\n  // Add the first object to the stack of traversed objects.\n  aStack.push(a);\n  bStack.push(b);\n  // Recursively compare objects and arrays.\n  if (areArrays) {\n    // Compare array lengths to determine if a deep comparison is necessary.\n    length = a.length;\n    if (length !== b.length) {\n      return false;\n    }\n    // Deep compare the contents, ignoring non-numeric properties.\n    while (length--) {\n      if (!eq(a[length], b[length], depth - 1, aStack, bStack)) {\n        return false;\n      }\n    }\n  } else {\n    // Deep compare objects.\n    var keys = Object.keys(a);\n    var key;\n    length = keys.length;\n    // Ensure that both objects contain the same number of properties before comparing deep equality.\n    if (Object.keys(b).length !== length) {\n      return false;\n    }\n    while (length--) {\n      // Deep compare each member\n      key = keys[length];\n      if (!(hasProp(b, key) && eq(a[key], b[key], depth - 1, aStack, bStack))) {\n        return false;\n      }\n    }\n  }\n  // Remove the first object from the stack of traversed objects.\n  aStack.pop();\n  bStack.pop();\n  return true;\n}\nfunction unwrap(a) {\n  if (isObservableArray(a)) {\n    return a.slice();\n  }\n  if (isES6Map(a) || isObservableMap(a)) {\n    return Array.from(a.entries());\n  }\n  if (isES6Set(a) || isObservableSet(a)) {\n    return Array.from(a.entries());\n  }\n  return a;\n}\n\nvar _getGlobal$Iterator;\n// safely get iterator prototype if available\nvar maybeIteratorPrototype = ((_getGlobal$Iterator = /*#__PURE__*/getGlobal().Iterator) == null ? void 0 : _getGlobal$Iterator.prototype) || {};\nfunction makeIterable(iterator) {\n  iterator[Symbol.iterator] = getSelf;\n  return Object.assign(Object.create(maybeIteratorPrototype), iterator);\n}\nfunction getSelf() {\n  return this;\n}\n\nfunction isAnnotation(thing) {\n  return (\n    // Can be function\n    thing instanceof Object && typeof thing.annotationType_ === \"string\" && isFunction(thing.make_) && isFunction(thing.extend_)\n  );\n}\n\n/**\n * (c) Michel Weststrate 2015 - 2020\n * MIT Licensed\n *\n * Welcome to the mobx sources! To get a global overview of how MobX internally works,\n * this is a good place to start:\n * https://medium.com/@mweststrate/becoming-fully-reactive-an-in-depth-explanation-of-mobservable-55995262a254#.xvbh6qd74\n *\n * Source folders:\n * ===============\n *\n * - api/     Most of the public static methods exposed by the module can be found here.\n * - core/    Implementation of the MobX algorithm; atoms, derivations, reactions, dependency trees, optimizations. Cool stuff can be found here.\n * - types/   All the magic that is need to have observable objects, arrays and values is in this folder. Including the modifiers like `asFlat`.\n * - utils/   Utility stuff.\n *\n */\n[\"Symbol\", \"Map\", \"Set\"].forEach(function (m) {\n  var g = getGlobal();\n  if (typeof g[m] === \"undefined\") {\n    die(\"MobX requires global '\" + m + \"' to be available or polyfilled\");\n  }\n});\nif (typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"object\") {\n  // See: https://github.com/andykog/mobx-devtools/\n  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({\n    spy: spy,\n    extras: {\n      getDebugName: getDebugName\n    },\n    $mobx: $mobx\n  });\n}\n\nexport { $mobx, FlowCancellationError, ObservableMap, ObservableSet, Reaction, allowStateChanges as _allowStateChanges, runInAction as _allowStateChangesInsideComputed, allowStateReadsEnd as _allowStateReadsEnd, allowStateReadsStart as _allowStateReadsStart, autoAction as _autoAction, _endAction, getAdministration as _getAdministration, getGlobalState as _getGlobalState, interceptReads as _interceptReads, isComputingDerivation as _isComputingDerivation, resetGlobalState as _resetGlobalState, _startAction, action, autorun, comparer, computed, configure, createAtom, apiDefineProperty as defineProperty, entries, extendObservable, flow, flowResult, get, getAtom, getDebugName, getDependencyTree, getObserverTree, has, intercept, isAction, isObservableValue as isBoxedObservable, isComputed, isComputedProp, isFlow, isFlowCancellationError, isObservable, isObservableArray, isObservableMap, isObservableObject, isObservableProp, isObservableSet, keys, makeAutoObservable, makeObservable, observable, observe, onBecomeObserved, onBecomeUnobserved, onReactionError, override, apiOwnKeys as ownKeys, reaction, remove, runInAction, set, spy, toJS, trace, transaction, untracked, values, when };\n//# sourceMappingURL=mobx.esm.js.map\n","import { makeObservable } from \"mobx\";\nimport { useState } from \"react\";\nif (!useState) {\n    throw new Error(\"mobx-react-lite requires React with Hooks support\");\n}\nif (!makeObservable) {\n    throw new Error(\"mobx-react-lite@3 requires mobx at least version 6 to be available\");\n}\n//# sourceMappingURL=assertEnvironment.js.map","import { configure } from \"mobx\";\nexport function defaultNoopBatch(callback) {\n    callback();\n}\nexport function observerBatching(reactionScheduler) {\n    if (!reactionScheduler) {\n        reactionScheduler = defaultNoopBatch;\n        if (\"production\" !== process.env.NODE_ENV) {\n            console.warn(\"[MobX] Failed to get unstable_batched updates from react-dom / react-native\");\n        }\n    }\n    configure({ reactionScheduler: reactionScheduler });\n}\nexport var isObserverBatched = function () {\n    if (\"production\" !== process.env.NODE_ENV) {\n        console.warn(\"[MobX] Deprecated\");\n    }\n    return true;\n};\n//# sourceMappingURL=observerBatching.js.map","import { getDependencyTree } from \"mobx\";\nexport function printDebugValue(v) {\n    return getDependencyTree(v);\n}\n//# sourceMappingURL=printDebugValue.js.map","export var REGISTRY_FINALIZE_AFTER = 10000;\nexport var REGISTRY_SWEEP_INTERVAL = 10000;\nvar TimerBasedFinalizationRegistry = /** @class */ (function () {\n    function TimerBasedFinalizationRegistry(finalize) {\n        var _this = this;\n        Object.defineProperty(this, \"finalize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: finalize\n        });\n        Object.defineProperty(this, \"registrations\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: new Map()\n        });\n        Object.defineProperty(this, \"sweepTimeout\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // Bound so it can be used directly as setTimeout callback.\n        Object.defineProperty(this, \"sweep\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: function (maxAge) {\n                if (maxAge === void 0) { maxAge = REGISTRY_FINALIZE_AFTER; }\n                // cancel timeout so we can force sweep anytime\n                clearTimeout(_this.sweepTimeout);\n                _this.sweepTimeout = undefined;\n                var now = Date.now();\n                _this.registrations.forEach(function (registration, token) {\n                    if (now - registration.registeredAt >= maxAge) {\n                        _this.finalize(registration.value);\n                        _this.registrations.delete(token);\n                    }\n                });\n                if (_this.registrations.size > 0) {\n                    _this.scheduleSweep();\n                }\n            }\n        });\n        // Bound so it can be exported directly as clearTimers test utility.\n        Object.defineProperty(this, \"finalizeAllImmediately\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: function () {\n                _this.sweep(0);\n            }\n        });\n    }\n    // Token is actually required with this impl\n    Object.defineProperty(TimerBasedFinalizationRegistry.prototype, \"register\", {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: function (target, value, token) {\n            this.registrations.set(token, {\n                value: value,\n                registeredAt: Date.now()\n            });\n            this.scheduleSweep();\n        }\n    });\n    Object.defineProperty(TimerBasedFinalizationRegistry.prototype, \"unregister\", {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: function (token) {\n            this.registrations.delete(token);\n        }\n    });\n    Object.defineProperty(TimerBasedFinalizationRegistry.prototype, \"scheduleSweep\", {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: function () {\n            if (this.sweepTimeout === undefined) {\n                this.sweepTimeout = setTimeout(this.sweep, REGISTRY_SWEEP_INTERVAL);\n            }\n        }\n    });\n    return TimerBasedFinalizationRegistry;\n}());\nexport { TimerBasedFinalizationRegistry };\nexport var UniversalFinalizationRegistry = typeof FinalizationRegistry !== \"undefined\"\n    ? FinalizationRegistry\n    : TimerBasedFinalizationRegistry;\n//# sourceMappingURL=UniversalFinalizationRegistry.js.map","import { UniversalFinalizationRegistry } from \"./UniversalFinalizationRegistry\";\nexport var observerFinalizationRegistry = new UniversalFinalizationRegistry(function (adm) {\n    var _a;\n    (_a = adm.reaction) === null || _a === void 0 ? void 0 : _a.dispose();\n    adm.reaction = null;\n});\n//# sourceMappingURL=observerFinalizationRegistry.js.map","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","import { Reaction } from \"mobx\";\nimport React from \"react\";\nimport { printDebugValue } from \"./utils/printDebugValue\";\nimport { isUsingStaticRendering } from \"./staticRendering\";\nimport { observerFinalizationRegistry } from \"./utils/observerFinalizationRegistry\";\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\nfunction createReaction(adm) {\n    adm.reaction = new Reaction(\"observer\".concat(adm.name), function () {\n        var _a;\n        adm.stateVersion = Symbol();\n        // onStoreChange won't be available until the component \"mounts\".\n        // If state changes in between initial render and mount,\n        // `useSyncExternalStore` should handle that by checking the state version and issuing update.\n        (_a = adm.onStoreChange) === null || _a === void 0 ? void 0 : _a.call(adm);\n    });\n}\nexport function useObserver(render, baseComponentName) {\n    if (baseComponentName === void 0) { baseComponentName = \"observed\"; }\n    if (isUsingStaticRendering()) {\n        return render();\n    }\n    var admRef = React.useRef(null);\n    if (!admRef.current) {\n        // First render\n        var adm_1 = {\n            reaction: null,\n            onStoreChange: null,\n            stateVersion: Symbol(),\n            name: baseComponentName,\n            subscribe: function (onStoreChange) {\n                // Do NOT access admRef here!\n                observerFinalizationRegistry.unregister(adm_1);\n                adm_1.onStoreChange = onStoreChange;\n                if (!adm_1.reaction) {\n                    // We've lost our reaction and therefore all subscriptions, occurs when:\n                    // 1. Timer based finalization registry disposed reaction before component mounted.\n                    // 2. React \"re-mounts\" same component without calling render in between (typically <StrictMode>).\n                    // We have to recreate reaction and schedule re-render to recreate subscriptions,\n                    // even if state did not change.\n                    createReaction(adm_1);\n                    // `onStoreChange` won't force update if subsequent `getSnapshot` returns same value.\n                    // So we make sure that is not the case\n                    adm_1.stateVersion = Symbol();\n                }\n                return function () {\n                    var _a;\n                    // Do NOT access admRef here!\n                    adm_1.onStoreChange = null;\n                    (_a = adm_1.reaction) === null || _a === void 0 ? void 0 : _a.dispose();\n                    adm_1.reaction = null;\n                };\n            },\n            getSnapshot: function () {\n                // Do NOT access admRef here!\n                return adm_1.stateVersion;\n            }\n        };\n        admRef.current = adm_1;\n    }\n    var adm = admRef.current;\n    if (!adm.reaction) {\n        // First render or reaction was disposed by registry before subscribe\n        createReaction(adm);\n        // StrictMode/ConcurrentMode/Suspense may mean that our component is\n        // rendered and abandoned multiple times, so we need to track leaked\n        // Reactions.\n        observerFinalizationRegistry.register(admRef, adm, adm);\n    }\n    React.useDebugValue(adm.reaction, printDebugValue);\n    useSyncExternalStore(\n    // Both of these must be stable, otherwise it would keep resubscribing every render.\n    adm.subscribe, adm.getSnapshot, adm.getSnapshot);\n    // render the original component, but have the\n    // reaction track the observables, so that rendering\n    // can be invalidated (see above) once a dependency changes\n    var renderResult;\n    var exception;\n    adm.reaction.track(function () {\n        try {\n            renderResult = render();\n        }\n        catch (e) {\n            exception = e;\n        }\n    });\n    if (exception) {\n        throw exception; // re-throw any exceptions caught during rendering\n    }\n    return renderResult;\n}\n//# sourceMappingURL=useObserver.js.map","var _a, _b;\nimport { forwardRef, memo } from \"react\";\nimport { isUsingStaticRendering } from \"./staticRendering\";\nimport { useObserver } from \"./useObserver\";\nvar warnObserverOptionsDeprecated = true;\nvar warnLegacyContextTypes = true;\nvar hasSymbol = typeof Symbol === \"function\" && Symbol.for;\nvar isFunctionNameConfigurable = (_b = (_a = Object.getOwnPropertyDescriptor(function () { }, \"name\")) === null || _a === void 0 ? void 0 : _a.configurable) !== null && _b !== void 0 ? _b : false;\n// Using react-is had some issues (and operates on elements, not on types), see #608 / #609\nvar ReactForwardRefSymbol = hasSymbol\n    ? Symbol.for(\"react.forward_ref\")\n    : typeof forwardRef === \"function\" && forwardRef(function (props) { return null; })[\"$$typeof\"];\nvar ReactMemoSymbol = hasSymbol\n    ? Symbol.for(\"react.memo\")\n    : typeof memo === \"function\" && memo(function (props) { return null; })[\"$$typeof\"];\n// n.b. base case is not used for actual typings or exported in the typing files\nexport function observer(baseComponent, \n// TODO remove in next major\noptions) {\n    var _a;\n    if (process.env.NODE_ENV !== \"production\" && warnObserverOptionsDeprecated && options) {\n        warnObserverOptionsDeprecated = false;\n        console.warn(\"[mobx-react-lite] `observer(fn, { forwardRef: true })` is deprecated, use `observer(React.forwardRef(fn))`\");\n    }\n    if (ReactMemoSymbol && baseComponent[\"$$typeof\"] === ReactMemoSymbol) {\n        throw new Error(\"[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.\");\n    }\n    // The working of observer is explained step by step in this talk: https://www.youtube.com/watch?v=cPF4iBedoF0&feature=youtu.be&t=1307\n    if (isUsingStaticRendering()) {\n        return baseComponent;\n    }\n    var useForwardRef = (_a = options === null || options === void 0 ? void 0 : options.forwardRef) !== null && _a !== void 0 ? _a : false;\n    var render = baseComponent;\n    var baseComponentName = baseComponent.displayName || baseComponent.name;\n    // If already wrapped with forwardRef, unwrap,\n    // so we can patch render and apply memo\n    if (ReactForwardRefSymbol && baseComponent[\"$$typeof\"] === ReactForwardRefSymbol) {\n        useForwardRef = true;\n        render = baseComponent[\"render\"];\n        if (typeof render !== \"function\") {\n            throw new Error(\"[mobx-react-lite] `render` property of ForwardRef was not a function\");\n        }\n    }\n    var observerComponent = function (props, ref) {\n        return useObserver(function () { return render(props, ref); }, baseComponentName);\n    };\n    observerComponent.displayName = baseComponent.displayName;\n    if (isFunctionNameConfigurable) {\n        Object.defineProperty(observerComponent, \"name\", {\n            value: baseComponent.name,\n            writable: true,\n            configurable: true\n        });\n    }\n    // Support legacy context: `contextTypes` must be applied before `memo`\n    if (baseComponent.contextTypes) {\n        ;\n        observerComponent.contextTypes = baseComponent.contextTypes;\n        if (process.env.NODE_ENV !== \"production\" && warnLegacyContextTypes) {\n            warnLegacyContextTypes = false;\n            console.warn(\"[mobx-react-lite] Support for Legacy Context in function components will be removed in the next major release.\");\n        }\n    }\n    if (useForwardRef) {\n        // `forwardRef` must be applied prior `memo`\n        // `forwardRef(observer(cmp))` throws:\n        // \"forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))\"\n        observerComponent = forwardRef(observerComponent);\n    }\n    // memo; we are not interested in deep updates\n    // in props; we assume that if deep objects are changed,\n    // this is in observables, which would have been tracked anyway\n    observerComponent = memo(observerComponent);\n    copyStaticProperties(baseComponent, observerComponent);\n    if (\"production\" !== process.env.NODE_ENV) {\n        Object.defineProperty(observerComponent, \"contextTypes\", {\n            set: function () {\n                var _a, _b;\n                throw new Error(\"[mobx-react-lite] `\".concat(this.displayName || ((_a = this.type) === null || _a === void 0 ? void 0 : _a.displayName) || ((_b = this.type) === null || _b === void 0 ? void 0 : _b.name) || \"Component\", \".contextTypes` must be set before applying `observer`.\"));\n            }\n        });\n    }\n    return observerComponent;\n}\n// based on https://github.com/mridgway/hoist-non-react-statics/blob/master/src/index.js\nvar hoistBlackList = {\n    $$typeof: true,\n    render: true,\n    compare: true,\n    type: true,\n    // Don't redefine `displayName`,\n    // it's defined as getter-setter pair on `memo` (see #3192).\n    displayName: true\n};\nfunction copyStaticProperties(base, target) {\n    Object.keys(base).forEach(function (key) {\n        if (!hoistBlackList[key]) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(base, key));\n        }\n    });\n}\n//# sourceMappingURL=observer.js.map","var _a;\nimport \"./utils/assertEnvironment\";\nimport { unstable_batchedUpdates as batch } from \"./utils/reactBatchedUpdates\";\nimport { observerBatching } from \"./utils/observerBatching\";\nimport { useDeprecated } from \"./utils/utils\";\nimport { useObserver as useObserverOriginal } from \"./useObserver\";\nimport { enableStaticRendering } from \"./staticRendering\";\nimport { observerFinalizationRegistry } from \"./utils/observerFinalizationRegistry\";\nobserverBatching(batch);\nexport { isUsingStaticRendering, enableStaticRendering } from \"./staticRendering\";\nexport { observer } from \"./observer\";\nexport { Observer } from \"./ObserverComponent\";\nexport { useLocalObservable } from \"./useLocalObservable\";\nexport { useLocalStore } from \"./useLocalStore\";\nexport { useAsObservableSource } from \"./useAsObservableSource\";\nexport { observerFinalizationRegistry as _observerFinalizationRegistry };\nexport var clearTimers = (_a = observerFinalizationRegistry[\"finalizeAllImmediately\"]) !== null && _a !== void 0 ? _a : (function () { });\nexport function useObserver(fn, baseComponentName) {\n    if (baseComponentName === void 0) { baseComponentName = \"observed\"; }\n    if (\"production\" !== process.env.NODE_ENV) {\n        useDeprecated(\"[mobx-react-lite] 'useObserver(fn)' is deprecated. Use `<Observer>{fn}</Observer>` instead, or wrap the entire component in `observer`.\");\n    }\n    return useObserverOriginal(fn, baseComponentName);\n}\nexport { isObserverBatched, observerBatching } from \"./utils/observerBatching\";\nexport function useStaticRendering(enable) {\n    if (\"production\" !== process.env.NODE_ENV) {\n        console.warn(\"[mobx-react-lite] 'useStaticRendering' is deprecated, use 'enableStaticRendering' instead\");\n    }\n    enableStaticRendering(enable);\n}\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface CardProps {\n  children: React.ReactNode;\n  className?: string;\n  isSelected?: boolean;\n  onClick?: () => void;\n}\n\nexport function Card({ children, className, isSelected, onClick }: CardProps) {\n  return (\n    <div\n      className={mergeClasses(\n        'rounded-lg transition-all duration-200 h-full',\n        isSelected \n          ? 'border-2 border-blue-500 shadow-sm ring-2 ring-blue-100 bg-blue-50'\n          : 'border border-gray-200 shadow-sm hover:border-gray-300 hover:shadow bg-gradient-to-br from-slate-50 to-gray-50',\n        onClick && 'cursor-pointer',\n        className\n      )}\n      onClick={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nCard.Header = function CardHeader({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <div className={mergeClasses('p-3 sm:p-4 space-y-2', className)}>\n      {children}\n    </div>\n  );\n};\n\nCard.Content = function CardContent({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <div className={mergeClasses('px-3 sm:px-4 pb-3 sm:pb-4', className)}>\n      {children}\n    </div>\n  );\n};\n\nCard.Footer = function CardFooter({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <div className={mergeClasses('px-3 sm:px-4 py-2 sm:py-3 border-t bg-white/50 rounded-b-lg', className)}>\n      {children}\n    </div>\n  );\n};\n\nCard.Title = function CardTitle({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <h3 className={mergeClasses('text-base sm:text-lg font-semibold text-gray-900 line-clamp-2', className)}>\n      {children}\n    </h3>\n  );\n};\n\nCard.Grid = function CardGrid({ children, className }: { children: React.ReactNode; className?: string }) {\n  return (\n    <div className={mergeClasses('grid grid-cols-2 gap-2 text-sm text-gray-600', className)}>\n      {children}\n    </div>\n  );\n};","function e(e){switch(typeof e){case\"string\":case\"symbol\":return e.toString();case\"function\":return e.name;default:throw new Error(`Unexpected ${typeof e} service id type`)}}const t=Symbol.for(\"@inversifyjs/common/islazyServiceIdentifier\");class r{[t];#e;constructor(e){this.#e=e,this[t]=!0}static is(e){return\"object\"==typeof e&&null!==e&&!0===e[t]}unwrap(){return this.#e()}}export{r as LazyServiceIdentifier,e as stringifyServiceIdentifier};\n//# sourceMappingURL=index.js.map\n","function t(t,e){return Reflect.getMetadata(e,t)}function e(e,n,a,c){const f=c(t(e,n)??a);Reflect.defineMetadata(n,f,e)}export{t as getReflectMetadata,e as updateReflectMetadata};\n//# sourceMappingURL=index.js.map\n","import{getReflectMetadata as t,updateReflectMetadata as e}from\"@inversifyjs/reflect-metadata-utils\";import{LazyServiceIdentifier as n}from\"@inversifyjs/common\";const a=\"named\",r=\"name\",i=\"unmanaged\",o=\"optional\",s=\"inject\",c=\"multi_inject\",u=\"post_construct\",d=\"pre_destroy\";const m=[s,c,r,i,a,o],l=Symbol.for(\"@inversifyjs/core/InversifyCoreError\");class f extends Error{[l];kind;constructor(t,e,n){super(e,n),this[l]=!0,this.kind=t}static is(t){return\"object\"==typeof t&&null!==t&&!0===t[l]}static isErrorOfKind(t,e){return f.is(t)&&t.kind===e}}var g,p;function h(t,e){const n=[];for(let t=0;t<e.length;++t){void 0===e[t]&&n.push(t)}if(n.length>0)throw new f(g.missingInjectionDecorator,`Found unexpected missing metadata on type \"${t.name}\" at constructor indexes \"${n.join('\", \"')}\".\\n\\nAre you using @inject, @multiInject or @unmanaged decorators at those indexes?\\n\\nIf you're using typescript and want to rely on auto injection, set \"emitDecoratorMetadata\" compiler option to true`)}function y(t){return{kind:p.singleInjection,name:void 0,optional:!1,tags:new Map,targetName:void 0,value:t}}function v(t){const e=t.find((t=>t.key===s)),n=t.find((t=>t.key===c));if(void 0!==t.find((t=>t.key===i)))return function(t,e){if(void 0!==e||void 0!==t)throw new f(g.missingInjectionDecorator,\"Expected a single @inject, @multiInject or @unmanaged metadata\");return{kind:p.unmanaged}}(e,n);if(void 0===n&&void 0===e)throw new f(g.missingInjectionDecorator,\"Expected @inject, @multiInject or @unmanaged metadata\");const u=t.find((t=>t.key===a)),d=t.find((t=>t.key===o)),l=t.find((t=>t.key===r));return{kind:void 0===e?p.multipleInjection:p.singleInjection,name:u?.value,optional:void 0!==d,tags:new Map(t.filter((t=>m.every((e=>t.key!==e)))).map((t=>[t.key,t.value]))),targetName:l?.value,value:void 0===e?n?.value:e.value}}function j(t,e,n){try{return v(n)}catch(n){throw f.isErrorOfKind(n,g.missingInjectionDecorator)?new f(g.missingInjectionDecorator,`Expected a single @inject, @multiInject or @unmanaged decorator at type \"${t.name}\" at constructor arguments at index \"${e.toString()}\"`,{cause:n}):n}}function k(e){const n=t(e,\"design:paramtypes\"),a=t(e,\"inversify:tagged\"),r=[];if(void 0!==a)for(const[t,n]of Object.entries(a)){const a=parseInt(t);r[a]=j(e,a,n)}if(void 0!==n)for(let t=0;t<n.length;++t)if(void 0===r[t]){const e=n[t];r[t]=y(e)}return h(e,r),r}function I(t,e,n){try{return v(n)}catch(n){throw f.isErrorOfKind(n,g.missingInjectionDecorator)?new f(g.missingInjectionDecorator,`Expected a single @inject, @multiInject or @unmanaged decorator at type \"${t.name}\" at property \"${e.toString()}\"`,{cause:n}):n}}function w(e){const n=t(e,\"inversify:tagged_props\"),a=new Map;if(void 0!==n)for(const t of Reflect.ownKeys(n)){const r=n[t];a.set(t,I(e,t,r))}return a}function M(e){const n=t(e,u),a=t(e,d);return{constructorArguments:k(e),lifecycle:{postConstructMethodName:n?.value,preDestroyMethodName:a?.value},properties:w(e)}}function N(t,e){const n=e.getConstructorMetadata(t),a=[];for(const[e,r]of Object.entries(n.userGeneratedMetadata)){const n=parseInt(e);a[n]=j(t,n,r)}if(void 0!==n.compilerGeneratedMetadata)for(let t=0;t<n.compilerGeneratedMetadata.length;++t)if(void 0===a[t]){const e=n.compilerGeneratedMetadata[t];a[t]=y(e)}return h(t,a),a}function E(t,e){const n=e.getPropertiesMetadata(t),a=new Map;for(const e of Reflect.ownKeys(n)){const r=n[e];a.set(e,I(t,e,r))}return a}function D(e,n){const a=t(e,u),r=t(e,d);return{constructorArguments:N(e,n),lifecycle:{postConstructMethodName:a?.value,preDestroyMethodName:r?.value},properties:E(e,n)}}function b(t){const e=Object.getPrototypeOf(t.prototype),n=e?.constructor;return n}function O(t){return t.kind===p.unmanaged?[{key:i,value:!0}]:function(t){const e=[A(t)];void 0!==t.name&&e.push({key:a,value:t.name});t.optional&&e.push({key:o,value:!0});for(const[n,a]of t.tags)e.push({key:n,value:a});void 0!==t.targetName&&e.push({key:r,value:t.targetName});return e}(t)}function A(t){let e;switch(t.kind){case p.multipleInjection:e={key:c,value:t.value};break;case p.singleInjection:e={key:s,value:t.value}}return e}!function(t){t[t.injectionDecoratorConflict=0]=\"injectionDecoratorConflict\",t[t.missingInjectionDecorator=1]=\"missingInjectionDecorator\",t[t.planning=2]=\"planning\",t[t.unknown=3]=\"unknown\"}(g||(g={})),function(t){t[t.multipleInjection=0]=\"multipleInjection\",t[t.singleInjection=1]=\"singleInjection\",t[t.unmanaged=2]=\"unmanaged\"}(p||(p={}));class x{#t;constructor(t){this.#t=t}startsWith(t){return this.#t.startsWith(t)}endsWith(t){return this.#t.endsWith(t)}contains(t){return this.#t.includes(t)}equals(t){return this.#t===t}value(){return this.#t}}const C=\"@inversifyjs/core/targetId\";class T{#e;#n;#a;#r;#i;#o;constructor(n,a,r){this.#n=function(){const n=t(Object,C)??0;return n===Number.MAX_SAFE_INTEGER?e(Object,C,n,(()=>Number.MIN_SAFE_INTEGER)):e(Object,C,n,(t=>t+1)),n}(),this.#a=n,this.#r=void 0,this.#e=a,this.#i=new x(\"string\"==typeof n?n:n.toString().slice(7,-1)),this.#o=r}get id(){return this.#n}get identifier(){return this.#a}get metadata(){return void 0===this.#r&&(this.#r=O(this.#e)),this.#r}get name(){return this.#i}get type(){return this.#o}get serviceIdentifier(){return n.is(this.#e.value)?this.#e.value.unwrap():this.#e.value}getCustomTags(){return[...this.#e.tags.entries()].map((([t,e])=>({key:t,value:e})))}getNamedTag(){return void 0===this.#e.name?null:{key:a,value:this.#e.name}}hasTag(t){return this.metadata.some((e=>e.key===t))}isArray(){return this.#e.kind===p.multipleInjection}isNamed(){return void 0!==this.#e.name}isOptional(){return this.#e.optional}isTagged(){return this.#e.tags.size>0}matchesArray(t){return this.isArray()&&this.#e.value===t}matchesNamedTag(t){return this.#e.name===t}matchesTag(t){return e=>this.metadata.some((n=>n.key===t&&n.value===e))}}const _=t=>function(t,e){return function(n){const a=t(n);let r=b(n);for(;void 0!==r&&r!==Object;){const t=e(r);for(const[e,n]of t)a.properties.has(e)||a.properties.set(e,n);r=b(r)}const i=[];for(const t of a.constructorArguments)if(t.kind!==p.unmanaged){const e=t.targetName??\"\";i.push(new T(e,t,\"ConstructorArgument\"))}for(const[t,e]of a.properties)if(e.kind!==p.unmanaged){const n=e.targetName??t;i.push(new T(n,e,\"ClassProperty\"))}return i}}(void 0===t?M:e=>D(e,t),void 0===t?w:e=>E(e,t));export{p as ClassElementMetadataKind,T as LegacyTargetImpl,v as getClassElementMetadataFromLegacyMetadata,M as getClassMetadata,D as getClassMetadataFromMetadataReader,_ as getTargets};\n//# sourceMappingURL=index.js.map\n","import\"reflect-metadata\";import{LazyServiceIdentifier as t}from\"@inversifyjs/common\";export{LazyServiceIdentifier}from\"@inversifyjs/common\";import{getTargets as n,getClassElementMetadataFromLegacyMetadata as e,ClassElementMetadataKind as i,LegacyTargetImpl as r}from\"@inversifyjs/core\";const s=\"named\",o=\"name\",a=\"unmanaged\",c=\"optional\",d=\"inject\",u=\"multi_inject\",h=\"inversify:tagged\",l=\"inversify:tagged_props\",g=\"inversify:paramtypes\",y=\"design:paramtypes\",p=\"post_construct\",f=\"pre_destroy\";const _=[d,u,o,a,s,c];var v=Object.freeze({__proto__:null,DESIGN_PARAM_TYPES:y,INJECT_TAG:d,MULTI_INJECT_TAG:u,NAMED_TAG:s,NAME_TAG:o,NON_CUSTOM_TAG_KEYS:_,OPTIONAL_TAG:c,PARAM_TYPES:g,POST_CONSTRUCT:p,PRE_DESTROY:f,TAGGED:h,TAGGED_PROP:l,UNMANAGED_TAG:a});const b={Request:\"Request\",Singleton:\"Singleton\",Transient:\"Transient\"},w={ConstantValue:\"ConstantValue\",Constructor:\"Constructor\",DynamicValue:\"DynamicValue\",Factory:\"Factory\",Function:\"Function\",Instance:\"Instance\",Invalid:\"Invalid\",Provider:\"Provider\"},m={ClassProperty:\"ClassProperty\",ConstructorArgument:\"ConstructorArgument\",Variable:\"Variable\"};let A=0;function S(){return A++}class I{id;moduleId;activated;serviceIdentifier;implementationType;cache;dynamicValue;scope;type;factory;provider;constraint;onActivation;onDeactivation;constructor(t,n){this.id=S(),this.activated=!1,this.serviceIdentifier=t,this.scope=n,this.type=w.Invalid,this.constraint=t=>!0,this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}clone(){const t=new I(this.serviceIdentifier,this.scope);return t.activated=t.scope===b.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t}}const T=\"Metadata key was used more than once in a parameter:\",D=\"NULL argument\",N=\"Key Not Found\",C=\"Ambiguous match found for serviceIdentifier:\",x=\"No matching bindings found for serviceIdentifier:\",R=\"The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.\",E=(t,n)=>`onDeactivation() error in class ${t}: ${n}`;class M{getConstructorMetadata(t){return{compilerGeneratedMetadata:Reflect.getMetadata(y,t)??[],userGeneratedMetadata:Reflect.getMetadata(h,t)??{}}}getPropertiesMetadata(t){return Reflect.getMetadata(l,t)??{}}}var B;function P(t){return t instanceof RangeError||\"Maximum call stack size exceeded\"===t.message}!function(t){t[t.MultipleBindingsAvailable=2]=\"MultipleBindingsAvailable\",t[t.NoBindingsAvailable=0]=\"NoBindingsAvailable\",t[t.OnlyOneBindingAvailable=1]=\"OnlyOneBindingAvailable\"}(B||(B={}));function k(t){return\"function\"==typeof t?t.name:\"symbol\"==typeof t?t.toString():t}function q(t,n,e){let i=\"\";const r=e(t,n);return 0!==r.length&&(i=\"\\nRegistered bindings:\",r.forEach((t=>{let n=\"Object\";null!==t.implementationType&&(n=O(t.implementationType)),i=`${i}\\n ${n}`,t.constraint.metaData&&(i=`${i} - ${t.constraint.metaData}`)}))),i}function F(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||F(t.parentRequest,n))}function j(t){t.childRequests.forEach((n=>{if(F(t,n.serviceIdentifier)){const t=function(t){const n=function t(n,e=[]){const i=k(n.serviceIdentifier);return e.push(i),null!==n.parentRequest?t(n.parentRequest,e):e}(t);return n.reverse().join(\" --\\x3e \")}(n);throw new Error(`Circular dependency found: ${t}`)}j(n)}))}function O(t){if(null!=t.name&&\"\"!==t.name)return t.name;{const n=t.toString(),e=n.match(/^function\\s*([^\\s(]+)/);return null===e?`Anonymous function: ${n}`:e[1]}}function $(t){return`{\"key\":\"${t.key.toString()}\",\"value\":\"${t.value.toString()}\"}`}class V{id;container;plan;currentRequest;constructor(t){this.id=S(),this.container=t}addPlan(t){this.plan=t}setCurrentRequest(t){this.currentRequest=t}}class W{key;value;constructor(t,n){this.key=t,this.value=n}toString(){return this.key===s?`named: ${String(this.value).toString()} `:`tagged: { key:${this.key.toString()}, value: ${String(this.value)} }`}}class G{parentContext;rootRequest;constructor(t,n){this.parentContext=t,this.rootRequest=n}}function K(t,e){const i=function(t){const n=Object.getPrototypeOf(t.prototype),e=n?.constructor;return e}(e);if(void 0===i||i===Object)return 0;const r=n(t)(i),s=r.map((t=>t.metadata.filter((t=>t.key===a)))),o=[].concat.apply([],s).length,c=r.length-o;return c>0?c:K(t,i)}class H{id;serviceIdentifier;parentContext;parentRequest;bindings;childRequests;target;requestScope;constructor(t,n,e,i,r){this.id=S(),this.serviceIdentifier=t,this.parentContext=n,this.parentRequest=e,this.target=r,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===e?new Map:null}addChildRequest(t,n,e){const i=new H(t,this.parentContext,this,n,e);return this.childRequests.push(i),i}}function U(t){return t._bindingDictionary}function L(t,n,e,i,r){let s=J(e.container,r.serviceIdentifier),o=[];return s.length===B.NoBindingsAvailable&&!0===e.container.options.autoBindInjectable&&\"function\"==typeof r.serviceIdentifier&&t.getConstructorMetadata(r.serviceIdentifier).compilerGeneratedMetadata&&(e.container.bind(r.serviceIdentifier).toSelf(),s=J(e.container,r.serviceIdentifier)),o=n?s:s.filter((t=>{const n=new H(t.serviceIdentifier,e,i,t,r);return t.constraint(n)})),function(t,n,e,i,r){switch(n.length){case B.NoBindingsAvailable:if(i.isOptional())return n;{const n=k(t);let s=x;throw s+=function(t,n){if(n.isTagged()||n.isNamed()){let e=\"\";const i=n.getNamedTag(),r=n.getCustomTags();return null!==i&&(e+=$(i)+\"\\n\"),null!==r&&r.forEach((t=>{e+=$(t)+\"\\n\"})),` ${t}\\n ${t} - ${e}`}return` ${t}`}(n,i),s+=q(r,n,J),null!==e&&(s+=\"\\n\"+`Trying to resolve bindings for \"${k(e.serviceIdentifier)}\"`),new Error(s)}case B.OnlyOneBindingAvailable:return n;case B.MultipleBindingsAvailable:default:if(i.isArray())return n;{const n=k(t);let e=`${C} ${n}`;throw e+=q(r,n,J),new Error(e)}}}(r.serviceIdentifier,o,i,r,e.container),o}function Y(t,n){const e=n.isMultiInject?u:d,i=[new W(e,t)];return void 0!==n.customTag&&i.push(new W(n.customTag.key,n.customTag.value)),!0===n.isOptional&&i.push(new W(c,!0)),i}function z(t,e,i,r,s,o){let a,c;if(null===s){a=L(t,e,r,null,o),c=new H(i,r,null,a,o);const n=new G(r,c);r.addPlan(n)}else a=L(t,e,r,s,o),c=s.addChildRequest(o.serviceIdentifier,a,o);a.forEach((e=>{let i=null;if(o.isArray())i=c.addChildRequest(e.serviceIdentifier,e,o);else{if(null!==e.cache)return;i=c}if(e.type===w.Instance&&null!==e.implementationType){const s=function(t,e){return n(t)(e)}(t,e.implementationType);if(!0!==r.container.options.skipBaseClassChecks){const n=K(t,e.implementationType);if(s.length<n){const t=`The number of constructor arguments in the derived class ${O(e.implementationType)} must be >= than the number of constructor arguments of its base class.`;throw new Error(t)}}s.forEach((n=>{z(t,!1,n.serviceIdentifier,r,i,n)}))}}))}function J(t,n){let e=[];const i=U(t);return i.hasKey(n)?e=i.get(n):null!==t.parent&&(e=J(t.parent,n)),e}function Q(t,n,s,o,a,c=!1){const d=new V(n),u=function(t,n,s){const o=Y(n,s),a=e(o);if(a.kind===i.unmanaged)throw new Error(\"Unexpected metadata when creating target\");return new r(\"\",a,t)}(s,o,a);try{return z(t,c,o,d,null,u),d}catch(t){throw P(t)&&j(d.plan.rootRequest),t}}function X(t){return(\"object\"==typeof t&&null!==t||\"function\"==typeof t)&&\"function\"==typeof t.then}function Z(t){return!!X(t)||Array.isArray(t)&&t.some(X)}const tt=(t,n,e)=>{t.has(n.id)||t.set(n.id,e)},nt=(t,n)=>{t.cache=n,t.activated=!0,X(n)&&et(t,n)},et=async(t,n)=>{try{const e=await n;t.cache=e}catch(n){throw t.cache=null,t.activated=!1,n}};var it;!function(t){t.DynamicValue=\"toDynamicValue\",t.Factory=\"toFactory\",t.Provider=\"toProvider\"}(it||(it={}));const rt=t=>n=>(...e)=>{e.forEach((e=>{t.bind(e).toService(n)}))};function st(t,n,e){let i;if(n.length>0){const r=function(t,n){return t.reduce(((t,e)=>{const i=n(e);return e.target.type===m.ConstructorArgument?t.constructorInjections.push(i):(t.propertyRequests.push(e),t.propertyInjections.push(i)),t.isAsync||(t.isAsync=Z(i)),t}),{constructorInjections:[],isAsync:!1,propertyInjections:[],propertyRequests:[]})}(n,e),s={...r,constr:t};i=r.isAsync?async function(t){const n=await at(t.constructorInjections),e=await at(t.propertyInjections);return ot({...t,constructorInjections:n,propertyInjections:e})}(s):ot(s)}else i=new t;return i}function ot(t){const n=new t.constr(...t.constructorInjections);return t.propertyRequests.forEach(((e,i)=>{const r=e.target.identifier,s=t.propertyInjections[i];e.target.isOptional()&&void 0===s||(n[r]=s)})),n}async function at(t){const n=[];for(const e of t)Array.isArray(e)?n.push(Promise.all(e)):n.push(e);return Promise.all(n)}function ct(t,n){const e=function(t,n){if(Reflect.hasMetadata(p,t)){const r=Reflect.getMetadata(p,t);try{return n[r.value]?.()}catch(n){if(n instanceof Error)throw new Error((e=t.name,i=n.message,`@postConstruct error in class ${e}: ${i}`))}}var e,i}(t,n);return X(e)?e.then((()=>n)):n}function dt(t,n){t.scope!==b.Singleton&&function(t,n){const e=`Class cannot be instantiated in ${t.scope===b.Request?\"request\":\"transient\"} scope.`;if(\"function\"==typeof t.onDeactivation)throw new Error(E(n.name,e));if(Reflect.hasMetadata(f,n))throw new Error(`@preDestroy error in class ${n.name}: ${e}`)}(t,n)}const ut=t=>n=>{n.parentContext.setCurrentRequest(n);const e=n.bindings,i=n.childRequests,r=n.target&&n.target.isArray(),s=!(n.parentRequest&&n.parentRequest.target&&n.target&&n.parentRequest.target.matchesArray(n.target.serviceIdentifier));if(r&&s)return i.map((n=>ut(t)(n)));{if(n.target.isOptional()&&0===e.length)return;const i=e[0];return yt(t,n,i)}},ht=(t,n)=>{const e=(t=>{switch(t.type){case w.Factory:return{factory:t.factory,factoryType:it.Factory};case w.Provider:return{factory:t.provider,factoryType:it.Provider};case w.DynamicValue:return{factory:t.dynamicValue,factoryType:it.DynamicValue};default:throw new Error(`Unexpected factory type ${t.type}`)}})(t);return((t,n)=>{try{return t()}catch(t){if(P(t))throw n();throw t}})((()=>e.factory.bind(t)(n)),(()=>{return new Error((t=e.factoryType,i=n.currentRequest.serviceIdentifier.toString(),`It looks like there is a circular dependency in one of the '${t}' bindings. Please investigate bindings with service identifier '${i}'.`));var t,i}))},lt=(t,n,e)=>{let i;const r=n.childRequests;switch((t=>{let n=null;switch(t.type){case w.ConstantValue:case w.Function:n=t.cache;break;case w.Constructor:case w.Instance:n=t.implementationType;break;case w.DynamicValue:n=t.dynamicValue;break;case w.Provider:n=t.provider;break;case w.Factory:n=t.factory}if(null===n){const n=k(t.serviceIdentifier);throw new Error(`Invalid binding type: ${n}`)}})(e),e.type){case w.ConstantValue:case w.Function:i=e.cache;break;case w.Constructor:i=e.implementationType;break;case w.Instance:i=function(t,n,e,i){dt(t,n);const r=st(n,e,i);return X(r)?r.then((t=>ct(n,t))):ct(n,r)}(e,e.implementationType,r,ut(t));break;default:i=ht(e,n.parentContext)}return i},gt=(t,n,e)=>{let i=((t,n)=>n.scope===b.Singleton&&n.activated?n.cache:n.scope===b.Request&&t.has(n.id)?t.get(n.id):null)(t,n);return null!==i||(i=e(),((t,n,e)=>{n.scope===b.Singleton&&nt(n,e),n.scope===b.Request&&tt(t,n,e)})(t,n,i)),i},yt=(t,n,e)=>gt(t,e,(()=>{let i=lt(t,n,e);return i=X(i)?i.then((t=>pt(n,e,t))):pt(n,e,i),i}));function pt(t,n,e){let i=ft(t.parentContext,n,e);const r=wt(t.parentContext.container);let s,o=r.next();do{s=o.value;const n=t.parentContext,e=t.serviceIdentifier,a=bt(s,e);i=X(i)?vt(a,n,i):_t(a,n,i),o=r.next()}while(!0!==o.done&&!U(s).hasKey(t.serviceIdentifier));return i}const ft=(t,n,e)=>{let i;return i=\"function\"==typeof n.onActivation?n.onActivation(t,e):e,i},_t=(t,n,e)=>{let i=t.next();for(;!0!==i.done;){if(X(e=i.value(n,e)))return vt(t,n,e);i=t.next()}return e},vt=async(t,n,e)=>{let i=await e,r=t.next();for(;!0!==r.done;)i=await r.value(n,i),r=t.next();return i},bt=(t,n)=>{const e=t._activations;return e.hasKey(n)?e.get(n).values():[].values()},wt=t=>{const n=[t];let e=t.parent;for(;null!==e;)n.push(e),e=e.parent;return{next:()=>{const t=n.pop();return void 0!==t?{done:!1,value:t}:{done:!0,value:void 0}}}};const mt=(t,n)=>{const e=t.parentRequest;return null!==e&&(!!n(e)||mt(e,n))},At=t=>n=>{const e=e=>null!==e&&null!==e.target&&e.target.matchesTag(t)(n);return e.metaData=new W(t,n),e},St=At(s),It=t=>n=>{let e=null;if(null!==n){if(e=n.bindings[0],\"string\"==typeof t)return e.serviceIdentifier===t;{const e=n.bindings[0].implementationType;return t===e}}return!1};class Tt{_binding;constructor(t){this._binding=t}when(t){return this._binding.constraint=t,new Dt(this._binding)}whenTargetNamed(t){return this._binding.constraint=St(t),new Dt(this._binding)}whenTargetIsDefault(){return this._binding.constraint=t=>{if(null===t)return!1;return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new Dt(this._binding)}whenTargetTagged(t,n){return this._binding.constraint=At(t)(n),new Dt(this._binding)}whenInjectedInto(t){return this._binding.constraint=n=>null!==n&&It(t)(n.parentRequest),new Dt(this._binding)}whenParentNamed(t){return this._binding.constraint=n=>null!==n&&St(t)(n.parentRequest),new Dt(this._binding)}whenParentTagged(t,n){return this._binding.constraint=e=>null!==e&&At(t)(n)(e.parentRequest),new Dt(this._binding)}whenAnyAncestorIs(t){return this._binding.constraint=n=>null!==n&&mt(n,It(t)),new Dt(this._binding)}whenNoAncestorIs(t){return this._binding.constraint=n=>null!==n&&!mt(n,It(t)),new Dt(this._binding)}whenAnyAncestorNamed(t){return this._binding.constraint=n=>null!==n&&mt(n,St(t)),new Dt(this._binding)}whenNoAncestorNamed(t){return this._binding.constraint=n=>null!==n&&!mt(n,St(t)),new Dt(this._binding)}whenAnyAncestorTagged(t,n){return this._binding.constraint=e=>null!==e&&mt(e,At(t)(n)),new Dt(this._binding)}whenNoAncestorTagged(t,n){return this._binding.constraint=e=>null!==e&&!mt(e,At(t)(n)),new Dt(this._binding)}whenAnyAncestorMatches(t){return this._binding.constraint=n=>null!==n&&mt(n,t),new Dt(this._binding)}whenNoAncestorMatches(t){return this._binding.constraint=n=>null!==n&&!mt(n,t),new Dt(this._binding)}}class Dt{_binding;constructor(t){this._binding=t}onActivation(t){return this._binding.onActivation=t,new Tt(this._binding)}onDeactivation(t){return this._binding.onDeactivation=t,new Tt(this._binding)}}class Nt{_bindingWhenSyntax;_bindingOnSyntax;_binding;constructor(t){this._binding=t,this._bindingWhenSyntax=new Tt(this._binding),this._bindingOnSyntax=new Dt(this._binding)}when(t){return this._bindingWhenSyntax.when(t)}whenTargetNamed(t){return this._bindingWhenSyntax.whenTargetNamed(t)}whenTargetIsDefault(){return this._bindingWhenSyntax.whenTargetIsDefault()}whenTargetTagged(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)}whenInjectedInto(t){return this._bindingWhenSyntax.whenInjectedInto(t)}whenParentNamed(t){return this._bindingWhenSyntax.whenParentNamed(t)}whenParentTagged(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)}whenAnyAncestorIs(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)}whenNoAncestorIs(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)}whenAnyAncestorNamed(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)}whenAnyAncestorTagged(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)}whenNoAncestorNamed(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)}whenNoAncestorTagged(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)}whenAnyAncestorMatches(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)}whenNoAncestorMatches(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)}onActivation(t){return this._bindingOnSyntax.onActivation(t)}onDeactivation(t){return this._bindingOnSyntax.onDeactivation(t)}}class Ct{_binding;constructor(t){this._binding=t}inRequestScope(){return this._binding.scope=b.Request,new Nt(this._binding)}inSingletonScope(){return this._binding.scope=b.Singleton,new Nt(this._binding)}inTransientScope(){return this._binding.scope=b.Transient,new Nt(this._binding)}}class xt{_bindingInSyntax;_bindingWhenSyntax;_bindingOnSyntax;_binding;constructor(t){this._binding=t,this._bindingWhenSyntax=new Tt(this._binding),this._bindingOnSyntax=new Dt(this._binding),this._bindingInSyntax=new Ct(t)}inRequestScope(){return this._bindingInSyntax.inRequestScope()}inSingletonScope(){return this._bindingInSyntax.inSingletonScope()}inTransientScope(){return this._bindingInSyntax.inTransientScope()}when(t){return this._bindingWhenSyntax.when(t)}whenTargetNamed(t){return this._bindingWhenSyntax.whenTargetNamed(t)}whenTargetIsDefault(){return this._bindingWhenSyntax.whenTargetIsDefault()}whenTargetTagged(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)}whenInjectedInto(t){return this._bindingWhenSyntax.whenInjectedInto(t)}whenParentNamed(t){return this._bindingWhenSyntax.whenParentNamed(t)}whenParentTagged(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)}whenAnyAncestorIs(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)}whenNoAncestorIs(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)}whenAnyAncestorNamed(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)}whenAnyAncestorTagged(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)}whenNoAncestorNamed(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)}whenNoAncestorTagged(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)}whenAnyAncestorMatches(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)}whenNoAncestorMatches(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)}onActivation(t){return this._bindingOnSyntax.onActivation(t)}onDeactivation(t){return this._bindingOnSyntax.onDeactivation(t)}}class Rt{_binding;constructor(t){this._binding=t}to(t){return this._binding.type=w.Instance,this._binding.implementationType=t,new xt(this._binding)}toSelf(){if(\"function\"!=typeof this._binding.serviceIdentifier)throw new Error(\"The toSelf function can only be applied when a constructor is used as service identifier\");const t=this._binding.serviceIdentifier;return this.to(t)}toConstantValue(t){return this._binding.type=w.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=b.Singleton,new Nt(this._binding)}toDynamicValue(t){return this._binding.type=w.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new xt(this._binding)}toConstructor(t){return this._binding.type=w.Constructor,this._binding.implementationType=t,this._binding.scope=b.Singleton,new Nt(this._binding)}toFactory(t){return this._binding.type=w.Factory,this._binding.factory=t,this._binding.scope=b.Singleton,new Nt(this._binding)}toFunction(t){if(\"function\"!=typeof t)throw new Error(\"Value provided to function binding must be a function!\");const n=this.toConstantValue(t);return this._binding.type=w.Function,this._binding.scope=b.Singleton,n}toAutoFactory(t){return this._binding.type=w.Factory,this._binding.factory=n=>()=>n.container.get(t),this._binding.scope=b.Singleton,new Nt(this._binding)}toAutoNamedFactory(t){return this._binding.type=w.Factory,this._binding.factory=n=>e=>n.container.getNamed(t,e),new Nt(this._binding)}toProvider(t){return this._binding.type=w.Provider,this._binding.provider=t,this._binding.scope=b.Singleton,new Nt(this._binding)}toService(t){this._binding.type=w.DynamicValue,Object.defineProperty(this._binding,\"cache\",{configurable:!0,enumerable:!0,get:()=>null,set(t){}}),this._binding.dynamicValue=n=>{try{return n.container.get(t)}catch(e){return n.container.getAsync(t)}},this._binding.implementationType=null}}class Et{bindings;activations;deactivations;middleware;moduleActivationStore;static of(t,n,e,i,r){const s=new Et;return s.bindings=t,s.middleware=n,s.deactivations=i,s.activations=e,s.moduleActivationStore=r,s}}class Mt{_map;constructor(){this._map=new Map}getMap(){return this._map}add(t,n){if(this._checkNonNulish(t),null==n)throw new Error(D);const e=this._map.get(t);void 0!==e?e.push(n):this._map.set(t,[n])}get(t){this._checkNonNulish(t);const n=this._map.get(t);if(void 0!==n)return n;throw new Error(N)}remove(t){if(this._checkNonNulish(t),!this._map.delete(t))throw new Error(N)}removeIntersection(t){this.traverse(((n,e)=>{const i=t.hasKey(n)?t.get(n):void 0;if(void 0!==i){const t=e.filter((t=>!i.some((n=>t===n))));this._setValue(n,t)}}))}removeByCondition(t){const n=[];return this._map.forEach(((e,i)=>{const r=[];for(const i of e){t(i)?n.push(i):r.push(i)}this._setValue(i,r)})),n}hasKey(t){return this._checkNonNulish(t),this._map.has(t)}clone(){const t=new Mt;return this._map.forEach(((n,e)=>{n.forEach((n=>{var i;t.add(e,\"object\"==typeof(i=n)&&null!==i&&\"clone\"in i&&\"function\"==typeof i.clone?n.clone():n)}))})),t}traverse(t){this._map.forEach(((n,e)=>{t(e,n)}))}_checkNonNulish(t){if(null==t)throw new Error(D)}_setValue(t,n){n.length>0?this._map.set(t,n):this._map.delete(t)}}class Bt{_map=new Map;remove(t){const n=this._map.get(t);return void 0===n?this._getEmptyHandlersStore():(this._map.delete(t),n)}addDeactivation(t,n,e){this._getModuleActivationHandlers(t).onDeactivations.add(n,e)}addActivation(t,n,e){this._getModuleActivationHandlers(t).onActivations.add(n,e)}clone(){const t=new Bt;return this._map.forEach(((n,e)=>{t._map.set(e,{onActivations:n.onActivations.clone(),onDeactivations:n.onDeactivations.clone()})})),t}_getModuleActivationHandlers(t){let n=this._map.get(t);return void 0===n&&(n=this._getEmptyHandlersStore(),this._map.set(t,n)),n}_getEmptyHandlersStore(){return{onActivations:new Mt,onDeactivations:new Mt}}}class Pt{id;parent;options;_middleware;_bindingDictionary;_activations;_deactivations;_snapshots;_metadataReader;_moduleActivationStore;constructor(t){const n=t||{};if(\"object\"!=typeof n)throw new Error(\"Invalid Container constructor argument. Container options must be an object.\");if(void 0===n.defaultScope)n.defaultScope=b.Transient;else if(n.defaultScope!==b.Singleton&&n.defaultScope!==b.Transient&&n.defaultScope!==b.Request)throw new Error('Invalid Container option. Default scope must be a string (\"singleton\" or \"transient\").');if(void 0===n.autoBindInjectable)n.autoBindInjectable=!1;else if(\"boolean\"!=typeof n.autoBindInjectable)throw new Error(\"Invalid Container option. Auto bind injectable must be a boolean\");if(void 0===n.skipBaseClassChecks)n.skipBaseClassChecks=!1;else if(\"boolean\"!=typeof n.skipBaseClassChecks)throw new Error(\"Invalid Container option. Skip base check must be a boolean\");this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=S(),this._bindingDictionary=new Mt,this._snapshots=[],this._middleware=null,this._activations=new Mt,this._deactivations=new Mt,this.parent=null,this._metadataReader=new M,this._moduleActivationStore=new Bt}static merge(t,n,...e){const i=new Pt,r=[t,n,...e].map((t=>U(t))),s=U(i);return r.forEach((t=>{var n;n=s,t.traverse(((t,e)=>{e.forEach((t=>{n.add(t.serviceIdentifier,t.clone())}))}))})),i}load(...t){const n=this._getContainerModuleHelpersFactory();for(const e of t){const t=n(e.id);e.registry(t.bindFunction,t.unbindFunction,t.isboundFunction,t.rebindFunction,t.unbindAsyncFunction,t.onActivationFunction,t.onDeactivationFunction)}}async loadAsync(...t){const n=this._getContainerModuleHelpersFactory();for(const e of t){const t=n(e.id);await e.registry(t.bindFunction,t.unbindFunction,t.isboundFunction,t.rebindFunction,t.unbindAsyncFunction,t.onActivationFunction,t.onDeactivationFunction)}}unload(...t){t.forEach((t=>{const n=this._removeModuleBindings(t.id);this._deactivateSingletons(n),this._removeModuleHandlers(t.id)}))}async unloadAsync(...t){for(const n of t){const t=this._removeModuleBindings(n.id);await this._deactivateSingletonsAsync(t),this._removeModuleHandlers(n.id)}}bind(t){return this._bind(this._buildBinding(t))}rebind(t){return this.unbind(t),this.bind(t)}async rebindAsync(t){return await this.unbindAsync(t),this.bind(t)}unbind(t){if(this._bindingDictionary.hasKey(t)){const n=this._bindingDictionary.get(t);this._deactivateSingletons(n)}this._removeServiceFromDictionary(t)}async unbindAsync(t){if(this._bindingDictionary.hasKey(t)){const n=this._bindingDictionary.get(t);await this._deactivateSingletonsAsync(n)}this._removeServiceFromDictionary(t)}unbindAll(){this._bindingDictionary.traverse(((t,n)=>{this._deactivateSingletons(n)})),this._bindingDictionary=new Mt}async unbindAllAsync(){const t=[];this._bindingDictionary.traverse(((n,e)=>{t.push(this._deactivateSingletonsAsync(e))})),await Promise.all(t),this._bindingDictionary=new Mt}onActivation(t,n){this._activations.add(t,n)}onDeactivation(t,n){this._deactivations.add(t,n)}isBound(t){let n=this._bindingDictionary.hasKey(t);return!n&&this.parent&&(n=this.parent.isBound(t)),n}isCurrentBound(t){return this._bindingDictionary.hasKey(t)}isBoundNamed(t,n){return this.isBoundTagged(t,s,n)}isBoundTagged(t,n,s){let o=!1;if(this._bindingDictionary.hasKey(t)){const a=this._bindingDictionary.get(t),c=function(t,n,s){const o=Y(n,s),a=e(o);if(a.kind===i.unmanaged)throw new Error(\"Unexpected metadata when creating target\");const c=new r(\"\",a,\"Variable\"),d=new V(t);return new H(n,d,null,[],c)}(this,t,{customTag:{key:n,value:s},isMultiInject:!1});o=a.some((t=>t.constraint(c)))}return!o&&this.parent&&(o=this.parent.isBoundTagged(t,n,s)),o}snapshot(){this._snapshots.push(Et.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))}restore(){const t=this._snapshots.pop();if(void 0===t)throw new Error(\"No snapshot available to restore.\");this._bindingDictionary=t.bindings,this._activations=t.activations,this._deactivations=t.deactivations,this._middleware=t.middleware,this._moduleActivationStore=t.moduleActivationStore}createChild(t){const n=new Pt(t||this.options);return n.parent=this,n}applyMiddleware(...t){const n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(((t,n)=>n(t)),n)}applyCustomMetadataReader(t){this._metadataReader=t}get(t){const n=this._getNotAllArgs(t,!1,!1);return this._getButThrowIfAsync(n)}async getAsync(t){const n=this._getNotAllArgs(t,!1,!1);return this._get(n)}getTagged(t,n,e){const i=this._getNotAllArgs(t,!1,!1,n,e);return this._getButThrowIfAsync(i)}async getTaggedAsync(t,n,e){const i=this._getNotAllArgs(t,!1,!1,n,e);return this._get(i)}getNamed(t,n){return this.getTagged(t,s,n)}async getNamedAsync(t,n){return this.getTaggedAsync(t,s,n)}getAll(t,n){const e=this._getAllArgs(t,n,!1);return this._getButThrowIfAsync(e)}async getAllAsync(t,n){const e=this._getAllArgs(t,n,!1);return this._getAll(e)}getAllTagged(t,n,e){const i=this._getNotAllArgs(t,!0,!1,n,e);return this._getButThrowIfAsync(i)}async getAllTaggedAsync(t,n,e){const i=this._getNotAllArgs(t,!0,!1,n,e);return this._getAll(i)}getAllNamed(t,n){return this.getAllTagged(t,s,n)}async getAllNamedAsync(t,n){return this.getAllTaggedAsync(t,s,n)}resolve(t){const n=this.isBound(t);n||this.bind(t).toSelf();const e=this.get(t);return n||this.unbind(t),e}tryGet(t){const n=this._getNotAllArgs(t,!1,!0);return this._getButThrowIfAsync(n)}async tryGetAsync(t){const n=this._getNotAllArgs(t,!1,!0);return this._get(n)}tryGetTagged(t,n,e){const i=this._getNotAllArgs(t,!1,!0,n,e);return this._getButThrowIfAsync(i)}async tryGetTaggedAsync(t,n,e){const i=this._getNotAllArgs(t,!1,!0,n,e);return this._get(i)}tryGetNamed(t,n){return this.tryGetTagged(t,s,n)}async tryGetNamedAsync(t,n){return this.tryGetTaggedAsync(t,s,n)}tryGetAll(t,n){const e=this._getAllArgs(t,n,!0);return this._getButThrowIfAsync(e)}async tryGetAllAsync(t,n){const e=this._getAllArgs(t,n,!0);return this._getAll(e)}tryGetAllTagged(t,n,e){const i=this._getNotAllArgs(t,!0,!0,n,e);return this._getButThrowIfAsync(i)}async tryGetAllTaggedAsync(t,n,e){const i=this._getNotAllArgs(t,!0,!0,n,e);return this._getAll(i)}tryGetAllNamed(t,n){return this.tryGetAllTagged(t,s,n)}async tryGetAllNamedAsync(t,n){return this.tryGetAllTaggedAsync(t,s,n)}_preDestroy(t,n){if(void 0!==t&&Reflect.hasMetadata(f,t)){const e=Reflect.getMetadata(f,t);return n[e.value]?.()}}_removeModuleHandlers(t){const n=this._moduleActivationStore.remove(t);this._activations.removeIntersection(n.onActivations),this._deactivations.removeIntersection(n.onDeactivations)}_removeModuleBindings(t){return this._bindingDictionary.removeByCondition((n=>n.moduleId===t))}_deactivate(t,n){const e=null==n?void 0:Object.getPrototypeOf(n).constructor;try{if(this._deactivations.hasKey(t.serviceIdentifier)){const i=this._deactivateContainer(n,this._deactivations.get(t.serviceIdentifier).values());if(X(i))return this._handleDeactivationError(i.then((async()=>this._propagateContainerDeactivationThenBindingAndPreDestroyAsync(t,n,e))),t.serviceIdentifier)}const i=this._propagateContainerDeactivationThenBindingAndPreDestroy(t,n,e);if(X(i))return this._handleDeactivationError(i,t.serviceIdentifier)}catch(n){if(n instanceof Error)throw new Error(E(k(t.serviceIdentifier),n.message))}}async _handleDeactivationError(t,n){try{await t}catch(t){if(t instanceof Error)throw new Error(E(k(n),t.message))}}_deactivateContainer(t,n){let e=n.next();for(;\"function\"==typeof e.value;){const i=e.value(t);if(X(i))return i.then((async()=>this._deactivateContainerAsync(t,n)));e=n.next()}}async _deactivateContainerAsync(t,n){let e=n.next();for(;\"function\"==typeof e.value;)await e.value(t),e=n.next()}_getContainerModuleHelpersFactory(){const t=t=>n=>{const e=this._buildBinding(n);return e.moduleId=t,this._bind(e)},n=()=>t=>{this.unbind(t)},e=()=>async t=>this.unbindAsync(t),i=()=>t=>this.isBound(t),r=n=>{const e=t(n);return t=>(this.unbind(t),e(t))},s=t=>(n,e)=>{this._moduleActivationStore.addActivation(t,n,e),this.onActivation(n,e)},o=t=>(n,e)=>{this._moduleActivationStore.addDeactivation(t,n,e),this.onDeactivation(n,e)};return a=>({bindFunction:t(a),isboundFunction:i(),onActivationFunction:s(a),onDeactivationFunction:o(a),rebindFunction:r(a),unbindAsyncFunction:e(),unbindFunction:n()})}_bind(t){return this._bindingDictionary.add(t.serviceIdentifier,t),new Rt(t)}_buildBinding(t){const n=this.options.defaultScope||b.Transient;return new I(t,n)}async _getAll(t){return Promise.all(this._get(t))}_get(t){const n={...t,contextInterceptor:t=>t,targetType:m.Variable};if(this._middleware){const t=this._middleware(n);if(null==t)throw new Error(\"Invalid return type in middleware. Middleware must return!\");return t}return this._planAndResolve()(n)}_getButThrowIfAsync(t){const n=this._get(t);if(Z(n))throw new Error(`You are attempting to construct ${function(t){return\"function\"==typeof t?`[function/class ${t.name||\"<anonymous>\"}]`:\"symbol\"==typeof t?t.toString():`'${t}'`}(t.serviceIdentifier)} in a synchronous way but it has asynchronous dependencies.`);return n}_getAllArgs(t,n,e){return{avoidConstraints:!n?.enforceBindingConstraints,isMultiInject:!0,isOptional:e,serviceIdentifier:t}}_getNotAllArgs(t,n,e,i,r){return{avoidConstraints:!1,isMultiInject:n,isOptional:e,key:i,serviceIdentifier:t,value:r}}_getPlanMetadataFromNextArgs(t){const n={isMultiInject:t.isMultiInject};return void 0!==t.key&&(n.customTag={key:t.key,value:t.value}),!0===t.isOptional&&(n.isOptional=!0),n}_planAndResolve(){return t=>{let n=Q(this._metadataReader,this,t.targetType,t.serviceIdentifier,this._getPlanMetadataFromNextArgs(t),t.avoidConstraints);n=t.contextInterceptor(n);const e=function(t){return ut(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}(n);return e}}_deactivateIfSingleton(t){if(t.activated)return X(t.cache)?t.cache.then((n=>this._deactivate(t,n))):this._deactivate(t,t.cache)}_deactivateSingletons(t){for(const n of t){if(X(this._deactivateIfSingleton(n)))throw new Error(\"Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)\")}}async _deactivateSingletonsAsync(t){await Promise.all(t.map((async t=>this._deactivateIfSingleton(t))))}_propagateContainerDeactivationThenBindingAndPreDestroy(t,n,e){return this.parent?this._deactivate.bind(this.parent)(t,n):this._bindingDeactivationAndPreDestroy(t,n,e)}async _propagateContainerDeactivationThenBindingAndPreDestroyAsync(t,n,e){this.parent?await this._deactivate.bind(this.parent)(t,n):await this._bindingDeactivationAndPreDestroyAsync(t,n,e)}_removeServiceFromDictionary(t){try{this._bindingDictionary.remove(t)}catch(n){throw new Error(`Could not unbind serviceIdentifier: ${k(t)}`)}}_bindingDeactivationAndPreDestroy(t,n,e){if(\"function\"==typeof t.onDeactivation){const i=t.onDeactivation(n);if(X(i))return i.then((()=>this._preDestroy(e,n)))}return this._preDestroy(e,n)}async _bindingDeactivationAndPreDestroyAsync(t,n,e){\"function\"==typeof t.onDeactivation&&await t.onDeactivation(n),await this._preDestroy(e,n)}}class kt{id;registry;constructor(t){this.id=S(),this.registry=t}}class qt{id;registry;constructor(t){this.id=S(),this.registry=t}}function Ft(t,n,e,i){!function(t){if(void 0!==t)throw new Error(R)}(n),Ot(h,t,e.toString(),i)}function jt(t){let n=[];if(Array.isArray(t)){n=t;const e=function(t){const n=new Set;for(const e of t){if(n.has(e))return e;n.add(e)}}(n.map((t=>t.key)));if(void 0!==e)throw new Error(`${T} ${e.toString()}`)}else n=[t];return n}function Ot(t,n,e,i){const r=jt(i);let s={};Reflect.hasOwnMetadata(t,n)&&(s=Reflect.getMetadata(t,n));let o=s[e];if(void 0===o)o=[];else for(const t of o)if(r.some((n=>n.key===t.key)))throw new Error(`${T} ${t.key.toString()}`);o.push(...r),s[e]=o,Reflect.defineMetadata(t,s,n)}function $t(t){return(n,e,i)=>{\"number\"==typeof i?Ft(n,e,i,t):function(t,n,e){if(void 0!==t.prototype)throw new Error(R);Ot(l,t.constructor,n,e)}(n,e,t)}}function Vt(t,n){Reflect.decorate(t,n)}function Wt(t,n){return function(e,i){n(e,i,t)}}function Gt(t,n,e){\"number\"==typeof e?Vt([Wt(e,t)],n):\"string\"==typeof e?Reflect.decorate([t],n,e):Vt([t],n)}function Kt(){return function(t){if(Reflect.hasOwnMetadata(g,t))throw new Error(\"Cannot apply @injectable decorator multiple times.\");const n=Reflect.getMetadata(y,t)||[];return Reflect.defineMetadata(g,n,t),t}}function Ht(t,n){return $t(new W(t,n))}function Ut(t){return $t(new W(s,t))}function Lt(t){return n=>(e,i,r)=>{if(void 0===n){const t=\"function\"==typeof e?e.name:e.constructor.name;throw new Error(`@inject called with undefined this could mean that the class ${t} has a circular dependency problem. You can use a LazyServiceIdentifer to overcome this limitation.`)}$t(new W(t,n))(e,i,r)}}const Yt=Lt(d);function zt(){return $t(new W(c,!0))}function Jt(){return function(t,n,e){Ft(t,n,e,new W(a,!0))}}const Qt=Lt(u);function Xt(t){return function(n,e,i){Ft(n,e,i,new W(o,t))}}function Zt(t,n){return()=>(e,i)=>{const r=new W(t,i);if(Reflect.hasOwnMetadata(t,e.constructor))throw new Error(n);Reflect.defineMetadata(t,r,e.constructor)}}const tn=Zt(p,\"Cannot apply @postConstruct decorator multiple times in the same class\"),nn=Zt(f,\"Cannot apply @preDestroy decorator multiple times in the same class\"),en=t,rn=v;export{qt as AsyncContainerModule,b as BindingScopeEnum,w as BindingTypeEnum,Pt as Container,kt as ContainerModule,en as LazyServiceIdentifer,rn as METADATA_KEY,M as MetadataReader,m as TargetTypeEnum,$t as createTaggedDecorator,Gt as decorate,k as getServiceIdentifierAsString,S as id,Yt as inject,Kt as injectable,rt as multiBindToService,Qt as multiInject,Ut as named,St as namedConstraint,zt as optional,tn as postConstruct,nn as preDestroy,Ht as tagged,At as taggedConstraint,Xt as targetName,mt as traverseAncerstors,It as typeConstraint,Jt as unmanaged};\n//# sourceMappingURL=index.js.map\n","export const TYPES = {\n  // Infrastructure\n  Logger: Symbol.for('Logger'),\n\n  // Repositories\n  OrderRepository: Symbol.for('OrderRepository'),\n  ProductRepository: Symbol.for('ProductRepository'),\n  ProviderRepository: Symbol.for('ProviderRepository'),\n\n  // Services\n  AnalyticsService: Symbol.for('AnalyticsService'),\n\n  // ViewModels\n  DashboardViewModel: Symbol.for('DashboardViewModel'),\n} as const;","import { ILogger } from '@/core/domain/logging/ILogger';\n\nexport class ConsoleLogger implements ILogger {\n  private formatMessage(level: string, message: string, ...args: any[]): string {\n    const timestamp = new Date().toISOString();\n    const formattedArgs = args.map(arg => \n      arg instanceof Error \n        ? `${arg.name}: ${arg.message}\\n${arg.stack}` \n        : JSON.stringify(arg)\n    ).join(' ');\n    \n    return `[${timestamp}] [${level}] ${message} ${formattedArgs}`.trim();\n  }\n\n  debug(message: string, ...args: any[]): void {\n    if (import.meta.env.DEV) {\n      console.debug(this.formatMessage('DEBUG', message, ...args));\n    }\n  }\n\n  info(message: string, ...args: any[]): void {\n    console.info(this.formatMessage('INFO', message, ...args));\n  }\n\n  warn(message: string, ...args: any[]): void {\n    console.warn(this.formatMessage('WARN', message, ...args));\n  }\n\n  error(message: string, error?: Error, ...args: any[]): void {\n    console.error(this.formatMessage('ERROR', message, error, ...args));\n  }\n}","export abstract class BaseError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(message, options);\n    this.name = this.constructor.name;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}","import { BaseError } from './BaseError';\n\nexport class DatabaseError extends BaseError {\n  constructor(message: string, options?: ErrorOptions) {\n    super(message, options);\n    this.name = 'DatabaseError';\n  }\n}","import { ref, push, update, remove, query, orderByChild, equalTo, onValue, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { auth } from '@/lib/firebase/auth';\nimport { Order } from '@/core/domain/entities';\nimport { IOrderRepository } from '@/core/domain/repositories/IOrderRepository';\nimport { DatabaseError } from '@/core/domain/errors';\n\nexport class FirebaseOrderRepository implements IOrderRepository {\n  private readonly COLLECTION = 'orders';\n\n  private checkAuth() {\n    if (!auth.currentUser) {\n      throw new DatabaseError('User not authenticated');\n    }\n  }\n\n  async getAll(): Promise<Order[]> {\n    try {\n      this.checkAuth();\n      const ordersRef = ref(db, this.COLLECTION);\n      const snapshot = await get(ordersRef);\n      \n      if (!snapshot.exists()) {\n        return [];\n      }\n\n      return Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Order, 'id'>)\n      }));\n    } catch (error) {\n      if (error instanceof DatabaseError) {\n        throw error;\n      }\n      throw new DatabaseError('Failed to fetch orders', { cause: error });\n    }\n  }\n\n  async getById(id: string): Promise<Order | null> {\n    try {\n      this.checkAuth();\n      const orderRef = ref(db, `${this.COLLECTION}/${id}`);\n      const snapshot = await get(orderRef);\n      \n      if (!snapshot.exists()) {\n        return null;\n      }\n\n      return {\n        id,\n        ...snapshot.val()\n      } as Order;\n    } catch (error) {\n      if (error instanceof DatabaseError) {\n        throw error;\n      }\n      throw new DatabaseError('Failed to fetch order', { cause: error });\n    }\n  }\n\n  async getByProvider(providerId: string): Promise<Order[]> {\n    try {\n      this.checkAuth();\n      const ordersRef = ref(db, this.COLLECTION);\n      const providerOrdersQuery = query(\n        ordersRef,\n        orderByChild('providerId'),\n        equalTo(providerId)\n      );\n\n      const snapshot = await get(providerOrdersQuery);\n      \n      if (!snapshot.exists()) {\n        return [];\n      }\n\n      return Object.entries(snapshot.val())\n        .map(([id, data]) => ({\n          id,\n          ...(data as Omit<Order, 'id'>)\n        }))\n        .sort((a, b) => b.date - a.date);\n    } catch (error) {\n      if (error instanceof DatabaseError) {\n        throw error;\n      }\n      throw new DatabaseError('Failed to fetch provider orders', { cause: error });\n    }\n  }\n\n  async create(order: Omit<Order, 'id'>): Promise<string> {\n    try {\n      this.checkAuth();\n      const ordersRef = ref(db, this.COLLECTION);\n      const newOrderRef = push(ordersRef);\n      \n      if (!newOrderRef.key) {\n        throw new DatabaseError('Failed to generate order ID');\n      }\n\n      await update(newOrderRef, order);\n      return newOrderRef.key;\n    } catch (error) {\n      if (error instanceof DatabaseError) {\n        throw error;\n      }\n      throw new DatabaseError('Failed to create order', { cause: error });\n    }\n  }\n\n  async update(id: string, updates: Partial<Order>): Promise<void> {\n    try {\n      this.checkAuth();\n      const orderRef = ref(db, `${this.COLLECTION}/${id}`);\n      await update(orderRef, updates);\n    } catch (error) {\n      if (error instanceof DatabaseError) {\n        throw error;\n      }\n      throw new DatabaseError('Failed to update order', { cause: error });\n    }\n  }\n\n  async delete(id: string): Promise<void> {\n    try {\n      this.checkAuth();\n      const orderRef = ref(db, `${this.COLLECTION}/${id}`);\n      await remove(orderRef);\n    } catch (error) {\n      if (error instanceof DatabaseError) {\n        throw error;\n      }\n      throw new DatabaseError('Failed to delete order', { cause: error });\n    }\n  }\n\n  subscribeToProviderOrders(\n    providerId: string,\n    callback: (orders: Order[]) => void\n  ): () => void {\n    try {\n      this.checkAuth();\n      const ordersRef = ref(db, this.COLLECTION);\n      const providerOrdersQuery = query(\n        ordersRef,\n        orderByChild('providerId'),\n        equalTo(providerId)\n      );\n\n      const unsubscribe = onValue(providerOrdersQuery, (snapshot) => {\n        if (!snapshot.exists()) {\n          callback([]);\n          return;\n        }\n\n        const orders = Object.entries(snapshot.val())\n          .map(([id, data]) => ({\n            id,\n            ...(data as Omit<Order, 'id'>)\n          }))\n          .sort((a, b) => b.date - a.date);\n\n        callback(orders);\n      });\n\n      return unsubscribe;\n    } catch (error) {\n      if (error instanceof DatabaseError) {\n        throw error;\n      }\n      throw new DatabaseError('Failed to subscribe to provider orders', { cause: error });\n    }\n  }\n}","import { Product } from '@/types';\n\nexport interface ValidationError {\n  field: string;\n  message: string;\n}\n\nexport function validateProduct(data: Omit<Product, 'id'>): ValidationError | null {\n  // Required fields\n  if (!data.name?.trim()) {\n    return { field: 'name', message: 'El nombre es requerido' };\n  }\n\n  if (!data.sku?.trim()) {\n    return { field: 'sku', message: 'El SKU es requerido' };\n  }\n\n  if (!data.purchasePackaging?.trim()) {\n    return { field: 'purchasePackaging', message: 'El empaque de compra es requerido' };\n  }\n\n  if (!data.providerId) {\n    return { field: 'providerId', message: 'El proveedor es requerido' };\n  }\n\n  // Stock validation\n  if (typeof data.minPackageStock !== 'number' || isNaN(data.minPackageStock)) {\n    return { field: 'minPackageStock', message: 'El stock mínimo debe ser un número válido' };\n  }\n\n  if (typeof data.desiredStock !== 'number' || isNaN(data.desiredStock)) {\n    return { field: 'desiredStock', message: 'El stock deseado debe ser un número válido' };\n  }\n\n  if (data.minPackageStock < 0) {\n    return { field: 'minPackageStock', message: 'El stock mínimo no puede ser negativo' };\n  }\n\n  if (data.desiredStock < 0) {\n    return { field: 'desiredStock', message: 'El stock deseado no puede ser negativo' };\n  }\n\n  if (data.minPackageStock > data.desiredStock) {\n    return { field: 'minPackageStock', message: 'El stock mínimo no puede ser mayor al stock deseado' };\n  }\n\n  // Price validation - allow zero or positive numbers\n  if (typeof data.price !== 'number' || isNaN(data.price)) {\n    return { field: 'price', message: 'El precio debe ser un número válido' };\n  }\n\n  if (data.price < 0) {\n    return { field: 'price', message: 'El precio no puede ser negativo' };\n  }\n\n  // Order validation\n  if (typeof data.order !== 'number' || isNaN(data.order)) {\n    return { field: 'order', message: 'El orden debe ser un número válido' };\n  }\n\n  return null;\n}\n\nexport function formatProductData(data: Omit<Product, 'id'>): Omit<Product, 'id'> {\n  return {\n    name: data.name.trim().toUpperCase(),\n    sku: data.sku.trim().toUpperCase(),\n    supplierCode: data.supplierCode?.trim().toUpperCase() || '',\n    purchasePackaging: data.purchasePackaging.trim().toUpperCase(),\n    salePackaging: data.salePackaging?.trim().toUpperCase() || '',\n    price: Number(data.price),\n    minPackageStock: Number(data.minPackageStock),\n    desiredStock: Number(data.desiredStock),\n    order: Number(data.order),\n    providerId: data.providerId,\n    tags: data.tags || []\n  };\n}","import { ref, push, update, remove, query, orderByChild, equalTo, onValue, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { auth } from '@/lib/firebase/auth';\nimport { Product } from '@/types';\nimport { DatabaseError } from '@/core/domain/errors';\nimport { validateProduct } from '@/lib/validation/productValidation';\n\nexport class FirebaseProductRepository {\n  private readonly COLLECTION = 'products';\n\n  private checkAuth() {\n    if (!auth.currentUser) {\n      throw new DatabaseError('User not authenticated');\n    }\n  }\n\n  async getAll(): Promise<Product[]> {\n    try {\n      this.checkAuth();\n      const productsRef = ref(db, this.COLLECTION);\n      const snapshot = await get(productsRef);\n      \n      if (!snapshot.exists()) {\n        return [];\n      }\n\n      return Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Product, 'id'>)\n      }));\n    } catch (error) {\n      throw new DatabaseError('Failed to fetch products', { cause: error });\n    }\n  }\n\n  async getById(id: string): Promise<Product | null> {\n    try {\n      this.checkAuth();\n      const productRef = ref(db, `${this.COLLECTION}/${id}`);\n      const snapshot = await get(productRef);\n      \n      if (!snapshot.exists()) {\n        return null;\n      }\n\n      return {\n        id,\n        ...snapshot.val()\n      } as Product;\n    } catch (error) {\n      throw new DatabaseError('Failed to fetch product', { cause: error });\n    }\n  }\n\n  async getByProvider(providerId: string): Promise<Product[]> {\n    try {\n      this.checkAuth();\n      const productsRef = ref(db, this.COLLECTION);\n      const providerProductsQuery = query(\n        productsRef,\n        orderByChild('providerId'),\n        equalTo(providerId)\n      );\n\n      const snapshot = await get(providerProductsQuery);\n      \n      if (!snapshot.exists()) {\n        return [];\n      }\n\n      return Object.entries(snapshot.val())\n        .map(([id, data]) => ({\n          id,\n          ...(data as Omit<Product, 'id'>)\n        }))\n        .sort((a, b) => a.order - b.order);\n    } catch (error) {\n      throw new DatabaseError('Failed to fetch provider products', { cause: error });\n    }\n  }\n\n  async create(product: Omit<Product, 'id'>): Promise<string> {\n    try {\n      this.checkAuth();\n\n      // Validate product data\n      const validationError = validateProduct(product);\n      if (validationError) {\n        throw new DatabaseError(validationError.message);\n      }\n\n      const productsRef = ref(db, this.COLLECTION);\n      const newProductRef = push(productsRef);\n      \n      if (!newProductRef.key) {\n        throw new DatabaseError('Failed to generate product ID');\n      }\n\n      // Format data for saving\n      const productData: Record<string, any> = {\n        name: product.name.trim().toUpperCase(),\n        sku: product.sku.trim().toUpperCase(),\n        supplierCode: product.supplierCode?.trim().toUpperCase() || '',\n        purchasePackaging: product.purchasePackaging.trim().toUpperCase(),\n        salePackaging: product.salePackaging?.trim().toUpperCase() || '',\n        price: Number(product.price) || 0,\n        minPackageStock: Number(product.minPackageStock) || 0,\n        desiredStock: Number(product.desiredStock) || 0,\n        order: Number(product.order) || 0,\n        providerId: product.providerId,\n        tags: Array.isArray(product.tags) ? product.tags : [],\n        isProduction: Boolean(product.isProduction)\n      };\n\n      // Only add production-specific fields if it's a production product\n      if (product.isProduction) {\n        productData.unitMeasure = product.unitMeasure?.trim().toUpperCase() || 'UNIDAD';\n        productData.pricePerUnit = Number(product.pricePerUnit) || 0;\n      }\n\n      await update(newProductRef, productData);\n      return newProductRef.key;\n    } catch (error) {\n      throw new DatabaseError('Failed to create product', { cause: error });\n    }\n  }\n\n  async update(id: string, updates: Partial<Product>): Promise<void> {\n    try {\n      this.checkAuth();\n\n      // Get current product data\n      const productRef = ref(db, `${this.COLLECTION}/${id}`);\n      const snapshot = await get(productRef);\n      \n      if (!snapshot.exists()) {\n        throw new DatabaseError('Product not found');\n      }\n\n      const currentProduct = snapshot.val();\n      \n      // Merge and format data\n      const updatedProduct: Record<string, any> = {\n        ...currentProduct,\n        ...updates,\n        name: updates.name?.trim().toUpperCase() ?? currentProduct.name,\n        sku: updates.sku?.trim().toUpperCase() ?? currentProduct.sku,\n        supplierCode: updates.supplierCode?.trim().toUpperCase() ?? currentProduct.supplierCode ?? '',\n        purchasePackaging: updates.purchasePackaging?.trim().toUpperCase() ?? currentProduct.purchasePackaging,\n        salePackaging: updates.salePackaging?.trim().toUpperCase() ?? currentProduct.salePackaging ?? '',\n        price: typeof updates.price === 'number' ? Number(updates.price) : currentProduct.price,\n        minPackageStock: typeof updates.minPackageStock === 'number' ? Number(updates.minPackageStock) : currentProduct.minPackageStock,\n        desiredStock: typeof updates.desiredStock === 'number' ? Number(updates.desiredStock) : currentProduct.desiredStock,\n        order: typeof updates.order === 'number' ? Number(updates.order) : currentProduct.order,\n        tags: updates.tags ?? currentProduct.tags ?? [],\n        isProduction: typeof updates.isProduction === 'boolean' ? updates.isProduction : currentProduct.isProduction\n      };\n\n      // Handle production-specific fields\n      if (updatedProduct.isProduction) {\n        updatedProduct.unitMeasure = updates.unitMeasure?.trim().toUpperCase() ?? currentProduct.unitMeasure ?? 'UNIDAD';\n        updatedProduct.pricePerUnit = typeof updates.pricePerUnit === 'number' ? Number(updates.pricePerUnit) : currentProduct.pricePerUnit ?? 0;\n      } else {\n        // Remove production fields if not a production product\n        delete updatedProduct.unitMeasure;\n        delete updatedProduct.pricePerUnit;\n      }\n\n      // Validate complete product data\n      const validationError = validateProduct(updatedProduct);\n      if (validationError) {\n        throw new DatabaseError(validationError.message);\n      }\n\n      // Update the product\n      await update(productRef, updatedProduct);\n    } catch (error) {\n      throw new DatabaseError('Failed to update product', { cause: error });\n    }\n  }\n\n  async delete(id: string): Promise<void> {\n    try {\n      this.checkAuth();\n      const productRef = ref(db, `${this.COLLECTION}/${id}`);\n      await remove(productRef);\n    } catch (error) {\n      throw new DatabaseError('Failed to delete product', { cause: error });\n    }\n  }\n\n  subscribeToProviderProducts(\n    providerId: string,\n    callback: (products: Product[]) => void\n  ): () => void {\n    try {\n      this.checkAuth();\n      const productsRef = ref(db, this.COLLECTION);\n      const providerProductsQuery = query(\n        productsRef,\n        orderByChild('providerId'),\n        equalTo(providerId)\n      );\n\n      const unsubscribe = onValue(providerProductsQuery, (snapshot) => {\n        if (!snapshot.exists()) {\n          callback([]);\n          return;\n        }\n\n        const products = Object.entries(snapshot.val())\n          .map(([id, data]) => ({\n            id,\n            ...(data as Omit<Product, 'id'>)\n          }))\n          .sort((a, b) => a.order - b.order);\n\n        callback(products);\n      });\n\n      return unsubscribe;\n    } catch (error) {\n      throw new DatabaseError('Failed to subscribe to provider products', { cause: error });\n    }\n  }\n}","import { ref, push, update, remove, onValue, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Provider } from '@/core/domain/entities';\nimport { IProviderRepository } from '@/core/domain/repositories/IProviderRepository';\nimport { DatabaseError } from '@/core/domain/errors';\n\nexport class FirebaseProviderRepository implements IProviderRepository {\n  private readonly COLLECTION = 'providers';\n\n  async getAll(): Promise<Provider[]> {\n    try {\n      const providersRef = ref(db, this.COLLECTION);\n      const snapshot = await get(providersRef);\n      \n      if (!snapshot.exists()) {\n        return [];\n      }\n\n      return Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Provider, 'id'>)\n      }));\n    } catch (error) {\n      throw new DatabaseError('Failed to fetch providers', { cause: error });\n    }\n  }\n\n  async getById(id: string): Promise<Provider | null> {\n    try {\n      const providerRef = ref(db, `${this.COLLECTION}/${id}`);\n      const snapshot = await get(providerRef);\n      \n      if (!snapshot.exists()) {\n        return null;\n      }\n\n      return {\n        id,\n        ...snapshot.val()\n      } as Provider;\n    } catch (error) {\n      throw new DatabaseError('Failed to fetch provider', { cause: error });\n    }\n  }\n\n  async create(provider: Omit<Provider, 'id'>): Promise<string> {\n    try {\n      const providersRef = ref(db, this.COLLECTION);\n      const newProviderRef = push(providersRef);\n      \n      if (!newProviderRef.key) {\n        throw new DatabaseError('Failed to generate provider ID');\n      }\n\n      await update(newProviderRef, provider);\n      return newProviderRef.key;\n    } catch (error) {\n      throw new DatabaseError('Failed to create provider', { cause: error });\n    }\n  }\n\n  async update(id: string, updates: Partial<Provider>): Promise<void> {\n    try {\n      const providerRef = ref(db, `${this.COLLECTION}/${id}`);\n      await update(providerRef, updates);\n    } catch (error) {\n      throw new DatabaseError('Failed to update provider', { cause: error });\n    }\n  }\n\n  async delete(id: string): Promise<void> {\n    try {\n      const providerRef = ref(db, `${this.COLLECTION}/${id}`);\n      await remove(providerRef);\n    } catch (error) {\n      throw new DatabaseError('Failed to delete provider', { cause: error });\n    }\n  }\n\n  subscribeToProviders(callback: (providers: Provider[]) => void): () => void {\n    const providersRef = ref(db, this.COLLECTION);\n\n    const unsubscribe = onValue(providersRef, (snapshot) => {\n      if (!snapshot.exists()) {\n        callback([]);\n        return;\n      }\n\n      const providers = Object.entries(snapshot.val())\n        .map(([id, data]) => ({\n          id,\n          ...(data as Omit<Provider, 'id'>)\n        }));\n\n      callback(providers);\n    });\n\n    return unsubscribe;\n  }\n}","import { Order, Product, Provider } from '@/core/domain/entities';\nimport { IOrderRepository } from '@/core/domain/repositories/IOrderRepository';\nimport { IProductRepository } from '@/core/domain/repositories/IProductRepository';\nimport { IProviderRepository } from '@/core/domain/repositories/IProviderRepository';\nimport { ILogger } from '@/core/domain/logging/ILogger';\nimport { startOfDay, endOfDay, startOfWeek, endOfWeek, startOfMonth, endOfMonth } from 'date-fns';\n\nexport interface OrderStats {\n  total: number;\n  totalAmount: number;\n  averageAmount: number;\n  byStatus: {\n    pending: number;\n    completed: number;\n  };\n}\n\nexport interface ProductStats {\n  id: string;\n  name: string;\n  totalQuantity: number;\n  totalAmount: number;\n  orderCount: number;\n  averageQuantityPerOrder: number;\n  lastOrderDate: number | null;\n}\n\nexport interface ProviderStats {\n  id: string;\n  name: string;\n  totalOrders: number;\n  totalAmount: number;\n  averageOrderAmount: number;\n  lastOrderDate: number | null;\n}\n\nexport interface DashboardStats {\n  orders: {\n    today: OrderStats;\n    week: OrderStats;\n    month: OrderStats;\n  };\n  topProducts: ProductStats[];\n  topProviders: ProviderStats[];\n  totals: {\n    products: number;\n    providers: number;\n    orders: number;\n  };\n}\n\nexport class AnalyticsService {\n  constructor(\n    private orderRepository: IOrderRepository,\n    private productRepository: IProductRepository,\n    private providerRepository: IProviderRepository,\n    private logger: ILogger\n  ) {}\n\n  private calculateOrderStats(orders: Order[]): OrderStats {\n    const total = orders.length;\n    const totalAmount = orders.reduce((sum, order) => sum + order.total, 0);\n\n    return {\n      total,\n      totalAmount,\n      averageAmount: total > 0 ? totalAmount / total : 0,\n      byStatus: {\n        pending: orders.filter(o => o.status === 'pending').length,\n        completed: orders.filter(o => o.status === 'completed').length\n      }\n    };\n  }\n\n  private calculateProductStats(\n    orders: Order[],\n    products: Map<string, Product>\n  ): ProductStats[] {\n    const stats = new Map<string, {\n      name: string;\n      totalQuantity: number;\n      totalAmount: number;\n      orderCount: number;\n      lastOrderDate: number | null;\n    }>();\n\n    // Procesar cada orden\n    for (const order of orders) {\n      for (const item of order.items) {\n        const product = products.get(item.productId);\n        if (!product) continue;\n\n        const current = stats.get(item.productId) || {\n          name: product.name,\n          totalQuantity: 0,\n          totalAmount: 0,\n          orderCount: 0,\n          lastOrderDate: null\n        };\n\n        current.totalQuantity += item.quantity;\n        current.totalAmount += item.subtotal;\n        current.orderCount++;\n        current.lastOrderDate = Math.max(\n          order.date,\n          current.lastOrderDate || 0\n        );\n\n        stats.set(item.productId, current);\n      }\n    }\n\n    return Array.from(stats.entries())\n      .map(([id, data]) => ({\n        id,\n        name: data.name,\n        totalQuantity: data.totalQuantity,\n        totalAmount: data.totalAmount,\n        orderCount: data.orderCount,\n        averageQuantityPerOrder: data.totalQuantity / data.orderCount,\n        lastOrderDate: data.lastOrderDate\n      }))\n      .sort((a, b) => b.totalAmount - a.totalAmount);\n  }\n\n  private calculateProviderStats(\n    orders: Order[],\n    providers: Map<string, Provider>\n  ): ProviderStats[] {\n    const stats = new Map<string, {\n      totalOrders: number;\n      totalAmount: number;\n      lastOrderDate: number | null;\n    }>();\n\n    // Procesar cada orden\n    for (const order of orders) {\n      const provider = providers.get(order.providerId);\n      if (!provider) continue;\n\n      const current = stats.get(order.providerId) || {\n        totalOrders: 0,\n        totalAmount: 0,\n        lastOrderDate: null\n      };\n\n      current.totalOrders++;\n      current.totalAmount += order.total;\n      current.lastOrderDate = Math.max(\n        order.date,\n        current.lastOrderDate || 0\n      );\n\n      stats.set(order.providerId, current);\n    }\n\n    return Array.from(stats.entries())\n      .map(([id, data]) => {\n        const provider = providers.get(id)!;\n        return {\n          id,\n          name: provider.commercialName,\n          totalOrders: data.totalOrders,\n          totalAmount: data.totalAmount,\n          averageOrderAmount: data.totalAmount / data.totalOrders,\n          lastOrderDate: data.lastOrderDate\n        };\n      })\n      .sort((a, b) => b.totalAmount - a.totalAmount);\n  }\n\n  async getDashboardStats(): Promise<DashboardStats> {\n    try {\n      this.logger.debug('Fetching dashboard stats');\n\n      // Obtener todos los datos necesarios\n      const [orders, products, providers] = await Promise.all([\n        this.orderRepository.getAll(),\n        this.productRepository.getAll(),\n        this.providerRepository.getAll()\n      ]);\n\n      // Crear mapas para búsqueda eficiente\n      const productsMap = new Map(products.map(p => [p.id!, p]));\n      const providersMap = new Map(providers.map(p => [p.id!, p]));\n\n      // Calcular rangos de fechas\n      const now = new Date();\n      const weekStart = startOfWeek(now);\n      const weekEnd = endOfWeek(now);\n      const monthStart = startOfMonth(now);\n      const monthEnd = endOfMonth(now);\n\n      // Filtrar órdenes por período\n      const todayOrders = orders.filter(o => {\n        const date = new Date(o.date);\n        return date >= startOfDay(now) && date <= endOfDay(now);\n      });\n\n      const weekOrders = orders.filter(o => {\n        const date = new Date(o.date);\n        return date >= weekStart && date <= weekEnd;\n      });\n\n      const monthOrders = orders.filter(o => {\n        const date = new Date(o.date);\n        return date >= monthStart && date <= monthEnd;\n      });\n\n      // Calcular estadísticas\n      const stats: DashboardStats = {\n        orders: {\n          today: this.calculateOrderStats(todayOrders),\n          week: this.calculateOrderStats(weekOrders),\n          month: this.calculateOrderStats(monthOrders)\n        },\n        topProducts: this.calculateProductStats(orders, productsMap).slice(0, 10),\n        topProviders: this.calculateProviderStats(orders, providersMap).slice(0, 5),\n        totals: {\n          products: products.length,\n          providers: providers.length,\n          orders: orders.length\n        }\n      };\n\n      this.logger.debug('Dashboard stats calculated successfully', {\n        todayOrders: stats.orders.today.total,\n        weekOrders: stats.orders.week.total,\n        monthOrders: stats.orders.month.total,\n        topProducts: stats.topProducts.length,\n        topProviders: stats.topProviders.length\n      });\n\n      return stats;\n\n    } catch (error) {\n      this.logger.error('Error calculating dashboard stats', error as Error);\n      throw error;\n    }\n  }\n}","import { makeAutoObservable, runInAction } from 'mobx';\nimport { AnalyticsService } from '@/core/application/services/AnalyticsService';\nimport { ILogger } from '@/core/domain/logging/ILogger';\nimport { WeekDay } from '@/core/domain/entities';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { toast } from 'react-hot-toast';\nimport { ProductStats, TagStats } from '@/lib/services/analytics';\n\nexport class DashboardViewModel {\n  stats = {\n    orders: {\n      today: { total: 0, totalAmount: 0, averageAmount: 0, byStatus: { pending: 0, completed: 0 } },\n      week: { total: 0, totalAmount: 0, averageAmount: 0, byStatus: { pending: 0, completed: 0 } },\n      month: { total: 0, totalAmount: 0, averageAmount: 0, byStatus: { pending: 0, completed: 0 } }\n    },\n    topProducts: [] as ProductStats[],\n    topProductsByTags: [] as TagStats[],\n    totals: { products: 0, providers: 0, orders: 0 }\n  };\n  loading = true;\n  error: string | null = null;\n  lastUpdate: number | null = null;\n\n  constructor(\n    private analyticsService: AnalyticsService,\n    private logger: ILogger\n  ) {\n    makeAutoObservable(this);\n    this.loadStats(); // Load stats immediately on creation\n  }\n\n  async loadStats() {\n    try {\n      this.loading = true;\n      this.error = null;\n      this.logger.info('Loading dashboard stats');\n\n      const stats = await this.analyticsService.getDashboardStats();\n\n      runInAction(() => {\n        this.stats = {\n          orders: stats.orders || this.stats.orders,\n          topProducts: stats.topProducts || [],\n          topProductsByTags: stats.topProductsByTags || [],\n          totals: stats.totals || this.stats.totals\n        };\n        this.lastUpdate = Date.now();\n      });\n\n      this.logger.debug('Dashboard stats loaded successfully', {\n        todayOrders: stats.orders.today.total,\n        weekOrders: stats.orders.week.total,\n        monthOrders: stats.orders.month.total\n      });\n    } catch (error) {\n      runInAction(() => {\n        this.error = 'Error al cargar las estadísticas';\n      });\n      this.logger.error('Failed to load dashboard stats', error as Error);\n      toast.error(this.error);\n    } finally {\n      runInAction(() => {\n        this.loading = false;\n      });\n    }\n  }\n\n  // Getters para estadísticas de órdenes\n  get todayOrdersCount() {\n    return this.stats.orders.today.total;\n  }\n\n  get todayOrdersAmount() {\n    return this.stats.orders.today.totalAmount;\n  }\n\n  get weekOrdersCount() {\n    return this.stats.orders.week.total;\n  }\n\n  get weekOrdersAmount() {\n    return this.stats.orders.week.totalAmount;\n  }\n\n  get monthOrdersCount() {\n    return this.stats.orders.month.total;\n  }\n\n  get monthOrdersAmount() {\n    return this.stats.orders.month.totalAmount;\n  }\n\n  // Getters para estado de órdenes\n  get pendingOrdersCount() {\n    return this.stats.orders.today.byStatus.pending;\n  }\n\n  get completedOrdersCount() {\n    return this.stats.orders.today.byStatus.completed;\n  }\n\n  // Getters para totales\n  get totalProducts() {\n    return this.stats.totals.products;\n  }\n\n  get totalProviders() {\n    return this.stats.totals.providers;\n  }\n\n  get totalOrders() {\n    return this.stats.totals.orders;\n  }\n\n  // Getters para productos y etiquetas destacados\n  get topProducts() {\n    return this.stats.topProducts || [];\n  }\n\n  get topProductsByTags() {\n    return this.stats.topProductsByTags || [];\n  }\n\n  // Utilidades\n  get currentDayName(): WeekDay {\n    const dayName = format(new Date(), 'EEEE', { locale: es });\n    const weekDayMap: Record<string, WeekDay> = {\n      'lunes': 'monday',\n      'martes': 'tuesday',\n      'miércoles': 'wednesday',\n      'jueves': 'thursday',\n      'viernes': 'friday',\n      'sábado': 'saturday',\n      'domingo': 'sunday'\n    };\n    return weekDayMap[dayName];\n  }\n\n  get formattedLastUpdate(): string | null {\n    if (!this.lastUpdate) return null;\n    return format(this.lastUpdate, \"d 'de' MMMM, yyyy HH:mm\", { locale: es });\n  }\n\n  get isStale(): boolean {\n    if (!this.lastUpdate) return true;\n    // Datos obsoletos después de 5 minutos\n    return Date.now() - this.lastUpdate > 5 * 60 * 1000;\n  }\n}","import 'reflect-metadata';\nimport { Container } from 'inversify';\nimport { TYPES } from './types';\n\n// Infrastructure\nimport { ILogger } from '@/core/domain/logging/ILogger';\nimport { ConsoleLogger } from '@/infrastructure/logging/ConsoleLogger';\n\n// Repositories\nimport { IOrderRepository } from '@/core/domain/repositories/IOrderRepository';\nimport { IProductRepository } from '@/core/domain/repositories/IProductRepository';\nimport { IProviderRepository } from '@/core/domain/repositories/IProviderRepository';\nimport { FirebaseOrderRepository } from '@/infrastructure/repositories/FirebaseOrderRepository';\nimport { FirebaseProductRepository } from '@/infrastructure/repositories/FirebaseProductRepository';\nimport { FirebaseProviderRepository } from '@/infrastructure/repositories/FirebaseProviderRepository';\n\n// Services\nimport { AnalyticsService } from '@/core/application/services/AnalyticsService';\n\n// ViewModels\nimport { DashboardViewModel } from '@/presentation/viewModels/DashboardViewModel';\n\nconst container = new Container();\n\n// Infrastructure\ncontainer.bind<ILogger>(TYPES.Logger).to(ConsoleLogger).inSingletonScope();\n\n// Repositories\ncontainer.bind<IOrderRepository>(TYPES.OrderRepository)\n  .to(FirebaseOrderRepository)\n  .inSingletonScope();\n\ncontainer.bind<IProductRepository>(TYPES.ProductRepository)\n  .to(FirebaseProductRepository)\n  .inSingletonScope();\n\ncontainer.bind<IProviderRepository>(TYPES.ProviderRepository)\n  .to(FirebaseProviderRepository)\n  .inSingletonScope();\n\n// Services\ncontainer.bind<AnalyticsService>(TYPES.AnalyticsService)\n  .toDynamicValue((context) => {\n    const orderRepo = context.container.get<IOrderRepository>(TYPES.OrderRepository);\n    const productRepo = context.container.get<IProductRepository>(TYPES.ProductRepository);\n    const providerRepo = context.container.get<IProviderRepository>(TYPES.ProviderRepository);\n    const logger = context.container.get<ILogger>(TYPES.Logger);\n    return new AnalyticsService(orderRepo, productRepo, providerRepo, logger);\n  })\n  .inSingletonScope();\n\n// ViewModels\ncontainer.bind<DashboardViewModel>(TYPES.DashboardViewModel)\n  .toDynamicValue((context) => {\n    const analyticsService = context.container.get<AnalyticsService>(TYPES.AnalyticsService);\n    const logger = context.container.get<ILogger>(TYPES.Logger);\n    return new DashboardViewModel(analyticsService, logger);\n  })\n  .inSingletonScope();\n\nexport { container };","import { container } from '../di/container';\nimport { DashboardViewModel } from '../viewModels/DashboardViewModel';\nimport { TYPES } from '../di/types';\n\nexport function useDashboardViewModel(): DashboardViewModel {\n  return container.get<DashboardViewModel>(TYPES.DashboardViewModel);\n}","import React from 'react';\nimport { Card } from '@/components/ui/Card';\n\ninterface AnalyticsCardProps {\n  title: string;\n  icon: React.ReactNode;\n  children: React.ReactNode;\n  loading?: boolean;\n  className?: string;\n  onClick?: () => void;\n}\n\nexport function AnalyticsCard({ \n  title, \n  icon, \n  children, \n  loading,\n  className,\n  onClick \n}: AnalyticsCardProps) {\n  return (\n    <Card \n      className={className}\n      onClick={onClick}\n    >\n      <Card.Header className=\"!p-4\">\n        <div className=\"flex items-start justify-between gap-4\">\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-sm font-medium text-gray-600 mb-1\">{title}</h3>\n            {loading ? (\n              <div className=\"h-6 w-24 bg-gray-200 rounded animate-pulse\" />\n            ) : (\n              <div className=\"break-words\">\n                {children}\n              </div>\n            )}\n          </div>\n          <div className=\"flex-shrink-0 p-2 bg-blue-100 rounded-lg\">\n            {icon}\n          </div>\n        </div>\n      </Card.Header>\n    </Card>\n  );\n}","import React from 'react';\nimport { X } from 'lucide-react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface DialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport function Dialog({ isOpen, onClose, title, children, className }: DialogProps) {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n      <div className=\"flex min-h-full items-center justify-center p-4 text-center\">\n        <div className=\"fixed inset-0 bg-black bg-opacity-25\" onClick={onClose} />\n        \n        <div\n          className={mergeClasses(\n            \"relative transform overflow-hidden rounded-lg bg-white p-6 text-left shadow-xl transition-all w-full max-w-md\",\n            className\n          )}\n        >\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold\">{title}</h3>\n            <button\n              onClick={onClose}\n              className=\"rounded-full p-1 hover:bg-gray-100\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n          \n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { ProductStats } from '@/lib/services/analytics';\nimport { formatPrice } from '@/lib/utils';\nimport { Package, ShoppingCart } from 'lucide-react';\n\ninterface TopProductsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  products: ProductStats[];\n}\n\nexport function TopProductsModal({ isOpen, onClose, products }: TopProductsModalProps) {\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Top 10 Productos Más Valorados\"\n    >\n      <div className=\"space-y-4\">\n        {products.map((product, index) => (\n          <div\n            key={product.id}\n            className=\"flex items-start gap-4 p-4 bg-white rounded-lg border transition-colors hover:bg-gray-50\"\n          >\n            <div className=\"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-blue-100 text-blue-600 font-bold\">\n              {index + 1}\n            </div>\n            \n            <div className=\"flex-1 min-w-0\">\n              <h3 className=\"font-medium text-gray-900 truncate\">\n                {product.name}\n              </h3>\n              \n              <div className=\"mt-2 grid grid-cols-3 gap-2 text-sm text-gray-600\">\n                <div className=\"flex items-center gap-1\">\n                  <span className=\"font-medium text-blue-600\">{formatPrice(product.totalAmount)}</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <Package className=\"w-4 h-4\" />\n                  <span>{product.totalQuantity} {product.purchasePackaging}</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <ShoppingCart className=\"w-4 h-4\" />\n                  <span>{product.orderCount} órdenes</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </Dialog>\n  );\n}","import React, { useState } from 'react';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { TagStats } from '@/lib/services/analytics/calculations';\nimport { formatPrice } from '@/lib/utils';\nimport { Tag, Package, ShoppingCart } from 'lucide-react';\n\ninterface TopProductsByTagsProps {\n  isOpen: boolean;\n  onClose: () => void;\n  tagStats: TagStats[];\n}\n\nexport function TopProductsByTags({ isOpen, onClose, tagStats }: TopProductsByTagsProps) {\n  const [expandedTag, setExpandedTag] = useState<string | null>(null);\n\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Top Productos por Etiquetas\"\n    >\n      <div className=\"space-y-4\">\n        {tagStats.map((tagStat) => (\n          <div\n            key={tagStat.tag}\n            className=\"bg-white p-4 rounded-lg border transition-colors hover:bg-gray-50\"\n          >\n            {/* Tag Header */}\n            <button\n              onClick={() => setExpandedTag(expandedTag === tagStat.tag ? null : tagStat.tag)}\n              className=\"w-full\"\n            >\n              <div className=\"flex items-start justify-between gap-4\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"p-2 rounded-full bg-blue-100\">\n                    <Tag className=\"w-4 h-4 text-blue-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-medium text-gray-900\">{tagStat.tag}</h3>\n                    <p className=\"text-sm text-gray-500\">\n                      {tagStat.products.length} productos\n                    </p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"font-medium text-blue-600\">\n                    {formatPrice(tagStat.totalAmount)}\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    {tagStat.orderCount} órdenes\n                  </div>\n                </div>\n              </div>\n            </button>\n\n            {/* Products List */}\n            {expandedTag === tagStat.tag && (\n              <div className=\"mt-4 space-y-3\">\n                {tagStat.products.map((product) => (\n                  <div\n                    key={product.id}\n                    className=\"flex items-center justify-between gap-4 p-3 bg-gray-50 rounded-lg\"\n                  >\n                    <div>\n                      <div className=\"font-medium text-gray-900\">{product.name}</div>\n                      <div className=\"flex items-center gap-4 mt-1 text-sm text-gray-600\">\n                        <span className=\"flex items-center gap-1\">\n                          <Package className=\"w-4 h-4\" />\n                          {product.totalQuantity} {product.purchasePackaging}\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <ShoppingCart className=\"w-4 h-4\" />\n                          {product.orderCount} órdenes\n                        </span>\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"font-medium text-blue-600\">\n                        {formatPrice(product.totalAmount)}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        ))}\n\n        {tagStats.length === 0 && (\n          <div className=\"text-center py-8 text-gray-500\">\n            No hay datos disponibles\n          </div>\n        )}\n      </div>\n    </Dialog>\n  );\n}","import React from 'react';\nimport { Tag, Package, TrendingUp } from 'lucide-react';\nimport { Card } from '@/components/ui/Card';\nimport { formatPrice } from '@/lib/utils';\nimport { TagStats } from '@/lib/services/analytics';\n\ninterface TagProductsCardProps {\n  tagStats: TagStats[];\n  onClick?: () => void;\n  loading?: boolean;\n}\n\nexport function TagProductsCard({ tagStats, onClick, loading }: TagProductsCardProps) {\n  if (loading) {\n    return (\n      <Card>\n        <Card.Header className=\"!p-4\">\n          <div className=\"animate-pulse space-y-3\">\n            <div className=\"h-5 bg-gray-200 rounded w-3/4\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n          </div>\n        </Card.Header>\n      </Card>\n    );\n  }\n\n  if (tagStats.length === 0) {\n    return null;\n  }\n\n  const topTag = tagStats[0];\n\n  return (\n    <Card \n      className={onClick ? 'cursor-pointer hover:shadow-md transition-shadow' : ''}\n      onClick={onClick}\n    >\n      <Card.Header className=\"!p-4\">\n        <div className=\"flex items-center justify-between gap-4\">\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <div className=\"p-2 bg-rose-100 rounded-lg\">\n                <Tag className=\"w-5 h-5 text-rose-600\" />\n              </div>\n              <h3 className=\"text-sm font-medium text-gray-600\">\n                Productos por Etiquetas\n              </h3>\n            </div>\n\n            <div className=\"space-y-3\">\n              {/* Top Tag Summary */}\n              <div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-lg font-bold text-gray-900 truncate\">\n                    {topTag.tag}\n                  </span>\n                  <span className=\"px-2 py-0.5 text-xs font-medium rounded-full bg-rose-100 text-rose-700\">\n                    {topTag.products.length} productos\n                  </span>\n                </div>\n                <div className=\"mt-1 flex items-center justify-between\">\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                    <Package className=\"w-4 h-4\" />\n                    <span>{topTag.totalQuantity} unidades</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                    <TrendingUp className=\"w-4 h-4\" />\n                    <span>{topTag.orderCount} órdenes</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Top Products in Tag */}\n              <div className=\"space-y-2\">\n                {topTag.products.slice(0, 3).map((product) => (\n                  <div \n                    key={product.id}\n                    className=\"flex items-center justify-between gap-2 p-2 bg-gray-50 rounded-lg\"\n                  >\n                    <div className=\"min-w-0\">\n                      <div className=\"font-medium text-sm text-gray-900 truncate\">\n                        {product.name}\n                      </div>\n                      <div className=\"text-xs text-gray-600\">\n                        {product.totalQuantity} {product.purchasePackaging}\n                      </div>\n                    </div>\n                    <div className=\"text-sm font-medium text-blue-600 whitespace-nowrap\">\n                      {formatPrice(product.totalAmount)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Total Amount */}\n              <div className=\"pt-2 border-t\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm text-gray-600\">Total Ventas</span>\n                  <span className=\"text-lg font-bold text-blue-600\">\n                    {formatPrice(topTag.totalAmount)}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Card.Header>\n    </Card>\n  );\n}","import { useState, useEffect } from 'react';\nimport { ref, onValue, update } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Product } from '@/types';\nimport { toast } from 'react-hot-toast';\n\nexport function useGlobalProducts() {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const productsRef = ref(db, 'products');\n    \n    const unsubscribe = onValue(productsRef, (snapshot) => {\n      if (!snapshot.exists()) {\n        setProducts([]);\n        setLoading(false);\n        return;\n      }\n\n      const productsData = Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Product, 'id'>)\n      }));\n\n      setProducts(productsData);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const updateProduct = async (id: string, updates: Partial<Product>) => {\n    try {\n      const productRef = ref(db, `products/${id}`);\n      await update(productRef, updates);\n      toast.success('Producto actualizado exitosamente');\n    } catch (error) {\n      console.error('Error updating product:', error);\n      toast.error('Error al actualizar el producto');\n      throw error;\n    }\n  };\n\n  return { \n    products, \n    loading,\n    updateProduct\n  };\n}","import { useState, useEffect } from 'react';\nimport { ref, push, update, remove, onValue, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Provider } from '@/types';\n\nexport function useProviders() {\n  const [providers, setProviders] = useState<Provider[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const providersRef = ref(db, 'providers');\n    const unsubscribe = onValue(providersRef, (snapshot) => {\n      const data = snapshot.val();\n      const providersList = data ? Object.entries(data).map(([id, provider]) => ({\n        id,\n        ...(provider as Omit<Provider, 'id'>)\n      })) : [];\n      setProviders(providersList);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const addProvider = async (provider: Omit<Provider, 'id'>) => {\n    const providersRef = ref(db, 'providers');\n    await push(providersRef, provider);\n  };\n\n  const updateProvider = async (id: string, provider: Partial<Provider>) => {\n    const providerRef = ref(db, `providers/${id}`);\n    await update(providerRef, provider);\n  };\n\n  const deleteProvider = async (id: string) => {\n    const providerRef = ref(db, `providers/${id}`);\n    await remove(providerRef);\n  };\n\n  const getProvider = async (id: string) => {\n    const providerRef = ref(db, `providers/${id}`);\n    const snapshot = await get(providerRef);\n    if (snapshot.exists()) {\n      return { id, ...snapshot.val() } as Provider;\n    }\n    return null;\n  };\n\n  return {\n    providers,\n    loading,\n    addProvider,\n    updateProvider,\n    deleteProvider,\n    getProvider\n  };\n}","export class DatabaseError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(message, options);\n    this.name = 'DatabaseError';\n  }\n}\n\nexport class ValidationError extends Error {\n  constructor(\n    message: string,\n    public field?: string,\n    options?: ErrorOptions\n  ) {\n    super(message, options);\n    this.name = 'ValidationError';\n  }\n}\n\nexport function isKnownError(error: unknown): error is Error {\n  return error instanceof DatabaseError || error instanceof ValidationError;\n}\n\nexport function getErrorMessage(error: unknown): string {\n  if (error instanceof Error) {\n    return error.message;\n  }\n  return 'An unexpected error occurred';\n}","import { ref, update, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { auth } from '@/lib/firebase/auth';\nimport { Product } from '@/types';\nimport { toast } from 'react-hot-toast';\nimport { DatabaseError } from './errors';\n\nexport async function updateProduct(id: string, updates: Partial<Product>): Promise<void> {\n  if (!auth.currentUser) {\n    throw new DatabaseError('User not authenticated');\n  }\n\n  try {\n    // First get current product data\n    const productRef = ref(db, `products/${id}`);\n    const snapshot = await get(productRef);\n    \n    if (!snapshot.exists()) {\n      throw new DatabaseError('Product not found');\n    }\n\n    const currentProduct = snapshot.val();\n    \n    // Merge current data with updates\n    const updatedProduct = {\n      ...currentProduct,\n      ...updates,\n      // Ensure these fields are properly formatted\n      name: updates.name?.trim().toUpperCase() ?? currentProduct.name,\n      sku: updates.sku?.trim().toUpperCase() ?? currentProduct.sku,\n      supplierCode: updates.supplierCode?.trim().toUpperCase() ?? currentProduct.supplierCode ?? '',\n      purchasePackaging: updates.purchasePackaging?.trim().toUpperCase() ?? currentProduct.purchasePackaging,\n      salePackaging: updates.salePackaging?.trim().toUpperCase() ?? currentProduct.salePackaging ?? '',\n      // Ensure numeric fields are numbers\n      price: typeof updates.price === 'number' ? Number(updates.price) : currentProduct.price,\n      minPackageStock: typeof updates.minPackageStock === 'number' ? Number(updates.minPackageStock) : currentProduct.minPackageStock,\n      desiredStock: typeof updates.desiredStock === 'number' ? Number(updates.desiredStock) : currentProduct.desiredStock,\n      order: typeof updates.order === 'number' ? Number(updates.order) : currentProduct.order,\n      // Preserve arrays and booleans\n      tags: updates.tags ?? currentProduct.tags ?? [],\n      isProduction: typeof updates.isProduction === 'boolean' ? updates.isProduction : currentProduct.isProduction\n    };\n\n    // Update the product\n    await update(productRef, updatedProduct);\n  } catch (error) {\n    console.error('Error updating product:', error);\n    throw new DatabaseError('Failed to update product', { cause: error });\n  }\n}","export function parseCSVLine(line: string): string[] {\n  const values: string[] = [];\n  let currentValue = '';\n  let insideQuotes = false;\n  \n  for (let i = 0; i < line.length; i++) {\n    const char = line[i];\n    \n    if (char === '\"') {\n      if (insideQuotes && line[i + 1] === '\"') {\n        // Handle escaped quotes (\"\") inside quoted values\n        currentValue += '\"';\n        i++; // Skip next quote\n      } else {\n        // Toggle quote state\n        insideQuotes = !insideQuotes;\n      }\n    } else if (char === ',' && !insideQuotes) {\n      // End of field\n      values.push(currentValue.trim());\n      currentValue = '';\n    } else {\n      currentValue += char;\n    }\n  }\n  \n  // Add the last value\n  values.push(currentValue.trim());\n  \n  return values;\n}\n\nexport function parseCSVContent(content: string): string[][] {\n  const lines = content.trim().split(/\\r?\\n/);\n  return lines.map(line => parseCSVLine(line));\n}","import { Product, Provider } from '@/types';\nimport { updateProduct } from '@/lib/services/products';\nimport { parseCSVContent } from './csvParser';\n\ninterface CsvRow {\n  fecha: string;\n  rut: string;\n  codigo: string;\n  nombre: string;\n  precio: string;\n}\n\ninterface ImportResult {\n  updated: number;\n  errors: string[];\n  details: {\n    updatedProducts: Array<{\n      name: string;\n      oldPrice: number;\n      newPrice: number;\n      csvName: string;\n    }>;\n    notFoundProducts: Array<{\n      code: string;\n      providerRut: string;\n      csvName: string;\n    }>;\n    invalidRows: Array<{\n      row: number;\n      reason: string;\n    }>;\n  };\n}\n\nfunction normalizeHeaders(headers: string[]): string[] {\n  return headers.map(header => \n    header\n      .toLowerCase()\n      .trim()\n      .normalize(\"NFD\")\n      .replace(/[\\u0300-\\u036f]/g, \"\") // Remove accents\n  );\n}\n\nfunction parseCsvRows(content: string): CsvRow[] {\n  const rows = parseCSVContent(content);\n  if (rows.length < 2) {\n    throw new Error('El archivo está vacío o no tiene el formato correcto');\n  }\n\n  // Get headers and validate\n  const headers = normalizeHeaders(rows[0]);\n  const requiredHeaders = ['fecha', 'rut', 'codigo', 'nombre', 'precio'];\n  \n  const missingHeaders = requiredHeaders.filter(h => !headers.includes(h));\n  if (missingHeaders.length > 0) {\n    throw new Error(`Faltan las siguientes columnas: ${missingHeaders.join(', ')}`);\n  }\n\n  // Get header indexes\n  const headerIndexes = requiredHeaders.map(h => headers.indexOf(h));\n\n  // Parse data rows\n  return rows.slice(1).map(values => {\n    if (values.length < headerIndexes.length) {\n      throw new Error('Número incorrecto de columnas');\n    }\n\n    return {\n      fecha: values[headerIndexes[0]],\n      rut: values[headerIndexes[1]],\n      codigo: values[headerIndexes[2]],\n      nombre: values[headerIndexes[3]],\n      precio: values[headerIndexes[4]]\n    };\n  });\n}\n\nfunction validateRow(row: CsvRow): string | null {\n  // Clean and validate RUT\n  const cleanRut = row.rut.replace(/\\D/g, '');\n  if (!cleanRut) return 'RUT vacío';\n  if (!/^\\d{12}$/.test(cleanRut)) return 'RUT inválido';\n\n  // Clean and validate code\n  const cleanCode = row.codigo.trim();\n  if (!cleanCode) return 'Código vacío';\n\n  // Clean and validate price\n  const cleanPrice = row.precio\n    .replace(/[^\\d.,]/g, '') // Remove all non-digit, non-decimal characters\n    .replace(/\\./g, '') // Remove thousands separator\n    .replace(',', '.'); // Replace decimal comma with dot\n\n  const price = parseFloat(cleanPrice);\n  if (isNaN(price) || price < 0) return 'Precio inválido';\n  \n  return null;\n}\n\nfunction parsePrice(priceStr: string): number {\n  // Remove currency symbols and spaces\n  let clean = priceStr.replace(/[^\\d.,]/g, '');\n  \n  // Handle different number formats:\n  // 1.234,56 -> 1234.56\n  // 1,234.56 -> 1234.56\n  // 1234,56 -> 1234.56\n  if (clean.includes(',')) {\n    // If there's a dot before the comma, it's thousands (1.234,56)\n    if (clean.indexOf('.') < clean.indexOf(',')) {\n      clean = clean.replace(/\\./g, '').replace(',', '.');\n    } else {\n      // Otherwise, just replace comma with dot\n      clean = clean.replace(',', '.');\n    }\n  }\n\n  const price = parseFloat(clean);\n  if (isNaN(price)) {\n    throw new Error(`Precio inválido: ${priceStr}`);\n  }\n  \n  return Number(price.toFixed(2)); // Ensure 2 decimal places\n}\n\nexport async function processCsvImport(\n  content: string,\n  products: Product[],\n  providers: Provider[]\n): Promise<ImportResult> {\n  const result: ImportResult = {\n    updated: 0,\n    errors: [],\n    details: {\n      updatedProducts: [],\n      notFoundProducts: [],\n      invalidRows: []\n    }\n  };\n  \n  try {\n    // Validate content is not empty\n    if (!content.trim()) {\n      throw new Error('El archivo está vacío');\n    }\n\n    const rows = parseCsvRows(content);\n    if (rows.length === 0) {\n      throw new Error('No se encontraron datos para procesar');\n    }\n\n    // Process each row\n    for (const [index, row] of rows.entries()) {\n      try {\n        // Validate row\n        const error = validateRow(row);\n        if (error) {\n          result.details.invalidRows.push({\n            row: index + 2,\n            reason: error\n          });\n          continue;\n        }\n\n        // Clean RUT\n        const cleanRut = row.rut.replace(/\\D/g, '');\n\n        // Find provider by RUT\n        const provider = providers.find(p => p.rut?.replace(/\\D/g, '') === cleanRut);\n        if (!provider) {\n          result.details.notFoundProducts.push({\n            code: row.codigo,\n            providerRut: row.rut,\n            csvName: row.nombre\n          });\n          continue;\n        }\n\n        // Find product by provider code\n        const product = products.find(p => \n          p.providerId === provider.id && \n          p.supplierCode?.toLowerCase() === row.codigo.toLowerCase()\n        );\n\n        if (!product) {\n          result.details.notFoundProducts.push({\n            code: row.codigo,\n            providerRut: row.rut,\n            csvName: row.nombre\n          });\n          continue;\n        }\n\n        // Parse and validate price\n        try {\n          const newPrice = parsePrice(row.precio);\n\n          // Update product price if different\n          if (Math.abs(product.price - newPrice) > 0.01) {\n            await updateProduct(product.id!, { price: newPrice });\n            result.updated++;\n            result.details.updatedProducts.push({\n              name: product.name,\n              oldPrice: product.price,\n              newPrice: newPrice,\n              csvName: row.nombre\n            });\n          }\n        } catch (error) {\n          result.details.invalidRows.push({\n            row: index + 2,\n            reason: error instanceof Error ? error.message : 'Precio inválido'\n          });\n        }\n      } catch (error) {\n        result.details.invalidRows.push({\n          row: index + 2,\n          reason: error instanceof Error ? error.message : 'Error desconocido'\n        });\n      }\n    }\n\n    return result;\n  } catch (error) {\n    throw new Error(\n      error instanceof Error ? error.message : 'Error procesando el archivo'\n    );\n  }\n}","import React, { useState, useMemo } from 'react';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { CheckCircle, AlertCircle, XCircle, Search } from 'lucide-react';\n\ninterface ImportResult {\n  updated: number;\n  errors: string[];\n  details: {\n    updatedProducts: Array<{\n      name: string;\n      oldPrice: number;\n      newPrice: number;\n      csvName: string;\n    }>;\n    notFoundProducts: Array<{\n      code: string;\n      providerRut: string;\n      csvName: string;\n    }>;\n    invalidRows: Array<{\n      row: number;\n      reason: string;\n    }>;\n  };\n}\n\ninterface CsvImportResultsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  result: ImportResult | null;\n}\n\nexport function CsvImportResultsModal({ isOpen, onClose, result }: CsvImportResultsModalProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Filter results based on search term\n  const filteredResults = useMemo(() => {\n    if (!result) return null;\n\n    const term = searchTerm.toLowerCase();\n    return {\n      updatedProducts: result.details.updatedProducts.filter(product => \n        product.name.toLowerCase().includes(term) ||\n        product.csvName.toLowerCase().includes(term)\n      ),\n      notFoundProducts: result.details.notFoundProducts.filter(item => \n        item.code.toLowerCase().includes(term) ||\n        item.csvName.toLowerCase().includes(term) ||\n        item.providerRut.toLowerCase().includes(term)\n      ),\n      invalidRows: result.details.invalidRows.filter(error => \n        error.reason.toLowerCase().includes(term)\n      )\n    };\n  }, [result, searchTerm]);\n  \n  if (!result || !filteredResults) return null;\n\n  const hasUpdates = result.updated > 0;\n  const hasErrors = result.errors.length > 0;\n\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Resultado de la Importación\"\n    >\n      <div className=\"space-y-6\">\n        {/* Summary */}\n        <div className=\"flex items-center gap-3 p-4 rounded-lg bg-gray-50\">\n          {hasUpdates && !hasErrors ? (\n            <CheckCircle className=\"w-6 h-6 text-green-500 flex-shrink-0\" />\n          ) : hasErrors ? (\n            <AlertCircle className=\"w-6 h-6 text-amber-500 flex-shrink-0\" />\n          ) : (\n            <XCircle className=\"w-6 h-6 text-red-500 flex-shrink-0\" />\n          )}\n          <div>\n            <h3 className=\"font-medium\">Resumen de la importación</h3>\n            <p className=\"text-sm text-gray-600\">\n              {result.updated} producto{result.updated !== 1 ? 's' : ''} actualizado{result.updated !== 1 ? 's' : ''}\n            </p>\n          </div>\n        </div>\n\n        {/* Search */}\n        <div className=\"relative\">\n          <Input\n            placeholder=\"Buscar en los resultados...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n        </div>\n\n        {/* Results Sections */}\n        <div className=\"space-y-6 max-h-[60vh] overflow-y-auto\">\n          {/* Updated Products */}\n          {filteredResults.updatedProducts.length > 0 && (\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n              <h4 className=\"font-medium text-green-800 mb-3\">\n                Productos Actualizados ({filteredResults.updatedProducts.length})\n              </h4>\n              <div className=\"space-y-3\">\n                {filteredResults.updatedProducts.map((product, index) => (\n                  <div key={index} className=\"bg-white rounded-lg p-3 shadow-sm\">\n                    <div className=\"font-medium text-green-700\">{product.name}</div>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      Nombre en CSV: {product.csvName}\n                    </div>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      Precio anterior: ${product.oldPrice.toFixed(2)} → \n                      Nuevo precio: ${product.newPrice.toFixed(2)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Not Found Products */}\n          {filteredResults.notFoundProducts.length > 0 && (\n            <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-4\">\n              <h4 className=\"font-medium text-amber-800 mb-3\">\n                Productos no encontrados ({filteredResults.notFoundProducts.length})\n              </h4>\n              <div className=\"space-y-3\">\n                {filteredResults.notFoundProducts.map((item, index) => (\n                  <div key={index} className=\"bg-white rounded-lg p-3 shadow-sm\">\n                    <div className=\"font-medium text-amber-700\">\n                      Código: {item.code}\n                    </div>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      Nombre en CSV: {item.csvName}\n                    </div>\n                    <div className=\"text-sm text-gray-600\">\n                      RUT Proveedor: {item.providerRut}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Invalid Rows */}\n          {filteredResults.invalidRows.length > 0 && (\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n              <h4 className=\"font-medium text-red-800 mb-3\">\n                Filas con errores ({filteredResults.invalidRows.length})\n              </h4>\n              <div className=\"space-y-3\">\n                {filteredResults.invalidRows.map((error, index) => (\n                  <div key={index} className=\"bg-white rounded-lg p-3 shadow-sm\">\n                    <div className=\"font-medium text-red-700\">\n                      Fila {error.row}\n                    </div>\n                    <div className=\"text-sm text-gray-600 mt-1\">\n                      {error.reason}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex justify-end\">\n          <Button onClick={onClose}>\n            Cerrar\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n}","import React, { useRef, useState } from 'react';\nimport { FileUp } from 'lucide-react';\nimport { Card } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\nimport { useProviders } from '@/hooks/useProviders';\nimport { processCsvImport } from '@/lib/utils/csvImport';\nimport { CsvImportResultsModal } from './CsvImportResultsModal';\nimport { toast } from 'react-hot-toast';\n\nexport function CsvImportCard() {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [importResult, setImportResult] = useState(null);\n  const [isResultsModalOpen, setIsResultsModalOpen] = useState(false);\n  const { products, loading: productsLoading } = useGlobalProducts();\n  const { providers, loading: providersLoading } = useProviders();\n\n  const handleFileSelect = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.name.toLowerCase().endsWith('.csv')) {\n      toast.error('El archivo debe ser de tipo CSV');\n      return;\n    }\n\n    setIsProcessing(true);\n    try {\n      const text = await file.text();\n      const result = await processCsvImport(text, products, providers);\n      \n      setImportResult(result);\n      setIsResultsModalOpen(true);\n\n      // Show brief toast notification\n      if (result.updated > 0) {\n        toast.success(`${result.updated} productos actualizados`);\n      }\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : 'Error al procesar el archivo');\n    } finally {\n      setIsProcessing(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  if (productsLoading || providersLoading) {\n    return (\n      <Card>\n        <Card.Header className=\"!p-4\">\n          <div className=\"animate-pulse\">\n            <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n            <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n          </div>\n        </Card.Header>\n      </Card>\n    );\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Header className=\"!p-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-bold mt-1\">Actualizar Precios</h3>\n            </div>\n            <div className=\"p-2 bg-violet-100 rounded-lg\">\n              <FileUp className=\"w-5 h-5 text-violet-600\" />\n            </div>\n          </div>\n\n          <div className=\"mt-4\">\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\".csv\"\n              onChange={handleFileSelect}\n              className=\"hidden\"\n            />\n            <Button\n              onClick={handleClick}\n              isLoading={isProcessing}\n              className=\"w-full\"\n            >\n              {isProcessing ? 'Procesando...' : 'Seleccionar Archivo'}\n            </Button>\n            <p className=\"text-xs text-gray-500 mt-2\">\n              Formato: Fecha, RUT, Código, Nombre, Precio\n            </p>\n          </div>\n        </Card.Header>\n      </Card>\n\n      <CsvImportResultsModal\n        isOpen={isResultsModalOpen}\n        onClose={() => setIsResultsModalOpen(false)}\n        result={importResult}\n      />\n    </>\n  );\n}","import React, { useState } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Card } from '@/components/ui/Card';\nimport { \n  Package, \n  Calendar, \n  Users, \n  BarChart2, \n  TrendingUp, \n  Archive, \n  ShoppingCart,\n  RefreshCw\n} from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\nimport { useDashboardViewModel } from '@/presentation/hooks/useViewModel';\nimport { AnalyticsCard } from '@/components/dashboard/AnalyticsCard';\nimport { TopProductsModal } from '@/components/dashboard/TopProductsModal';\nimport { TopProductsByTags } from '@/components/dashboard/TopProductsByTags';\nimport { TagProductsCard } from '@/components/dashboard/TagProductsCard';\nimport { CsvImportCard } from '@/components/dashboard/CsvImportCard';\nimport { formatPrice } from '@/lib/utils';\n\nexport const Dashboard = observer(() => {\n  const viewModel = useDashboardViewModel();\n  const [isTopProductsModalOpen, setIsTopProductsModalOpen] = useState(false);\n  const [isTopProductsByTagsModalOpen, setIsTopProductsByTagsModalOpen] = useState(false);\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  \n  const handleRefresh = async () => {\n    setIsRefreshing(true);\n    await viewModel.loadStats();\n    setIsRefreshing(false);\n  };\n\n  const topProduct = viewModel.topProducts[0];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header con botón de actualización */}\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Dashboard</h1>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={handleRefresh}\n          disabled={viewModel.loading || isRefreshing}\n          className=\"gap-2\"\n        >\n          <RefreshCw className={`w-4 h-4 ${isRefreshing ? 'animate-spin' : ''}`} />\n          Actualizar\n        </Button>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n        {/* Date Card */}\n        <Card>\n          <Card.Header className=\"!p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"text-2xl font-bold capitalize\">\n                  {format(new Date(), 'EEEE', { locale: es })}\n                </div>\n                <div className=\"text-sm text-gray-600 mt-1\">\n                  {format(new Date(), 'dd/MM/yyyy')}\n                </div>\n              </div>\n              <div className=\"p-2 bg-orange-100 rounded-lg\">\n                <Calendar className=\"w-5 h-5 text-orange-600\" />\n              </div>\n            </div>\n          </Card.Header>\n        </Card>\n\n        {/* Total Products Card */}\n        <AnalyticsCard\n          title=\"Total Productos\"\n          icon={<Archive className=\"w-5 h-5 text-indigo-600\" />}\n          loading={viewModel.loading}\n        >\n          <h3 className=\"text-2xl font-bold mt-1\">{viewModel.totalProducts}</h3>\n        </AnalyticsCard>\n\n        {/* Total Providers Card */}\n        <AnalyticsCard\n          title=\"Total Proveedores\"\n          icon={<Users className=\"w-5 h-5 text-emerald-600\" />}\n          loading={viewModel.loading}\n        >\n          <h3 className=\"text-2xl font-bold mt-1\">{viewModel.totalProviders}</h3>\n        </AnalyticsCard>\n\n        {/* Total Orders Card */}\n        <AnalyticsCard\n          title=\"Total Órdenes\"\n          icon={<ShoppingCart className=\"w-5 h-5 text-amber-600\" />}\n          loading={viewModel.loading}\n        >\n          <h3 className=\"text-2xl font-bold mt-1\">{viewModel.totalOrders}</h3>\n        </AnalyticsCard>\n\n        {/* Today's Orders Card */}\n        <Card>\n          <Card.Header className=\"!p-4\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Pedidos Hoy</p>\n                <h3 className=\"text-2xl font-bold mt-1\">\n                  {viewModel.loading ? (\n                    <span className=\"text-gray-400\">...</span>\n                  ) : (\n                    viewModel.todayOrdersCount\n                  )}\n                </h3>\n                <div className=\"text-sm text-gray-500 mt-1\">\n                  {formatPrice(viewModel.todayOrdersAmount)}\n                </div>\n              </div>\n              <div className=\"p-2 bg-purple-100 rounded-lg\">\n                <Package className=\"w-5 h-5 text-purple-600\" />\n              </div>\n            </div>\n          </Card.Header>\n        </Card>\n\n        {/* Weekly Orders Card */}\n        <AnalyticsCard\n          title=\"Órdenes Semanales\"\n          icon={<BarChart2 className=\"w-5 h-5 text-blue-600\" />}\n          loading={viewModel.loading}\n        >\n          <h3 className=\"text-2xl font-bold mt-1\">{viewModel.weekOrdersCount}</h3>\n          <div className=\"text-sm text-gray-500 mt-1\">\n            {formatPrice(viewModel.weekOrdersAmount)}\n          </div>\n        </AnalyticsCard>\n\n        {/* Most Valuable Product Card */}\n        <AnalyticsCard\n          title=\"Producto Más Valorado\"\n          icon={<TrendingUp className=\"w-5 h-5 text-green-600\" />}\n          loading={viewModel.loading}\n          className=\"cursor-pointer hover:shadow-md transition-shadow\"\n          onClick={() => setIsTopProductsModalOpen(true)}\n        >\n          {topProduct && (\n            <div className=\"mt-1\">\n              <h3 className=\"text-lg font-bold break-words\">\n                {topProduct.name}\n              </h3>\n              <div className=\"flex items-center justify-between mt-1\">\n                <span className=\"text-lg font-bold text-blue-600\">\n                  {formatPrice(topProduct.totalAmount)}\n                </span>\n                <span className=\"text-sm text-gray-500\">\n                  {topProduct.totalQuantity} unidades\n                </span>\n              </div>\n            </div>\n          )}\n        </AnalyticsCard>\n\n        {/* Tag Products Card */}\n        <TagProductsCard\n          tagStats={viewModel.topProductsByTags}\n          loading={viewModel.loading}\n          onClick={() => setIsTopProductsByTagsModalOpen(true)}\n        />\n\n        {/* CSV Import Card */}\n        <CsvImportCard />\n      </div>\n\n      {/* Modals */}\n      <TopProductsModal\n        isOpen={isTopProductsModalOpen}\n        onClose={() => setIsTopProductsModalOpen(false)}\n        products={viewModel.topProducts}\n      />\n\n      <TopProductsByTags\n        isOpen={isTopProductsByTagsModalOpen}\n        onClose={() => setIsTopProductsByTagsModalOpen(false)}\n        tagStats={viewModel.topProductsByTags}\n      />\n\n      {/* Last Update Info */}\n      {viewModel.formattedLastUpdate && (\n        <div className=\"text-center text-sm text-gray-500\">\n          Última actualización: {viewModel.formattedLastUpdate}\n          {viewModel.isStale && (\n            <span className=\"text-amber-500 ml-2\">\n              (Datos desactualizados)\n            </span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n});","import React, { useState } from 'react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Provider, WeekDay } from '@/types';\nimport { validatePhoneNumber, formatPhoneNumber } from '@/lib/utils';\n\ninterface ProviderFormProps {\n  initialData?: Provider;\n  onSubmit: (data: Omit<Provider, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isLoading?: boolean;\n}\n\nconst WEEK_DAYS: { value: WeekDay; label: string }[] = [\n  { value: 'monday', label: 'Lunes' },\n  { value: 'tuesday', label: 'Martes' },\n  { value: 'wednesday', label: 'Miércoles' },\n  { value: 'thursday', label: 'Jueves' },\n  { value: 'friday', label: 'Viernes' },\n  { value: 'saturday', label: 'Sábado' },\n  { value: 'sunday', label: 'Domingo' },\n];\n\nconst MONTH_DAYS = Array.from({ length: 31 }, (_, i) => i + 1);\n\nexport function ProviderForm({ initialData, onSubmit, onCancel, isLoading }: ProviderFormProps) {\n  const [formData, setFormData] = React.useState<Omit<Provider, 'id'>>({\n    commercialName: initialData?.commercialName || '',\n    legalName: initialData?.legalName || '',\n    rut: initialData?.rut || '',\n    phone: initialData?.phone || '',\n    deliveryDays: initialData?.deliveryDays || [],\n    orderDays: initialData?.orderDays || [],\n    billingType: initialData?.billingType || 'weekly',\n    billingDays: initialData?.billingDays || [],\n  });\n\n  const [phoneError, setPhoneError] = useState<string>('');\n\n  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let value = e.target.value;\n    value = value.replace(/\\D/g, '');\n    if (value.startsWith('598')) {\n      value = value.slice(3);\n    }\n    value = value.slice(0, 9);\n    \n    setFormData(prev => ({ ...prev, phone: value }));\n    \n    if (value && !validatePhoneNumber(value)) {\n      setPhoneError('Ingrese un número de celular válido de Uruguay (8 o 9 dígitos)');\n    } else {\n      setPhoneError('');\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (formData.phone && !validatePhoneNumber(formData.phone)) {\n      setPhoneError('Ingrese un número de celular válido de Uruguay (8 o 9 dígitos)');\n      return;\n    }\n\n    await onSubmit(formData);\n  };\n\n  const handleDayToggle = (day: WeekDay, type: 'delivery' | 'order') => {\n    setFormData(prev => ({\n      ...prev,\n      [type === 'delivery' ? 'deliveryDays' : 'orderDays']: prev[type === 'delivery' ? 'deliveryDays' : 'orderDays']?.includes(day)\n        ? prev[type === 'delivery' ? 'deliveryDays' : 'orderDays']?.filter(d => d !== day)\n        : [...(prev[type === 'delivery' ? 'deliveryDays' : 'orderDays'] || []), day],\n    }));\n  };\n\n  const handleBillingDaySelect = (day: number) => {\n    setFormData(prev => ({\n      ...prev,\n      billingDays: [day]\n    }));\n  };\n\n  const formattedPhone = formData.phone ? formatPhoneNumber(formData.phone) : '';\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <Input\n        label=\"Nombre comercial\"\n        value={formData.commercialName}\n        onChange={(e) => setFormData(prev => ({ ...prev, commercialName: e.target.value }))}\n        required\n      />\n      <Input\n        label=\"Razón social\"\n        value={formData.legalName}\n        onChange={(e) => setFormData(prev => ({ ...prev, legalName: e.target.value }))}\n      />\n      <Input\n        label=\"RUT\"\n        value={formData.rut}\n        onChange={(e) => setFormData(prev => ({ ...prev, rut: e.target.value }))}\n      />\n      <div>\n        <Input\n          label=\"Celular\"\n          type=\"tel\"\n          value={formData.phone}\n          onChange={handlePhoneChange}\n          error={phoneError}\n          placeholder=\"93609319\"\n        />\n        {formData.phone && (\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Se guardará como: {formattedPhone}\n          </p>\n        )}\n      </div>\n      \n      <div className=\"space-y-4\">\n        {/* Billing Type Selection */}\n        <div className=\"space-y-3\">\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Tipo de Facturación\n          </label>\n          <div className=\"flex gap-4\">\n            <label className=\"flex items-center gap-2\">\n              <input\n                type=\"radio\"\n                checked={formData.billingType === 'weekly'}\n                onChange={() => setFormData(prev => ({ \n                  ...prev, \n                  billingType: 'weekly',\n                  billingDays: [] // Clear billing days when switching to weekly\n                }))}\n                className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n              />\n              <span>Semanal</span>\n            </label>\n            <label className=\"flex items-center gap-2\">\n              <input\n                type=\"radio\"\n                checked={formData.billingType === 'monthly'}\n                onChange={() => setFormData(prev => ({ \n                  ...prev, \n                  billingType: 'monthly',\n                  billingDays: [] // Clear billing days when switching to monthly\n                }))}\n                className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n              />\n              <span>Mensual</span>\n            </label>\n          </div>\n        </div>\n\n        {formData.billingType === 'monthly' && (\n          <div className=\"space-y-3\">\n            <label className=\"block text-sm font-medium text-gray-700\">\n              Día de facturación\n            </label>\n            <div className=\"grid grid-cols-7 gap-2\">\n              {MONTH_DAYS.map((day) => (\n                <button\n                  key={day}\n                  type=\"button\"\n                  onClick={() => handleBillingDaySelect(day)}\n                  className={`\n                    px-2 py-1 text-sm font-medium rounded-md transition-colors\n                    ${formData.billingDays?.includes(day)\n                      ? 'bg-blue-100 text-blue-800 hover:bg-blue-200'\n                      : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n                    }\n                  `}\n                >\n                  {day}\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <div className=\"space-y-3\">\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Días de pedido\n          </label>\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-7 gap-2\">\n            {WEEK_DAYS.map(({ value, label }) => (\n              <button\n                key={value}\n                type=\"button\"\n                onClick={() => handleDayToggle(value, 'order')}\n                className={`\n                  px-3 py-2 text-sm font-medium rounded-md transition-colors\n                  ${formData.orderDays?.includes(value)\n                    ? 'bg-blue-100 text-blue-800 hover:bg-blue-200'\n                    : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n                  }\n                `}\n              >\n                {label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"space-y-3\">\n          <label className=\"block text-sm font-medium text-gray-700\">\n            Días de entrega\n          </label>\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-7 gap-2\">\n            {WEEK_DAYS.map(({ value, label }) => (\n              <button\n                key={value}\n                type=\"button\"\n                onClick={() => handleDayToggle(value, 'delivery')}\n                className={`\n                  px-3 py-2 text-sm font-medium rounded-md transition-colors\n                  ${formData.deliveryDays?.includes(value)\n                    ? 'bg-green-100 text-green-800 hover:bg-green-200'\n                    : 'bg-gray-50 text-gray-600 hover:bg-gray-100'\n                  }\n                `}\n              >\n                {label}\n              </button>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex justify-end space-x-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\n          Cancelar\n        </Button>\n        <Button type=\"submit\" isLoading={isLoading}>\n          {initialData ? 'Actualizar' : 'Crear'} Proveedor\n        </Button>\n      </div>\n    </form>\n  );\n}","import React, { useState } from 'react';\nimport { Plus, Pencil, Trash2, Phone } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport { Button } from '@/components/ui/Button';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { ProviderForm } from '@/components/providers/ProviderForm';\nimport { useProviders } from '@/hooks/useProviders';\nimport { Provider } from '@/types';\nimport { generateWhatsAppLink, formatPhoneNumber } from '@/lib/utils';\n\nexport function Providers() {\n  const { providers, loading, addProvider, updateProvider, deleteProvider } = useProviders();\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [editingProvider, setEditingProvider] = useState<Provider | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [providerToDelete, setProviderToDelete] = useState<Provider | null>(null);\n\n  const handleSubmit = async (data: Omit<Provider, 'id'>) => {\n    setIsSubmitting(true);\n    try {\n      if (editingProvider) {\n        await updateProvider(editingProvider.id!, data);\n        toast.success('Proveedor actualizado exitosamente');\n      } else {\n        await addProvider(data);\n        toast.success('Proveedor creado exitosamente');\n      }\n      handleCloseForm();\n    } catch (error) {\n      toast.error('Ocurrió un error al guardar el proveedor');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDelete = async (provider: Provider) => {\n    setProviderToDelete(provider);\n  };\n\n  const confirmDelete = async () => {\n    if (!providerToDelete) return;\n    \n    try {\n      await deleteProvider(providerToDelete.id!);\n      toast.success('Proveedor eliminado exitosamente');\n      setProviderToDelete(null);\n    } catch (error) {\n      toast.error('Ocurrió un error al eliminar el proveedor');\n    }\n  };\n\n  const handleCloseForm = () => {\n    setIsFormOpen(false);\n    setEditingProvider(null);\n  };\n\n  const handleEdit = (provider: Provider) => {\n    setEditingProvider(provider);\n    setIsFormOpen(true);\n  };\n\n  const handleNewProvider = () => {\n    if (editingProvider) {\n      const dialog = Dialog({\n        isOpen: true,\n        onClose: () => {},\n        title: \"Advertencia\",\n        children: (\n          <div className=\"space-y-4\">\n            <p className=\"text-amber-600\">\n              Hay un proveedor en edición. ¿Desea cancelar los cambios y crear uno nuevo?\n            </p>\n            <div className=\"flex justify-end space-x-2\">\n              <Button variant=\"outline\" onClick={() => dialog.close()}>\n                Cancelar\n              </Button>\n              <Button\n                onClick={() => {\n                  setEditingProvider(null);\n                  setIsFormOpen(true);\n                  dialog.close();\n                }}\n              >\n                Continuar\n              </Button>\n            </div>\n          </div>\n        ),\n      });\n    } else {\n      setIsFormOpen(true);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n      </div>\n    );\n  }\n\n  if (isFormOpen || editingProvider) {\n    return (\n      <div className=\"bg-white p-4 md:p-6 rounded-lg shadow\">\n        <h2 className=\"text-xl font-semibold mb-4\">\n          {editingProvider ? 'Editar' : 'Nuevo'} Proveedor\n        </h2>\n        <ProviderForm\n          initialData={editingProvider || undefined}\n          onSubmit={handleSubmit}\n          onCancel={handleCloseForm}\n          isLoading={isSubmitting}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-end\">\n        <Button onClick={handleNewProvider}>\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Nuevo Proveedor\n        </Button>\n      </div>\n\n      <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n        {providers.map((provider) => (\n          <div\n            key={provider.id}\n            className=\"bg-white p-4 md:p-6 rounded-lg shadow-sm space-y-4\"\n          >\n            <div className=\"space-y-2\">\n              <h3 className=\"text-lg font-semibold break-words\">{provider.commercialName}</h3>\n              {provider.legalName && (\n                <p className=\"text-sm text-gray-600 break-words\">{provider.legalName}</p>\n              )}\n              {provider.rut && (\n                <p className=\"text-sm text-gray-600\">RUT: {provider.rut}</p>\n              )}\n              {provider.phone && (\n                <p className=\"text-sm text-gray-600\">\n                  Celular: {formatPhoneNumber(provider.phone)}\n                </p>\n              )}\n            </div>\n\n            <div className=\"flex flex-wrap gap-2 items-center justify-between\">\n              <div className=\"flex flex-wrap gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handleEdit(provider)}\n                >\n                  <Pencil className=\"w-4 h-4 mr-2\" />\n                  Editar\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handleDelete(provider)}\n                >\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\n                  Eliminar\n                </Button>\n              </div>\n              \n              {provider.phone && (\n                <a\n                  href={generateWhatsAppLink(provider.phone, '')}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Button variant=\"ghost\" size=\"sm\">\n                    <Phone className=\"w-4 h-4\" />\n                  </Button>\n                </a>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <Dialog\n        isOpen={!!providerToDelete}\n        onClose={() => setProviderToDelete(null)}\n        title=\"Eliminar proveedor\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-amber-600\">\n            ¿Está seguro que desea eliminar el proveedor \"{providerToDelete?.commercialName}\"?\n          </p>\n          <div className=\"flex justify-end space-x-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setProviderToDelete(null)}\n            >\n              Cancelar\n            </Button>\n            <Button onClick={confirmDelete}>\n              Eliminar\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { Building2, ChevronDown, Search, X } from 'lucide-react';\nimport { Provider } from '@/types';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface ProviderSelectorProps {\n  providers: Provider[];\n  selectedProviderId: string;\n  onChange: (providerId: string) => void;\n}\n\nexport function ProviderSelector({\n  providers,\n  selectedProviderId,\n  onChange\n}: ProviderSelectorProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const selectedProvider = providers.find(p => p.id === selectedProviderId);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const filteredProviders = providers.filter(provider => \n    provider.commercialName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    provider.legalName?.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const handleSelect = (providerId: string) => {\n    onChange(providerId);\n    setIsOpen(false);\n    setSearchTerm('');\n  };\n\n  const handleClear = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onChange('');\n    setSearchTerm('');\n  };\n\n  return (\n    <div className=\"relative\" ref={containerRef}>\n      {/* Label */}\n      <div className=\"mb-2\">\n        <label className=\"block text-sm font-medium text-gray-700\">\n          Proveedor\n        </label>\n      </div>\n\n      {/* Main Selector */}\n      <div\n        role=\"button\"\n        tabIndex={0}\n        onClick={() => setIsOpen(!isOpen)}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            setIsOpen(!isOpen);\n          }\n        }}\n        className={mergeClasses(\n          \"relative w-full rounded-lg border bg-white px-4 py-3 h-[48px] cursor-pointer\",\n          \"focus:outline-none focus:ring-2 focus:ring-blue-500\",\n          selectedProviderId \n            ? \"border-blue-200 hover:border-blue-300\" \n            : \"border-gray-200 hover:border-gray-300\",\n          \"transition-all duration-200 flex items-center\"\n        )}\n      >\n        <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n          <Building2 className={`\n            w-5 h-5 flex-shrink-0\n            ${selectedProviderId ? 'text-blue-500' : 'text-gray-400'}\n          `} />\n          \n          <div className=\"flex-1 min-w-0\">\n            {selectedProvider ? (\n              <div>\n                <div className=\"font-medium text-gray-900 truncate\">\n                  {selectedProvider.commercialName}\n                </div>\n                {selectedProvider.legalName && \n                 selectedProvider.legalName !== selectedProvider.commercialName && (\n                  <div className=\"text-sm text-gray-500 truncate\">\n                    {selectedProvider.legalName}\n                  </div>\n                )}\n              </div>\n            ) : (\n              <span className=\"text-gray-500\">\n                Seleccionar proveedor...\n              </span>\n            )}\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            {selectedProviderId && (\n              <div\n                role=\"button\"\n                tabIndex={0}\n                onClick={handleClear}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    handleClear(e as any);\n                  }\n                }}\n                className=\"p-1 hover:bg-gray-100 rounded-full transition-colors cursor-pointer\"\n              >\n                <X className=\"w-4 h-4 text-gray-400\" />\n              </div>\n            )}\n            <ChevronDown className={`\n              w-5 h-5 transition-transform duration-200\n              ${selectedProviderId ? 'text-blue-500' : 'text-gray-400'}\n              ${isOpen ? 'rotate-180' : ''}\n            `} />\n          </div>\n        </div>\n      </div>\n\n      {/* Dropdown */}\n      {isOpen && (\n        <div className=\"absolute z-10 mt-2 w-full rounded-lg bg-white shadow-lg border border-gray-200\">\n          {/* Search Input */}\n          <div className=\"p-2 border-b\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Buscar proveedor...\"\n                className={`\n                  w-full rounded-md border border-gray-200 pl-9 pr-4 py-2 text-sm\n                  placeholder-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500\n                `}\n              />\n            </div>\n          </div>\n\n          {/* Provider List */}\n          <div className=\"max-h-60 overflow-auto\">\n            {filteredProviders.length > 0 ? (\n              <div className=\"py-1\">\n                {filteredProviders.map((provider) => (\n                  <div\n                    key={provider.id}\n                    role=\"button\"\n                    tabIndex={0}\n                    onClick={() => handleSelect(provider.id!)}\n                    onKeyDown={(e) => {\n                      if (e.key === 'Enter' || e.key === ' ') {\n                        handleSelect(provider.id!);\n                      }\n                    }}\n                    className={mergeClasses(\n                      \"px-4 py-2 cursor-pointer hover:bg-gray-50 transition-colors\",\n                      provider.id === selectedProviderId && \"bg-blue-50\"\n                    )}\n                  >\n                    <div className=\"font-medium text-gray-900\">\n                      {provider.commercialName}\n                    </div>\n                    {provider.legalName && \n                     provider.legalName !== provider.commercialName && (\n                      <div className=\"text-sm text-gray-500\">\n                        {provider.legalName}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"px-4 py-3 text-sm text-gray-500 text-center\">\n                No se encontraron proveedores\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { Product } from '@/types';\nimport { container } from '@/presentation/di/container';\nimport { TYPES } from '@/presentation/di/types';\nimport { IProductRepository } from '@/core/domain/repositories/IProductRepository';\nimport { toast } from 'react-hot-toast';\n\nexport function useProducts(providerId?: string) {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const repository = container.get<IProductRepository>(TYPES.ProductRepository);\n\n  useEffect(() => {\n    if (!providerId) {\n      setProducts([]);\n      setLoading(false);\n      return;\n    }\n\n    const unsubscribe = repository.subscribeToProviderProducts(providerId, (updatedProducts) => {\n      setProducts(updatedProducts);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [providerId, repository]);\n\n  const addProduct = async (product: Omit<Product, 'id'>) => {\n    try {\n      await repository.create(product);\n      toast.success('Producto creado exitosamente');\n    } catch (error) {\n      console.error('Error creating product:', error);\n      throw error;\n    }\n  };\n\n  const updateProduct = async (id: string, updates: Partial<Product>) => {\n    try {\n      await repository.update(id, updates);\n      toast.success('Producto actualizado exitosamente');\n    } catch (error) {\n      console.error('Error updating product:', error);\n      throw error;\n    }\n  };\n\n  const deleteProduct = async (id: string) => {\n    try {\n      await repository.delete(id);\n      toast.success('Producto eliminado exitosamente');\n    } catch (error) {\n      console.error('Error deleting product:', error);\n      throw error;\n    }\n  };\n\n  return {\n    products,\n    loading,\n    addProduct,\n    updateProduct,\n    deleteProduct,\n  };\n}","import React from 'react';\nimport { Package, Archive, Pencil, Trash2, ArrowUpDown, FileText, ChefHat } from 'lucide-react';\nimport { Product } from '@/types';\nimport { formatPrice, formatOrderNumber } from '@/lib/utils';\nimport { Button } from '@/components/ui/Button';\n\ninterface ProductCardProps {\n  product: Product;\n  onEdit: (product: Product) => void;\n  onDelete: (product: Product) => void;\n}\n\nexport function ProductCard({\n  product,\n  onEdit,\n  onDelete\n}: ProductCardProps) {\n  return (\n    <div className=\"bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow p-4\">\n      <div className=\"space-y-4\">\n        {/* Product Name with Production Badge */}\n        <div className=\"flex items-start justify-between gap-2\">\n          <h3 className=\"text-lg font-semibold text-gray-900 truncate\">\n            {product.name}\n            {product.isProduction && (\n              <span className=\"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800\">\n                <ChefHat className=\"w-3 h-3 mr-1\" />\n                Producción\n              </span>\n            )}\n          </h3>\n        </div>\n\n        {/* Details */}\n        <div className=\"grid grid-cols-2 gap-3 text-sm text-gray-600\">\n          <div className=\"flex items-center\">\n            <Package className=\"w-4 h-4 mr-1.5 flex-shrink-0 text-gray-500\" />\n            <span className=\"truncate\">{product.purchasePackaging}</span>\n          </div>\n          <div className=\"flex items-center\">\n            <Archive className=\"w-4 h-4 mr-1.5 flex-shrink-0 text-gray-500\" />\n            <span>Stock: {product.minPackageStock} - {product.desiredStock}</span>\n          </div>\n          <div className=\"flex items-center\">\n            <FileText className=\"w-4 h-4 mr-1.5 flex-shrink-0 text-gray-500\" />\n            <span className=\"truncate\">\n              {product.supplierCode || 'Sin código'}\n            </span>\n          </div>\n          <div className=\"flex items-center\">\n            <ArrowUpDown className=\"w-4 h-4 mr-1.5 text-gray-400\" />\n            <span>{formatOrderNumber(product.order)}</span>\n          </div>\n        </div>\n\n        {/* Actions with Price */}\n        <div className=\"flex items-center justify-between gap-2 pt-2 border-t\">\n          <div className=\"text-xl font-bold text-blue-600\">\n            {formatPrice(product.price)}\n          </div>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => onEdit(product)}\n            >\n              <Pencil className=\"w-4 h-4 mr-2\" />\n              Editar\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => onDelete(product)}\n              className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n            >\n              <Trash2 className=\"w-4 h-4 mr-2\" />\n              Eliminar\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\n\nexport function useMediaQuery(query: string): boolean {\n  const [matches, setMatches] = useState(false);\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(query);\n    setMatches(mediaQuery.matches);\n\n    const handler = (event: MediaQueryListEvent) => {\n      setMatches(event.matches);\n    };\n\n    mediaQuery.addEventListener('change', handler);\n    return () => mediaQuery.removeEventListener('change', handler);\n  }, [query]);\n\n  return matches;\n}","import React from 'react';\nimport { Product } from '@/types';\nimport { ProductCard } from './ProductCard';\nimport { useMediaQuery } from '@/hooks/useMediaQuery';\n\ninterface ProductCarouselProps {\n  products: Product[];\n  onEdit: (product: Product) => void;\n  onDelete: (product: Product) => void;\n}\n\nexport function ProductCarousel({ \n  products,\n  onEdit,\n  onDelete\n}: ProductCarouselProps) {\n  const isLargeScreen = useMediaQuery('(min-width: 1024px)');\n\n  // Sort products by order\n  const sortedProducts = [...products].sort((a, b) => a.order - b.order);\n\n  if (isLargeScreen) {\n    return (\n      <div className=\"grid grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4\">\n        {sortedProducts.map((product) => (\n          <ProductCard\n            key={product.id}\n            product={product}\n            onEdit={onEdit}\n            onDelete={onDelete}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {sortedProducts.map((product) => (\n        <ProductCard\n          key={product.id}\n          product={product}\n          onEdit={onEdit}\n          onDelete={onDelete}\n        />\n      ))}\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { Search } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\nimport { Product } from '@/types';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\nimport { formatPrice } from '@/lib/utils';\n\ninterface GlobalProductSearchProps {\n  onProductSelect: (product: Product) => void;\n}\n\nexport function GlobalProductSearch({ onProductSelect }: GlobalProductSearchProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<Product[]>([]);\n  const { products, loading } = useGlobalProducts();\n\n  useEffect(() => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    const searchTermLower = searchTerm.toLowerCase();\n    const results = products\n      .filter(product => \n        product.name.toLowerCase().includes(searchTermLower) ||\n        product.sku.toLowerCase().includes(searchTermLower) ||\n        product.supplierCode?.toLowerCase().includes(searchTermLower) ||\n        product.tags?.some(tag => tag.toLowerCase().includes(searchTermLower))\n      )\n      .sort((a, b) => {\n        // Prioritize exact matches\n        const aNameMatch = a.name.toLowerCase().startsWith(searchTermLower);\n        const bNameMatch = b.name.toLowerCase().startsWith(searchTermLower);\n        if (aNameMatch && !bNameMatch) return -1;\n        if (!aNameMatch && bNameMatch) return 1;\n        return a.name.localeCompare(b.name);\n      })\n      .slice(0, 5);\n\n    setSearchResults(results);\n  }, [searchTerm, products]);\n\n  return (\n    <div className=\"relative mb-6\">\n      <div className=\"relative\">\n        <Input\n          placeholder=\"Buscar productos globalmente...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"pl-10\"\n        />\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n      </div>\n\n      {searchResults.length > 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\n          {searchResults.map((product) => (\n            <button\n              key={product.id}\n              onClick={() => onProductSelect(product)}\n              className=\"w-full px-4 py-2 text-left hover:bg-gray-50\"\n            >\n              <div className=\"flex items-center justify-between gap-4\">\n                <div className=\"min-w-0\">\n                  <div className=\"font-medium text-gray-900 truncate\">{product.name}</div>\n                  <div className=\"text-sm text-gray-500\">\n                    SKU: {product.sku}\n                    {product.supplierCode && (\n                      <span className=\"ml-2\">• Código: {product.supplierCode}</span>\n                    )}\n                  </div>\n                </div>\n                <div className=\"text-blue-600 font-medium whitespace-nowrap\">\n                  {formatPrice(product.price)}\n                </div>\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n\n      {searchTerm && searchResults.length === 0 && !loading && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg p-4 text-center text-gray-500\">\n          No se encontraron productos\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { Search, Filter } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Product } from '@/types';\n\ninterface ProviderProductSearchProps {\n  products: Product[];\n  onFilter: (filtered: Product[], isActiveFilter: boolean) => void;\n}\n\nexport function ProviderProductSearch({ products, onFilter }: ProviderProductSearchProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showProductionOnly, setShowProductionOnly] = useState(false);\n\n  useEffect(() => {\n    const searchTermLower = searchTerm.toLowerCase();\n    const filtered = products.filter(product => {\n      // Apply production filter if enabled\n      if (showProductionOnly && !product.isProduction) {\n        return false;\n      }\n\n      // If no search term and not filtering by production, show all\n      if (!searchTermLower && !showProductionOnly) {\n        return true;\n      }\n\n      // Apply search filter\n      return (\n        product.name.toLowerCase().includes(searchTermLower) ||\n        product.sku.toLowerCase().includes(searchTermLower) ||\n        product.supplierCode?.toLowerCase().includes(searchTermLower) ||\n        product.tags?.some(tag => tag.toLowerCase().includes(searchTermLower))\n      );\n    });\n\n    // Sort filtered results\n    const sortedFiltered = filtered.sort((a, b) => {\n      // Production materials first if filter is active\n      if (showProductionOnly) {\n        if (a.isProduction && !b.isProduction) return -1;\n        if (!a.isProduction && b.isProduction) return 1;\n      }\n      \n      // Then by name\n      return a.name.localeCompare(b.name);\n    });\n\n    onFilter(sortedFiltered, searchTerm.length > 0 || showProductionOnly);\n  }, [searchTerm, showProductionOnly, products, onFilter]);\n\n  const productionCount = products.filter(p => p.isProduction).length;\n\n  return (\n    <div className=\"flex gap-2\">\n      <div className=\"relative flex-1\">\n        <Input\n          placeholder=\"Filtrar productos...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"pl-10\"\n        />\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n      </div>\n      <Button\n        variant={showProductionOnly ? \"primary\" : \"outline\"}\n        onClick={() => setShowProductionOnly(!showProductionOnly)}\n        className=\"flex items-center gap-2 min-w-[140px] justify-center\"\n        title={showProductionOnly ? 'Mostrar todos' : 'Solo producción'}\n      >\n        <Filter className=\"w-4 h-4\" />\n        <span className=\"text-sm\">\n          Producción ({productionCount})\n        </span>\n      </Button>\n    </div>\n  );\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { X, Plus } from 'lucide-react';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface TagsInputProps {\n  label?: string;\n  value: string[];\n  onChange: (tags: string[]) => void;\n  suggestions?: string[];\n  error?: string;\n  className?: string;\n}\n\nexport function TagsInput({\n  label,\n  value = [],\n  onChange,\n  suggestions = [],\n  error,\n  className\n}: TagsInputProps) {\n  const [inputValue, setInputValue] = useState('');\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setShowSuggestions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value.toUpperCase());\n    setShowSuggestions(true);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' && inputValue.trim()) {\n      e.preventDefault();\n      addTag(inputValue.trim());\n    } else if (e.key === 'Backspace' && !inputValue && value.length > 0) {\n      removeTag(value[value.length - 1]);\n    }\n  };\n\n  const addTag = (tag: string) => {\n    const normalizedTag = tag.toUpperCase();\n    if (!value.includes(normalizedTag)) {\n      onChange([...value, normalizedTag]);\n    }\n    setInputValue('');\n    setShowSuggestions(false);\n  };\n\n  const removeTag = (tagToRemove: string) => {\n    onChange(value.filter(tag => tag !== tagToRemove));\n  };\n\n  const handleSuggestionClick = (suggestion: string) => {\n    addTag(suggestion);\n    inputRef.current?.focus();\n  };\n\n  const filteredSuggestions = suggestions\n    .filter(suggestion => \n      !value.includes(suggestion) &&\n      suggestion.includes(inputValue.toUpperCase())\n    );\n\n  return (\n    <div ref={containerRef} className=\"relative\">\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n          {label}\n        </label>\n      )}\n      \n      <div\n        className={mergeClasses(\n          'flex flex-wrap items-center gap-2 min-h-[42px] w-full rounded-lg border border-gray-300 bg-white px-3 py-1.5',\n          'focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500',\n          error && 'border-red-500 focus-within:border-red-500 focus-within:ring-red-500',\n          className\n        )}\n      >\n        {value.map((tag) => (\n          <span\n            key={tag}\n            className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm bg-blue-100 text-blue-800\"\n          >\n            {tag}\n            <button\n              type=\"button\"\n              onClick={() => removeTag(tag)}\n              className=\"ml-1 p-0.5 hover:bg-blue-200 rounded-full transition-colors\"\n            >\n              <X className=\"w-3 h-3\" />\n            </button>\n          </span>\n        ))}\n\n        <div className=\"flex-1 min-w-[120px]\">\n          <input\n            ref={inputRef}\n            type=\"text\"\n            className=\"w-full outline-none bg-transparent text-gray-900 placeholder-gray-500 text-sm\"\n            value={inputValue}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            onFocus={() => setShowSuggestions(true)}\n            placeholder=\"Agregar etiqueta...\"\n          />\n        </div>\n      </div>\n\n      {error && (\n        <p className=\"mt-1 text-sm text-red-600\">{error}</p>\n      )}\n\n      {showSuggestions && inputValue && filteredSuggestions.length > 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto\">\n          {filteredSuggestions.map((suggestion) => (\n            <button\n              key={suggestion}\n              type=\"button\"\n              className=\"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 focus:bg-gray-100 focus:outline-none flex items-center gap-2\"\n              onClick={() => handleSuggestionClick(suggestion)}\n            >\n              <Plus className=\"w-4 h-4 text-gray-400\" />\n              {suggestion}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { ref, onValue, push, set } from 'firebase/database';\nimport { db } from '@/lib/firebase';\n\nexport function useMeasures() {\n  const [measures, setMeasures] = useState<string[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const measuresRef = ref(db, 'measures');\n    \n    const unsubscribe = onValue(measuresRef, (snapshot) => {\n      const data = snapshot.val();\n      const units = data ? Object.values(data) as string[] : [];\n      // Sort measures alphabetically\n      setMeasures([...units].sort());\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const addMeasure = async (measure: string) => {\n    const measuresRef = ref(db, 'measures');\n    const newMeasureRef = push(measuresRef);\n    await set(newMeasureRef, measure.toUpperCase());\n  };\n\n  return {\n    measures,\n    loading,\n    addMeasure\n  };\n}","import React from 'react';\nimport { useMeasures } from '@/hooks/useMeasures';\nimport { mergeClasses } from '@/lib/utils';\n\ninterface MeasureSelectProps {\n  value: string;\n  onChange: (value: string) => void;\n  required?: boolean;\n  className?: string;\n  label?: string;\n  placeholder?: string;\n}\n\nexport function MeasureSelect({\n  value,\n  onChange,\n  required,\n  className,\n  label,\n  placeholder = \"Seleccionar...\"\n}: MeasureSelectProps) {\n  const { measures, loading } = useMeasures();\n\n  return (\n    <div className=\"space-y-2\">\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-700\">\n          {label}\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n      )}\n      <select\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        required={required}\n        disabled={loading}\n        className={mergeClasses(\n          'w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900',\n          'focus:border-blue-500 focus:ring-1 focus:ring-blue-500',\n          'disabled:bg-gray-50 disabled:text-gray-500',\n          className\n        )}\n      >\n        <option value=\"\" disabled>\n          {loading ? 'Cargando...' : placeholder}\n        </option>\n        {!loading && measures.map(measure => (\n          <option key={measure} value={measure}>\n            {measure}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n}","import { useState, useEffect } from 'react';\nimport { ref, onValue, push, set } from 'firebase/database';\nimport { db } from '@/lib/firebase';\n\nexport function useTags() {\n  const [tags, setTags] = useState<string[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const tagsRef = ref(db, 'tags');\n    const productsRef = ref(db, 'products');\n    \n    // Load custom tag entries\n    const unsubscribeTags = onValue(tagsRef, (snapshot) => {\n      const data = snapshot.val();\n      const customTags = data ? Object.values(data) as string[] : [];\n      setTags(customTags.sort());\n      setLoading(false);\n    });\n\n    // Also monitor products for their tags\n    const unsubscribeProducts = onValue(productsRef, (snapshot) => {\n      const data = snapshot.val();\n      if (data) {\n        const productTags = Object.values(data)\n          .flatMap((product: any) => product.tags || [])\n          .filter(Boolean)\n          .map(tag => tag.toUpperCase());\n\n        // Update suggestions with new unique values\n        setTags(prev => {\n          const newTags = [...new Set([...prev, ...productTags])];\n          return newTags.sort();\n        });\n      }\n    });\n\n    return () => {\n      unsubscribeTags();\n      unsubscribeProducts();\n    };\n  }, []);\n\n  const addTag = async (tag: string) => {\n    const tagsRef = ref(db, 'tags');\n    const newTagRef = push(tagsRef);\n    await set(newTagRef, tag.toUpperCase());\n  };\n\n  return {\n    tags,\n    loading,\n    addTag\n  };\n}","import { useState, useEffect } from 'react';\nimport { ref, get } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Product } from '@/types';\n\nconst SKU_PREFIX = 'M';\nconst SKU_PADDING = 4;\n\nexport function useSkuSuggestion() {\n  const [suggestedSku, setSuggestedSku] = useState<string>('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const generateSku = async () => {\n      try {\n        const productsRef = ref(db, 'products');\n        const snapshot = await get(productsRef);\n\n        if (!snapshot.exists()) {\n          setSuggestedSku(`${SKU_PREFIX}${'0'.repeat(SKU_PADDING - 1)}1`);\n          return;\n        }\n\n        const products = Object.values(snapshot.val()) as Product[];\n        \n        // Filter products with SKUs that match our format\n        const skuRegex = new RegExp(`^${SKU_PREFIX}\\\\d{${SKU_PADDING}}$`);\n        const matchingSKUs = products\n          .map(p => p.sku)\n          .filter(sku => skuRegex.test(sku))\n          .map(sku => parseInt(sku.slice(SKU_PREFIX.length)));\n\n        // Find the highest number and increment\n        const nextNumber = matchingSKUs.length > 0 \n          ? Math.max(...matchingSKUs) + 1 \n          : 1;\n\n        // Format the new SKU\n        const paddedNumber = nextNumber.toString().padStart(SKU_PADDING, '0');\n        setSuggestedSku(`${SKU_PREFIX}${paddedNumber}`);\n      } catch (error) {\n        console.error('Error generating SKU suggestion:', error);\n        setSuggestedSku('');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    generateSku();\n  }, []);\n\n  return { suggestedSku, loading };\n}","import { SECTORS } from '@/config/constants';\n\nexport type SectorColor = {\n  bg: string;\n  border: string;\n  text: string;\n};\n\nexport const SECTOR_COLORS: Record<string, SectorColor> = {\n  GRL: { bg: 'bg-gray-100', border: 'border-gray-200', text: 'text-gray-800' },\n  GFR: { bg: 'bg-green-100', border: 'border-green-200', text: 'text-green-800' },\n  GRE: { bg: 'bg-emerald-100', border: 'border-emerald-200', text: 'text-emerald-800' },\n  GTM: { bg: 'bg-teal-100', border: 'border-teal-200', text: 'text-teal-800' },\n  GPA: { bg: 'bg-amber-100', border: 'border-amber-200', text: 'text-amber-800' },\n  GSC: { bg: 'bg-orange-100', border: 'border-orange-200', text: 'text-orange-800' },\n  HEL: { bg: 'bg-blue-100', border: 'border-blue-200', text: 'text-blue-800' },\n  REF: { bg: 'bg-indigo-100', border: 'border-indigo-200', text: 'text-indigo-800' },\n  CON: { bg: 'bg-purple-100', border: 'border-purple-200', text: 'text-purple-800' },\n  FRU: { bg: 'bg-rose-100', border: 'border-rose-200', text: 'text-rose-800' },\n};\n\nexport function getSectorColor(sectorCode: string): SectorColor {\n  return SECTOR_COLORS[sectorCode] || SECTOR_COLORS.GRL;\n}","import React, { useState } from 'react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Card } from '@/components/ui/Card';\nimport { TagsInput } from '@/components/ui/TagsInput';\nimport { MeasureSelect } from '@/components/ui/MeasureSelect';\nimport { ArrowUpDown, ChefHat } from 'lucide-react';\nimport { Product } from '@/types';\nimport { useProviders } from '@/hooks/useProviders';\nimport { useTags } from '@/hooks/useTags';\nimport { useSkuSuggestion } from '@/hooks/useSkuSuggestion';\nimport { getSectorFromOrder, formatOrderNumber } from '@/lib/utils';\nimport { getSectorColor } from '@/lib/sectorColors';\n\ninterface ProductFormProps {\n  providerId: string;\n  initialData?: Product;\n  onSubmit: (data: Omit<Product, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isLoading?: boolean;\n  onDirtyChange?: (isDirty: boolean) => void;\n}\n\nexport function ProductForm({\n  providerId: initialProviderId,\n  initialData,\n  onSubmit,\n  onCancel,\n  isLoading,\n  onDirtyChange\n}: ProductFormProps) {\n  const { providers } = useProviders();\n  const { tags: tagSuggestions, addTag } = useTags();\n  const { suggestedSku } = useSkuSuggestion();\n  const [formData, setFormData] = useState<Omit<Product, 'id'>>({\n    name: initialData?.name || '',\n    sku: initialData?.sku || '',\n    supplierCode: initialData?.supplierCode || '',\n    purchasePackaging: initialData?.purchasePackaging || '',\n    salePackaging: initialData?.salePackaging || '',\n    order: initialData?.order || 0,\n    price: initialData?.price || 0,\n    desiredStock: initialData?.desiredStock || 0,\n    minPackageStock: initialData?.minPackageStock || 0,\n    providerId: initialData?.providerId || initialProviderId,\n    tags: initialData?.tags || [],\n    isProduction: initialData?.isProduction || false,\n    unitMeasure: initialData?.unitMeasure || 'UNIDAD',\n    pricePerUnit: initialData?.pricePerUnit || 0\n  });\n\n  const updateField = <K extends keyof Omit<Product, 'id'>>(\n    field: K,\n    value: Omit<Product, 'id'>[K]\n  ) => {\n    setFormData(prev => {\n      const updates: Partial<Omit<Product, 'id'>> = { [field]: value };\n      \n      if (field === 'isProduction' && value === true) {\n        updates.unitMeasure = prev.unitMeasure || 'UNIDAD';\n      }\n      \n      return { ...prev, ...updates };\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await onSubmit(formData);\n  };\n\n  const handleNameBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    updateField('name', e.target.value.toUpperCase());\n  };\n\n  const sectorColor = getSectorColor(getSectorFromOrder(formData.order));\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <Card>\n        <Card.Header>\n          <Card.Title>Información Básica</Card.Title>\n        </Card.Header>\n        <Card.Content className=\"space-y-4\">\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <Input\n              label=\"Nombre del producto\"\n              value={formData.name}\n              onChange={(e) => updateField('name', e.target.value)}\n              onBlur={handleNameBlur}\n              required\n            />\n            <Input\n              label={!initialData && suggestedSku ? `SKU (Sugerido: ${suggestedSku})` : \"SKU\"}\n              value={formData.sku}\n              onChange={(e) => updateField('sku', e.target.value.toUpperCase())}\n              required\n            />\n          </div>\n\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <div className=\"space-y-2\">\n              <label className=\"block text-sm font-medium text-gray-700\">Proveedor</label>\n              <select\n                value={formData.providerId}\n                onChange={(e) => updateField('providerId', e.target.value)}\n                className=\"w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500\"\n              >\n                {providers.map(provider => (\n                  <option key={provider.id} value={provider.id}>\n                    {provider.commercialName}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <Input\n              label=\"Código de proveedor\"\n              value={formData.supplierCode}\n              onChange={(e) => updateField('supplierCode', e.target.value.toUpperCase())}\n              placeholder=\"Código asignado por el proveedor\"\n            />\n          </div>\n\n          <div className=\"grid gap-4 sm:grid-cols-2\">\n            <MeasureSelect\n              label=\"Empaque de Compra\"\n              value={formData.purchasePackaging}\n              onChange={(value) => updateField('purchasePackaging', value)}\n              required\n              placeholder=\"Seleccionar empaque de compra\"\n            />\n\n            <MeasureSelect\n              label=\"Empaque de Venta\"\n              value={formData.salePackaging}\n              onChange={(value) => updateField('salePackaging', value)}\n              placeholder=\"Seleccionar empaque de venta\"\n            />\n          </div>\n        </Card.Content>\n      </Card>\n\n      <Card>\n        <Card.Header>\n          <Card.Title>Material de Producción</Card.Title>\n        </Card.Header>\n        <Card.Content>\n          <fieldset>\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                id=\"isProduction\"\n                checked={formData.isProduction}\n                onChange={(e) => updateField('isProduction', e.target.checked)}\n                className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n              />\n              <label htmlFor=\"isProduction\" className=\"text-sm font-medium text-gray-700 flex items-center gap-2\">\n                <ChefHat className=\"w-4 h-4\" />\n                Material de producción\n              </label>\n            </div>\n\n            {formData.isProduction && (\n              <div className=\"mt-4 grid gap-4 sm:grid-cols-2\">\n                <MeasureSelect\n                  label=\"Unidad de Medida\"\n                  value={formData.unitMeasure || 'UNIDAD'}\n                  onChange={(value) => updateField('unitMeasure', value)}\n                  required\n                  placeholder=\"Seleccionar unidad de medida\"\n                />\n                <Input\n                  label=\"Precio por Unidad\"\n                  type=\"number\"\n                  value={formData.pricePerUnit}\n                  onChange={(e) => updateField('pricePerUnit', parseFloat(e.target.value) || 0)}\n                  min={0}\n                  step=\"0.01\"\n                  required\n                  isCurrency\n                />\n              </div>\n            )}\n          </fieldset>\n        </Card.Content>\n      </Card>\n\n      <Card>\n        <Card.Header>\n          <Card.Title>Etiquetas y Orden</Card.Title>\n        </Card.Header>\n        <Card.Content className=\"space-y-4\">\n          <TagsInput\n            label=\"Etiquetas\"\n            value={formData.tags}\n            onChange={async (tags) => {\n              updateField('tags', tags);\n              for (const tag of tags) {\n                if (!tagSuggestions.includes(tag)) {\n                  await addTag(tag);\n                }\n              }\n            }}\n            suggestions={tagSuggestions}\n          />\n\n          <div \n            className={`rounded-lg p-4 border ${sectorColor.bg} ${sectorColor.border}`}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <label className={`text-sm font-medium ${sectorColor.text}`}>\n                  Orden del Producto\n                </label>\n                <div className={`text-lg font-bold mt-1 ${sectorColor.text}`}>\n                  {formatOrderNumber(formData.order)}\n                </div>\n              </div>\n              <ArrowUpDown className={`w-5 h-5 ${sectorColor.text}`} />\n            </div>\n          </div>\n        </Card.Content>\n      </Card>\n\n      <Card>\n        <Card.Header>\n          <Card.Title>Precio y Stock</Card.Title>\n        </Card.Header>\n        <Card.Content className=\"space-y-4\">\n          <Input\n            label=\"Precio\"\n            value={formData.price}\n            onChange={(e) => updateField('price', parseFloat(e.target.value) || 0)}\n            min={0}\n            required\n            isCurrency\n          />\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <Input\n              label=\"Stock mínimo\"\n              type=\"number\"\n              value={formData.minPackageStock}\n              onChange={(e) => updateField('minPackageStock', parseInt(e.target.value) || 0)}\n              min={0}\n              required\n            />\n\n            <Input\n              label=\"Stock deseado\"\n              type=\"number\"\n              value={formData.desiredStock}\n              onChange={(e) => updateField('desiredStock', parseInt(e.target.value) || 0)}\n              min={0}\n              required\n            />\n          </div>\n        </Card.Content>\n      </Card>\n\n      <div className=\"flex justify-end space-x-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel} disabled={isLoading}>\n          Cancelar\n        </Button>\n        <Button type=\"submit\" isLoading={isLoading}>\n          {initialData ? 'Actualizar' : 'Crear'} Producto\n        </Button>\n      </div>\n    </form>\n  );\n}","import React, { useState } from 'react';\nimport { X } from 'lucide-react';\nimport { Product } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { ProductForm } from './ProductForm';\n\ninterface FullscreenProductFormProps {\n  providerId: string;\n  initialData?: Product;\n  onSubmit: (data: Omit<Product, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isLoading?: boolean;\n}\n\nexport function FullscreenProductForm({\n  providerId,\n  initialData,\n  onSubmit,\n  onCancel,\n  isLoading\n}: FullscreenProductFormProps) {\n  const [isDirty, setIsDirty] = useState(false);\n\n  const handleClose = () => {\n    if (isDirty) {\n      if (confirm('¿Está seguro que desea descartar los cambios?')) {\n        onCancel();\n      }\n    } else {\n      onCancel();\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-white z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"border-b bg-white\">\n        <div className=\"flex items-center justify-between px-4 h-14\">\n          <h2 className=\"text-lg font-semibold\">\n            {initialData ? 'Editar' : 'Nuevo'} Producto\n          </h2>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleClose}\n            className=\"p-2 hover:bg-gray-100 rounded-full\"\n          >\n            <X className=\"w-5 h-5\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        <div className=\"h-full overflow-y-auto px-4 py-6\">\n          <div className=\"max-w-3xl mx-auto\">\n            <ProductForm\n              providerId={providerId}\n              initialData={initialData}\n              onSubmit={onSubmit}\n              onCancel={onCancel}\n              isLoading={isLoading}\n              onDirtyChange={setIsDirty}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import { Product } from '@/types';\nimport { SECTORS } from '@/config/constants';\n\nexport function getSectorFromOrder(order: number): string {\n  const orderStr = order.toString().padStart(5, '0');\n  const sectorIndex = parseInt(orderStr.slice(0, 2)) - 1;\n  return sectorIndex >= 0 && sectorIndex < SECTORS.length ? SECTORS[sectorIndex].code : SECTORS[0].code;\n}\n\nexport function getSequenceFromOrder(order: number): number {\n  const orderStr = order.toString().padStart(5, '0');\n  return parseInt(orderStr.slice(2));\n}\n\nexport function calculateNewOrder(sectorCode: string, sequence: number): number {\n  const sectorIndex = SECTORS.findIndex(s => s.code === sectorCode) + 1;\n  return parseInt(`${sectorIndex.toString().padStart(2, '0')}${sequence.toString().padStart(3, '0')}`);\n}\n\nexport function formatOrderNumber(order: number): string {\n  const sector = getSectorFromOrder(order);\n  const sequence = getSequenceFromOrder(order);\n  return `${sector}-${sequence.toString().padStart(3, '0')}`;\n}\n\nexport function getSectorProducts(products: Product[], sectorCode: string): Product[] {\n  return products\n    .filter(p => getSectorFromOrder(p.order) === sectorCode)\n    .sort((a, b) => getSequenceFromOrder(a.order) - getSequenceFromOrder(b.order));\n}\n\nexport function getNextAvailableOrder(products: Product[], sectorCode: string): number {\n  const sectorProducts = getSectorProducts(products, sectorCode);\n  const maxSequence = sectorProducts.length;\n  return calculateNewOrder(sectorCode, maxSequence + 1);\n}","import React, { useState, useCallback } from 'react';\nimport { Plus } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport { Button } from '@/components/ui/Button';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { ProviderSelector } from '@/components/ui/ProviderSelector';\nimport { useProviders } from '@/hooks/useProviders';\nimport { useProducts } from '@/hooks/useProducts';\nimport { ProductCarousel } from '@/components/products/ProductCarousel';\nimport { GlobalProductSearch } from '@/components/products/GlobalProductSearch';\nimport { ProviderProductSearch } from '@/components/products/ProviderProductSearch';\nimport { FullscreenProductForm } from '@/components/products/FullscreenProductForm';\nimport { Product } from '@/types';\nimport { SECTORS } from '@/config/constants';\nimport { calculateNewOrder, getSectorFromOrder } from '@/lib/order/utils';\n\nexport function Products() {\n  const { providers } = useProviders();\n  const [selectedProviderId, setSelectedProviderId] = useState<string>('');\n  const { products, loading, addProduct, updateProduct, deleteProduct } = useProducts(selectedProviderId);\n  const [filteredProducts, setFilteredProducts] = useState<Product[]>([]);\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [productToDelete, setProductToDelete] = useState<Product | null>(null);\n  const [isFiltering, setIsFiltering] = useState(false);\n\n  const handleSubmit = async (data: Omit<Product, 'id'>) => {\n    setIsSubmitting(true);\n    try {\n      if (editingProduct) {\n        await updateProduct(editingProduct.id!, data);\n        handleCloseForm();\n      } else {\n        const defaultSector = SECTORS[0].code;\n        const sectorProducts = products.filter(p => getSectorFromOrder(p.order) === defaultSector);\n        const newOrder = calculateNewOrder(defaultSector, sectorProducts.length + 1);\n        \n        await addProduct({ ...data, order: newOrder });\n        handleCloseForm();\n      }\n    } catch (error) {\n      console.error('Error al guardar producto:', error);\n      toast.error('Error al guardar el producto');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDelete = async (product: Product) => {\n    setProductToDelete(product);\n  };\n\n  const confirmDelete = async () => {\n    if (!productToDelete) return;\n    \n    try {\n      await deleteProduct(productToDelete.id!);\n      setProductToDelete(null);\n    } catch (error) {\n      toast.error('Error al eliminar el producto');\n    }\n  };\n\n  const handleCloseForm = () => {\n    setIsFormOpen(false);\n    setEditingProduct(null);\n  };\n\n  const handleEdit = (product: Product) => {\n    setEditingProduct(product);\n    setIsFormOpen(true);\n  };\n\n  const handleNewProduct = () => {\n    if (editingProduct) {\n      const dialog = Dialog({\n        isOpen: true,\n        onClose: () => {},\n        title: \"Advertencia\",\n        children: (\n          <div className=\"space-y-4\">\n            <p className=\"text-amber-600\">\n              Hay un producto en edición. ¿Desea cancelar los cambios y crear uno nuevo?\n            </p>\n            <div className=\"flex justify-end space-x-2\">\n              <Button variant=\"outline\" onClick={() => dialog.close()}>\n                Cancelar\n              </Button>\n              <Button\n                onClick={() => {\n                  setEditingProduct(null);\n                  setIsFormOpen(true);\n                  dialog.close();\n                }}\n              >\n                Continuar\n              </Button>\n            </div>\n          </div>\n        ),\n      });\n    } else {\n      setIsFormOpen(true);\n    }\n  };\n\n  const handleFilter = useCallback((filtered: Product[], isActiveFilter: boolean) => {\n    setFilteredProducts(filtered);\n    setIsFiltering(isActiveFilter);\n  }, []);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Global Product Search */}\n      <GlobalProductSearch onProductSelect={handleEdit} />\n\n      {/* Provider Selection and New Product Button */}\n      <div className=\"space-y-4 md:space-y-0\">\n        <div className=\"flex flex-col md:flex-row md:items-end gap-4\">\n          <div className=\"flex-1\">\n            <ProviderSelector\n              providers={providers}\n              selectedProviderId={selectedProviderId}\n              onChange={setSelectedProviderId}\n            />\n          </div>\n\n          {selectedProviderId && (\n            <div className=\"flex-shrink-0 w-full md:w-auto\">\n              <Button\n                onClick={handleNewProduct}\n                className=\"w-full md:w-auto bg-blue-500 hover:bg-blue-600 text-white h-[48px] px-6 rounded-lg shadow-sm hover:shadow transition-all\"\n              >\n                <Plus className=\"w-5 h-5 mr-2\" />\n                <span className=\"whitespace-nowrap\">Nuevo Producto</span>\n              </Button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Product Form */}\n      {isFormOpen && (\n        <FullscreenProductForm\n          providerId={editingProduct?.providerId || selectedProviderId}\n          initialData={editingProduct || undefined}\n          onSubmit={handleSubmit}\n          onCancel={handleCloseForm}\n          isLoading={isSubmitting}\n        />\n      )}\n\n      {/* Main Content */}\n      {selectedProviderId ? (\n        loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n          </div>\n        ) : (\n          !isFormOpen && (\n            <>\n              <ProviderProductSearch\n                products={products}\n                onFilter={handleFilter}\n              />\n              {(!isFiltering || filteredProducts.length > 0) ? (\n                <ProductCarousel\n                  products={isFiltering ? filteredProducts : products}\n                  onEdit={handleEdit}\n                  onDelete={handleDelete}\n                  providerId={selectedProviderId}\n                />\n              ) : (\n                <div className=\"flex items-center justify-center h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n                  <p className=\"text-gray-500 text-center px-4\">\n                    No se encontraron productos que coincidan con la búsqueda\n                  </p>\n                </div>\n              )}\n            </>\n          )\n        )\n      ) : (\n        <div className=\"flex items-center justify-center h-64 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n          <p className=\"text-gray-500 text-center px-4\">\n            Seleccione un proveedor para ver sus productos\n          </p>\n        </div>\n      )}\n\n      {/* Delete Confirmation Dialog */}\n      <Dialog\n        isOpen={!!productToDelete}\n        onClose={() => setProductToDelete(null)}\n        title=\"Eliminar producto\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-amber-600\">\n            ¿Está seguro que desea eliminar el producto \"{productToDelete?.name}\"?\n          </p>\n          <div className=\"flex justify-end space-x-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setProductToDelete(null)}\n            >\n              Cancelar\n            </Button>\n            <Button onClick={confirmDelete}>\n              Eliminar\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}","export const thermalPrintStyles = `\n  /* Reset */\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  /* Base styles */\n  body {\n    font-family: 'Courier New', monospace;\n    font-size: 12px;\n    line-height: 1.2;\n    background: #f3f4f6;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  /* Preview Container */\n  .content {\n    width: 80mm;\n    background: white;\n    margin: 20px auto;\n    padding: 2mm;\n    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n    border-radius: 4px;\n  }\n\n  /* Header */\n  .header {\n    margin-bottom: 3mm;\n    border-bottom: 1px dashed #000;\n    padding-bottom: 2mm;\n  }\n\n  .header div {\n    margin-bottom: 1mm;\n    font-weight: bold;\n  }\n\n  /* Business Info - Larger */\n  .header div:nth-child(1) {\n    font-size: 14px;\n  }\n\n  /* Owner Info */\n  .header div:nth-child(2) {\n    font-size: 12px;\n  }\n\n  /* Date - Smaller */\n  .header div:nth-child(3) {\n    font-size: 10px;\n  }\n\n  /* Table */\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 2mm;\n  }\n\n  tr {\n    border-bottom: none;\n  }\n\n  td {\n    padding: 0.5mm 1mm;\n    font-size: 12px;\n    vertical-align: top;\n  }\n\n  td.quantity {\n    white-space: nowrap;\n    padding-right: 2mm;\n    width: 1%;\n    font-weight: bold;\n  }\n\n  td.name {\n    word-break: break-word;\n  }\n\n  /* Summary Section */\n  .summary {\n    margin-top: 3mm;\n    padding-top: 2mm;\n    border-top: 1px dashed #000;\n  }\n\n  .summary-row {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1mm;\n    font-size: 12px;\n  }\n\n  .summary-label {\n    font-weight: normal;\n  }\n\n  .summary-value {\n    font-weight: bold;\n  }\n\n  /* Print Controls */\n  .controls {\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    display: flex;\n    gap: 10px;\n    z-index: 100;\n  }\n\n  .print-button {\n    padding: 12px 24px;\n    background: #2563eb;\n    color: white;\n    border: none;\n    border-radius: 6px;\n    cursor: pointer;\n    font-size: 14px;\n    font-weight: 500;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    transition: all 0.2s;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n\n  .print-button:hover {\n    background: #1d4ed8;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .print-button:active {\n    transform: translateY(0);\n  }\n\n  .print-button:disabled {\n    background: #9ca3af;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  .print-button svg {\n    width: 16px;\n    height: 16px;\n  }\n\n  /* Print Media Styles */\n  @media print {\n    @page {\n      size: 80mm auto;\n      margin: 0;\n    }\n\n    body {\n      width: 80mm;\n      margin: 0;\n      padding: 0;\n      background: white;\n      min-height: auto;\n    }\n\n    .content {\n      width: 100%;\n      margin: 0;\n      padding: 2mm;\n      box-shadow: none;\n      border-radius: 0;\n    }\n\n    .controls {\n      display: none !important;\n    }\n\n    /* Print header styles */\n    .header {\n      margin-bottom: 3mm;\n      padding-bottom: 2mm;\n    }\n\n    .header div:nth-child(1) {\n      font-size: 14px;\n      font-weight: bold;\n    }\n\n    .header div:nth-child(2) {\n      font-size: 12px;\n      font-weight: bold;\n    }\n\n    .header div:nth-child(3) {\n      font-size: 10px;\n    }\n\n    /* Print table styles */\n    table {\n      margin: 2mm 0;\n    }\n\n    td {\n      padding: 0.5mm 1mm;\n      font-size: 12px;\n    }\n\n    td.quantity {\n      font-weight: bold;\n    }\n\n    /* Print summary styles */\n    .summary {\n      margin-top: 3mm;\n      padding-top: 2mm;\n      border-top: 1px dashed #000;\n    }\n\n    .summary-row {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: 1mm;\n      font-size: 12px;\n    }\n\n    .summary-label {\n      font-weight: normal;\n    }\n\n    .summary-value {\n      font-weight: bold;\n    }\n  }\n`;","export const printScripts = `\n  let isPrinting = false;\n  let retryCount = 0;\n  const MAX_RETRIES = 3;\n\n  function createPrintIcon() {\n    return \\`\n      <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\" />\n      </svg>\n    \\`;\n  }\n\n  function showError(message) {\n    const existingError = document.querySelector('.error-message');\n    if (existingError) {\n      existingError.remove();\n    }\n\n    const errorDiv = document.createElement('div');\n    errorDiv.className = 'error-message';\n    errorDiv.textContent = message;\n    document.body.appendChild(errorDiv);\n\n    const printButton = document.getElementById('print-button');\n    if (printButton) {\n      printButton.disabled = false;\n    }\n\n    // Auto-hide error after 5 seconds\n    setTimeout(() => {\n      errorDiv.remove();\n    }, 5000);\n  }\n\n  function setupPrintButton() {\n    const printButton = document.getElementById('print-button');\n    if (printButton) {\n      printButton.innerHTML = createPrintIcon() + 'Imprimir';\n    }\n  }\n\n  function handlePrint() {\n    if (isPrinting) return;\n\n    try {\n      const printButton = document.getElementById('print-button');\n      printButton.disabled = true;\n      isPrinting = true;\n\n      window.print();\n\n      // Handle print completion\n      window.onafterprint = () => {\n        isPrinting = false;\n        setTimeout(() => {\n          window.close();\n        }, 100);\n      };\n\n      // Timeout handler for print dialog\n      setTimeout(() => {\n        if (!window.closed && isPrinting) {\n          isPrinting = false;\n          printButton.disabled = false;\n          \n          if (retryCount < MAX_RETRIES) {\n            retryCount++;\n            showError('La impresión está tardando más de lo esperado. Intente nuevamente.');\n          } else {\n            showError('No se pudo completar la impresión. Por favor, cierre esta ventana e intente nuevamente.');\n          }\n        }\n      }, 2000);\n\n    } catch (error) {\n      console.error('Print error:', error);\n      isPrinting = false;\n      showError('Error al imprimir. Por favor, intente nuevamente.');\n    }\n  }\n\n  window.onload = () => {\n    try {\n      setupPrintButton();\n      // Delay initial print to ensure content is rendered\n      setTimeout(handlePrint, 800);\n    } catch (error) {\n      console.error('Print error:', error);\n      showError('Error al iniciar la impresión. Por favor, use el botón Imprimir.');\n    }\n  };\n\n  window.onerror = (message, source, lineno, colno, error) => {\n    console.error('Print error:', { message, source, lineno, colno, error });\n    showError('Ocurrió un error inesperado. Por favor, intente nuevamente.');\n    return false;\n  };\n`;","import { Recipe, Product } from '@/types';\nimport { BUSINESS_INFO } from '@/config/constants';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { thermalPrintStyles } from './styles';\nimport { printScripts } from './scripts';\n\nexport function generateRecipePrintTemplate(recipe: Recipe, products: Product[]): string {\n  const date = format(new Date(), \"dd/MM/yyyy HH:mm\", { locale: es });\n  \n  // Sort materials by product order\n  const sortedMaterials = recipe.materials\n    .sort((a, b) => {\n      const productA = products.find(p => p.id === a.productId);\n      const productB = products.find(p => p.id === b.productId);\n      if (!productA || !productB) return 0;\n      return productA.order - productB.order;\n    });\n\n  // Generate materials HTML\n  const materialsHtml = sortedMaterials\n    .map(material => {\n      const product = products.find(p => p.id === material.productId);\n      if (!product) return '';\n      return `\n        <tr>\n          <td class=\"quantity\">${material.quantity} ${material.unit}</td>\n          <td class=\"material\">${product.name}</td>\n        </tr>\n      `;\n    })\n    .join('');\n\n  return `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Receta: ${recipe.name}</title>\n        <style>\n          ${thermalPrintStyles}\n          \n          /* Recipe specific styles */\n          .recipe-header {\n            text-align: center;\n            margin: 3mm 0;\n            padding-bottom: 2mm;\n            border-bottom: 1px dashed #000;\n          }\n          \n          .recipe-header h1 {\n            font-size: 16px;\n            font-weight: bold;\n            margin: 0 0 2mm 0;\n          }\n          \n          .recipe-header p {\n            font-size: 12px;\n            margin: 0;\n          }\n          \n          table thead tr th {\n            font-size: 12px;\n            font-weight: bold;\n            padding: 1mm 0;\n          }\n          \n          table thead tr th.quantity-header {\n            text-align: left;\n            width: 30%;\n          }\n          \n          table thead tr th.material-header {\n            text-align: right;\n            width: 70%;\n          }\n          \n          td.quantity {\n            font-weight: bold;\n            width: 30%;\n            text-align: left;\n            white-space: nowrap;\n          }\n          \n          td.material {\n            width: 70%;\n            text-align: right;\n            padding-left: 2mm;\n          }\n          \n          .notes {\n            margin-top: 3mm;\n            padding-top: 2mm;\n            border-top: 1px dashed #000;\n          }\n          \n          .notes h2 {\n            font-size: 12px;\n            font-weight: bold;\n            margin: 0 0 1mm 0;\n          }\n          \n          .notes p {\n            font-size: 12px;\n            margin: 0;\n            white-space: pre-line;\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"content\">\n          <div class=\"header\">\n            <div>${BUSINESS_INFO.name}</div>\n            <div>${BUSINESS_INFO.owner}</div>\n            <div>Fecha: ${date}</div>\n          </div>\n\n          <div class=\"recipe-header\">\n            <h1>${recipe.name}</h1>\n            <p>Rendimiento: ${recipe.yield} ${recipe.yieldUnit}</p>\n          </div>\n\n          <table>\n            <thead>\n              <tr>\n                <th class=\"quantity-header\">Cantidad</th>\n                <th class=\"material-header\">Material</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${materialsHtml}\n            </tbody>\n          </table>\n\n          ${recipe.notes ? `\n            <div class=\"notes\">\n              <h2>Notas:</h2>\n              <p>${recipe.notes.replace(/\\n/g, '<br>')}</p>\n            </div>\n          ` : ''}\n        </div>\n\n        <div class=\"controls\">\n          <button id=\"print-button\" class=\"print-button\">\n            Imprimir\n          </button>\n        </div>\n\n        <script>${printScripts}</script>\n      </body>\n    </html>\n  `;\n}","import React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Recipe } from '@/types/recipe';\nimport { formatPrice } from '@/lib/utils';\nimport { Button } from '@/components/ui/Button';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { Pencil, Trash2, Printer, History, ChefHat } from 'lucide-react';\nimport { generateRecipePrintTemplate } from '@/lib/utils/printing/recipeTemplate';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\n\ninterface RecipeListProps {\n  recipes: Recipe[];\n  onEdit: (recipe: Recipe) => void;\n  onDelete: (recipe: Recipe) => void;\n}\n\nexport function RecipeList({ recipes, onEdit, onDelete }: RecipeListProps) {\n  const [showHistory, setShowHistory] = useState<Recipe | null>(null);\n  const { products } = useGlobalProducts();\n\n  const handlePrint = (recipe: Recipe) => {\n    const template = generateRecipePrintTemplate(recipe, products);\n    const printTab = window.open('', '_blank');\n    if (!printTab) {\n      throw new Error('No se pudo crear la pestaña de impresión');\n    }\n\n    printTab.document.write(template);\n    printTab.document.close();\n  };\n\n  if (recipes.length === 0) {\n    return (\n      <div className=\"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed\">\n        <p className=\"text-gray-500\">No hay recetas para mostrar</p>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n        {recipes.map((recipe) => {\n          const lastEntry = recipe.costHistory?.[recipe.costHistory.length - 1];\n          const threshold = recipe.costThreshold || 20;\n          const exceedsThreshold = lastEntry && Math.abs(lastEntry.changePercentage) > threshold;\n          const isIncrease = lastEntry?.changePercentage > 0;\n\n          return (\n            <div\n              key={recipe.id}\n              className={`\n                bg-white rounded-lg shadow-sm p-4 space-y-4 transition-colors\n                ${exceedsThreshold ? `border-2 ${isIncrease ? 'border-red-500' : 'border-green-500'}` : 'border'}\n                ${exceedsThreshold && isIncrease ? 'bg-red-50' : exceedsThreshold ? 'bg-green-50' : ''}\n              `}\n            >\n              <div>\n                <div className=\"flex items-center gap-2\">\n                  <h3 className=\"text-lg font-semibold flex-1 break-words\">\n                    {recipe.name}\n                  </h3>\n                  {recipe.isBase && (\n                    <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800\">\n                      <ChefHat className=\"w-3 h-3 mr-1\" />\n                      Base\n                    </span>\n                  )}\n                </div>\n                <p className=\"text-sm text-gray-500 mt-1\">\n                  Rendimiento: {recipe.yield} {recipe.yieldUnit}\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-gray-500\">Costo Total:</span>\n                  <p className=\"font-medium\">{formatPrice(recipe.totalCost)}</p>\n                </div>\n                <div>\n                  <span className=\"text-gray-500\">Costo Unitario:</span>\n                  <p className=\"font-medium\">\n                    {formatPrice(recipe.unitCost)} / {recipe.yieldUnit}\n                  </p>\n                </div>\n                <div className=\"col-span-2\">\n                  <span className=\"text-gray-500\">Precio Sugerido:</span>\n                  <p className=\"font-medium text-blue-600\">\n                    {formatPrice(recipe.suggestedPrice)} / {recipe.yieldUnit}\n                  </p>\n                </div>\n              </div>\n\n              {exceedsThreshold && (\n                <div className={`p-2 rounded-lg ${\n                  isIncrease ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'\n                }`}>\n                  <div className=\"font-medium\">\n                    {isIncrease ? 'Aumento' : 'Reducción'} significativo\n                  </div>\n                  <div className=\"text-sm\">\n                    {lastEntry.changePercentage > 0 ? '+' : ''}\n                    {lastEntry.changePercentage.toFixed(2)}% en el último mes\n                  </div>\n                </div>\n              )}\n\n              {/* Last Update Info */}\n              <div className=\"text-xs text-gray-500 pt-2 border-t\">\n                Última actualización: {format(recipe.lastUpdated, \"d 'de' MMMM, yyyy HH:mm\", { locale: es })}\n              </div>\n\n              <div className=\"flex justify-end gap-1 pt-2 border-t\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => setShowHistory(recipe)}\n                  title=\"Ver historial de costos\"\n                  className=\"w-9 h-9 p-0\"\n                >\n                  <History className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => handlePrint(recipe)}\n                  title=\"Imprimir receta\"\n                  className=\"w-9 h-9 p-0\"\n                >\n                  <Printer className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => onEdit(recipe)}\n                  title=\"Editar receta\"\n                  className=\"w-9 h-9 p-0\"\n                >\n                  <Pencil className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={() => onDelete(recipe)}\n                  title=\"Eliminar receta\"\n                  className=\"w-9 h-9 p-0 text-red-600 hover:text-red-700 hover:bg-red-50\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Cost History Dialog */}\n      <Dialog\n        isOpen={!!showHistory}\n        onClose={() => setShowHistory(null)}\n        title={`Historial de Costos - ${showHistory?.name}`}\n      >\n        <div className=\"space-y-4\">\n          {showHistory?.costHistory?.length ? (\n            <div className=\"space-y-3\">\n              {showHistory.costHistory.map((entry, index) => {\n                const isSignificantChange = Math.abs(entry.changePercentage) > (showHistory.costThreshold || 20);\n                const isIncrease = entry.changePercentage > 0;\n\n                return (\n                  <div \n                    key={`${entry.date}-${index}`}\n                    className={`p-3 rounded-lg ${\n                      isSignificantChange\n                        ? isIncrease\n                          ? 'bg-red-50 border-2 border-red-500'\n                          : 'bg-green-50 border-2 border-green-500'\n                        : 'bg-gray-50 border border-gray-200'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm text-gray-600\">\n                        {format(entry.date, \"d 'de' MMMM, yyyy HH:mm\", { locale: es })}\n                      </span>\n                      <span className={`text-sm font-medium ${\n                        entry.changePercentage > 0 ? 'text-red-600' : 'text-green-600'\n                      }`}>\n                        {entry.changePercentage > 0 ? '+' : ''}\n                        {entry.changePercentage.toFixed(2)}%\n                      </span>\n                    </div>\n                    <div className=\"mt-1\">\n                      <span className=\"font-medium\">\n                        {formatPrice(entry.unitCost)}\n                      </span>\n                      <span className=\"text-gray-500\">\n                        {' '}/ {showHistory.yieldUnit}\n                      </span>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n            <p className=\"text-gray-500 text-center py-4\">\n              No hay historial de costos disponible\n            </p>\n          )}\n          <div className=\"flex justify-end\">\n            <Button onClick={() => setShowHistory(null)}>\n              Cerrar\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </>\n  );\n}","import { ref, push, get, query, orderByChild, equalTo, set } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { auth } from '@/lib/firebase/auth';\nimport { MonthlyFixedCosts } from '@/types/recipe';\nimport { DatabaseError } from '../errors';\n\nconst COLLECTION = 'monthlyFixedCosts';\n\n// Initialize collection if it doesn't exist\nasync function initializeCollection() {\n  try {\n    if (!auth.currentUser) {\n      throw new DatabaseError('User not authenticated');\n    }\n\n    const collectionRef = ref(db, COLLECTION);\n    const snapshot = await get(collectionRef);\n    if (!snapshot.exists()) {\n      await set(collectionRef, {});\n    }\n  } catch (error) {\n    throw new DatabaseError('Failed to initialize fixed costs collection', { cause: error });\n  }\n}\n\nexport async function saveMonthlyFixedCosts(data: Omit<MonthlyFixedCosts, 'id'>): Promise<string> {\n  try {\n    if (!auth.currentUser) {\n      throw new DatabaseError('User not authenticated');\n    }\n\n    await initializeCollection();\n    \n    // Check if there's already an entry for this month/year\n    const existingCosts = await getMonthlyFixedCosts(data.month, data.year);\n    \n    if (existingCosts) {\n      // Update existing entry\n      const costsRef = ref(db, `${COLLECTION}/${existingCosts.id}`);\n      await set(costsRef, {\n        ...data,\n        lastUpdated: Date.now()\n      });\n      return existingCosts.id;\n    }\n\n    // Create new entry\n    const fixedCostsRef = ref(db, COLLECTION);\n    const newRef = push(fixedCostsRef);\n    \n    if (!newRef.key) {\n      throw new DatabaseError('Failed to generate document ID');\n    }\n\n    await set(newRef, {\n      ...data,\n      lastUpdated: Date.now()\n    });\n\n    return newRef.key;\n  } catch (error) {\n    if (error instanceof DatabaseError) {\n      throw error;\n    }\n    throw new DatabaseError('Failed to save monthly fixed costs', { cause: error });\n  }\n}\n\nexport async function getMonthlyFixedCosts(month: number, year: number): Promise<MonthlyFixedCosts | null> {\n  try {\n    if (!auth.currentUser) {\n      throw new DatabaseError('User not authenticated');\n    }\n\n    await initializeCollection();\n    \n    const fixedCostsRef = ref(db, COLLECTION);\n    const monthQuery = query(\n      fixedCostsRef,\n      orderByChild('month'),\n      equalTo(month)\n    );\n\n    const snapshot = await get(monthQuery);\n    if (!snapshot.exists()) return null;\n\n    // Find entry for specified year\n    const entries = Object.entries(snapshot.val());\n    const entry = entries.find(([_, data]) => (data as MonthlyFixedCosts).year === year);\n\n    if (!entry) return null;\n\n    return {\n      id: entry[0],\n      ...(entry[1] as Omit<MonthlyFixedCosts, 'id'>)\n    };\n  } catch (error) {\n    if (error instanceof DatabaseError) {\n      throw error;\n    }\n    throw new DatabaseError('Failed to get monthly fixed costs', { cause: error });\n  }\n}\n\nexport async function getCurrentMonthFixedCosts(): Promise<MonthlyFixedCosts | null> {\n  try {\n    if (!auth.currentUser) {\n      throw new DatabaseError('User not authenticated');\n    }\n\n    const now = new Date();\n    return getMonthlyFixedCosts(now.getMonth() + 1, now.getFullYear());\n  } catch (error) {\n    if (error instanceof DatabaseError) {\n      throw error;\n    }\n    throw new DatabaseError('Failed to get current month fixed costs', { cause: error });\n  }\n}\n\nexport async function getFixedCostsHistory(): Promise<MonthlyFixedCosts[]> {\n  try {\n    if (!auth.currentUser) {\n      throw new DatabaseError('User not authenticated');\n    }\n\n    await initializeCollection();\n    \n    const fixedCostsRef = ref(db, COLLECTION);\n    const snapshot = await get(fixedCostsRef);\n    \n    if (!snapshot.exists()) {\n      return [];\n    }\n\n    return Object.entries(snapshot.val())\n      .map(([id, data]) => ({\n        id,\n        ...(data as Omit<MonthlyFixedCosts, 'id'>)\n      }))\n      .sort((a, b) => b.lastUpdated - a.lastUpdated);\n  } catch (error) {\n    if (error instanceof DatabaseError) {\n      throw error;\n    }\n    throw new DatabaseError('Failed to get fixed costs history', { cause: error });\n  }\n}","import { useState, useEffect } from 'react';\nimport { MonthlyFixedCosts } from '@/types/recipe';\nimport { \n  saveMonthlyFixedCosts, \n  getCurrentMonthFixedCosts,\n  getFixedCostsHistory \n} from '@/lib/services/database/fixedCosts';\nimport { toast } from 'react-hot-toast';\n\nexport function useFixedCosts() {\n  const [currentCosts, setCurrentCosts] = useState<MonthlyFixedCosts | null>(null);\n  const [history, setHistory] = useState<MonthlyFixedCosts[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Load current month's costs and history in parallel\n      const [costs, historyData] = await Promise.all([\n        getCurrentMonthFixedCosts(),\n        getFixedCostsHistory()\n      ]);\n      \n      setCurrentCosts(costs);\n      setHistory(historyData);\n    } catch (error) {\n      console.error('Error loading fixed costs:', error);\n      setError('Error al cargar los costos fijos');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateFixedCosts = async (data: Omit<MonthlyFixedCosts, 'id'>) => {\n    try {\n      setError(null);\n      await saveMonthlyFixedCosts(data);\n      await loadData(); // Reload both current costs and history\n      toast.success('Costos fijos actualizados exitosamente');\n    } catch (error) {\n      console.error('Error updating fixed costs:', error);\n      setError('Error al actualizar los costos fijos');\n      throw error;\n    }\n  };\n\n  return {\n    currentCosts,\n    history,\n    loading,\n    error,\n    updateFixedCosts,\n    loadData\n  };\n}","import React, { useState, useEffect } from 'react';\nimport { Search } from 'lucide-react';\nimport { Product } from '@/types';\nimport { Recipe } from '@/types/recipe';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { formatPrice } from '@/lib/utils';\n\ninterface MaterialSelectorProps {\n  products: Product[];\n  recipes: Recipe[];\n  onSelect: (material: { id: string; type: 'product' | 'recipe' }, quantity: number) => void;\n  selectedMaterials: string[];\n}\n\nexport function MaterialSelector({ \n  products, \n  recipes,\n  onSelect, \n  selectedMaterials \n}: MaterialSelectorProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMaterial, setSelectedMaterial] = useState<{ id: string; type: 'product' | 'recipe' } | null>(null);\n  const [quantity, setQuantity] = useState<number>(0);\n  const [showResults, setShowResults] = useState(false);\n\n  // Get only production materials and base recipes that haven't been selected yet\n  const availableProducts = products.filter(p => \n    p.isProduction && !selectedMaterials.includes(p.id!)\n  );\n\n  const availableRecipes = recipes.filter(r => \n    r.isBase && !selectedMaterials.includes(r.id!)\n  );\n\n  // Filter and sort available materials\n  const filteredMaterials = [...availableProducts.map(p => ({\n    id: p.id!,\n    type: 'product' as const,\n    name: p.name,\n    sku: p.sku,\n    unit: p.unitMeasure || p.purchasePackaging,\n    unitCost: p.pricePerUnit || 0\n  })), ...availableRecipes.map(r => ({\n    id: r.id!,\n    type: 'recipe' as const,\n    name: r.name,\n    unit: r.yieldUnit,\n    unitCost: r.unitCost\n  }))].filter(material => {\n    const searchLower = searchTerm.toLowerCase();\n    return material.name.toLowerCase().includes(searchLower) ||\n           (material.type === 'product' && material.sku.toLowerCase().includes(searchLower));\n  }).sort((a, b) => {\n    // Prioritize exact matches\n    const aNameMatch = a.name.toLowerCase().startsWith(searchTerm.toLowerCase());\n    const bNameMatch = b.name.toLowerCase().startsWith(searchTerm.toLowerCase());\n    if (aNameMatch && !bNameMatch) return -1;\n    if (!aNameMatch && bNameMatch) return 1;\n    return a.name.localeCompare(b.name);\n  }).slice(0, 5);\n\n  const handleSelect = (material: typeof filteredMaterials[0]) => {\n    setSelectedMaterial({ id: material.id, type: material.type });\n    setSearchTerm(material.name);\n    setShowResults(false);\n  };\n\n  const handleAdd = () => {\n    if (selectedMaterial && quantity > 0) {\n      onSelect(selectedMaterial, quantity);\n      setSelectedMaterial(null);\n      setSearchTerm('');\n      setQuantity(0);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid gap-4 sm:grid-cols-2\">\n        {/* Material Search */}\n        <div className=\"relative\">\n          <div className=\"relative\">\n            <Input\n              placeholder=\"Buscar material...\"\n              value={searchTerm}\n              onChange={(e) => {\n                setSearchTerm(e.target.value);\n                setShowResults(true);\n                setSelectedMaterial(null);\n              }}\n              onFocus={() => setShowResults(true)}\n              className=\"pl-10\"\n            />\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n          </div>\n\n          {/* Search Results */}\n          {showResults && searchTerm && filteredMaterials.length > 0 && (\n            <div className=\"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg\">\n              {filteredMaterials.map((material) => (\n                <button\n                  key={`${material.type}-${material.id}`}\n                  type=\"button\"\n                  onClick={() => handleSelect(material)}\n                  className=\"w-full px-4 py-2 text-left hover:bg-gray-50\"\n                >\n                  <div className=\"font-medium\">{material.name}</div>\n                  <div className=\"text-sm text-gray-500 flex items-center justify-between\">\n                    <span>\n                      {material.type === 'product' ? material.sku : 'Receta Base'}\n                    </span>\n                    <span className=\"text-blue-600 font-medium\">\n                      {formatPrice(material.unitCost)} / {material.unit}\n                    </span>\n                  </div>\n                </button>\n              ))}\n            </div>\n          )}\n\n          {/* No Results Message */}\n          {showResults && searchTerm && filteredMaterials.length === 0 && (\n            <div className=\"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg p-4 text-center text-gray-500\">\n              No se encontraron materiales disponibles\n            </div>\n          )}\n\n          {/* Available Materials Count */}\n          {!searchTerm && (\n            <div className=\"mt-1 text-xs text-gray-500\">\n              {availableProducts.length} materiales de producción y {availableRecipes.length} recetas base disponibles\n            </div>\n          )}\n        </div>\n\n        {/* Quantity Input */}\n        {selectedMaterial && (\n          <div className=\"flex gap-2\">\n            <Input\n              type=\"number\"\n              value={quantity}\n              onChange={(e) => setQuantity(Number(e.target.value))}\n              min={0}\n              step=\"0.01\"\n              placeholder=\"Cantidad\"\n              className=\"flex-1\"\n            />\n            <Button\n              type=\"button\"\n              onClick={handleAdd}\n              disabled={quantity <= 0}\n            >\n              Agregar\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport { Package, Scale, ChefHat, Trash2 } from 'lucide-react';\nimport { Product } from '@/types';\nimport { Recipe, RecipeMaterial } from '@/types/recipe';\nimport { Button } from '@/components/ui/Button';\nimport { formatPrice } from '@/lib/utils';\n\ninterface MaterialListProps {\n  materials: RecipeMaterial[];\n  products: Product[];\n  recipes: Recipe[];\n  onRemove: (index: number) => void;\n}\n\nexport function MaterialList({\n  materials,\n  products,\n  recipes,\n  onRemove\n}: MaterialListProps) {\n  if (materials.length === 0) {\n    return (\n      <div className=\"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300\">\n        <Package className=\"w-8 h-8 text-gray-400 mx-auto mb-3\" />\n        <p className=\"text-gray-500\">No hay materiales agregados</p>\n        <p className=\"text-sm text-gray-400 mt-1\">\n          Utilice el buscador para agregar materiales a la receta\n        </p>\n      </div>\n    );\n  }\n\n  const totalCost = materials.reduce((sum, material) => sum + material.totalCost, 0);\n\n  return (\n    <div className=\"overflow-hidden rounded-lg border border-gray-200 bg-white\">\n      <table className=\"min-w-full divide-y divide-gray-200\">\n        <thead className=\"bg-gray-50\">\n          <tr>\n            <th scope=\"col\" className=\"px-4 py-3 text-left text-sm font-medium text-gray-500\">\n              Material\n            </th>\n            <th scope=\"col\" className=\"px-4 py-3 text-center text-sm font-medium text-gray-500 w-32\">\n              Cantidad\n            </th>\n            <th scope=\"col\" className=\"px-4 py-3 text-right text-sm font-medium text-gray-500 w-32\">\n              Costo\n            </th>\n            <th scope=\"col\" className=\"px-4 py-3 text-center text-sm font-medium text-gray-500 w-16\">\n              <span className=\"sr-only\">Acciones</span>\n            </th>\n          </tr>\n        </thead>\n        <tbody className=\"divide-y divide-gray-200\">\n          {materials.map((material, index) => {\n            const product = products.find(p => p.id === material.id);\n            const recipe = recipes.find(r => r.id === material.id);\n            const item = product || recipe;\n            if (!item) return null;\n\n            const isRecipe = material.type === 'recipe';\n\n            return (\n              <tr \n                key={`${material.type}-${material.id}-${index}`}\n                className=\"hover:bg-gray-50 transition-colors\"\n              >\n                <td className=\"px-4 py-3\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2\">\n                        {isRecipe ? (\n                          <ChefHat className=\"w-4 h-4 text-amber-500 flex-shrink-0\" />\n                        ) : (\n                          <Package className=\"w-4 h-4 text-blue-500 flex-shrink-0\" />\n                        )}\n                        <span className=\"font-medium text-gray-900 truncate\">\n                          {item.name}\n                        </span>\n                      </div>\n                      <div className=\"mt-1 flex items-center gap-3 text-sm text-gray-500\">\n                        {isRecipe ? (\n                          <span className=\"flex items-center gap-1\">\n                            <ChefHat className=\"w-4 h-4\" />\n                            Receta Base\n                          </span>\n                        ) : (\n                          <>\n                            <span className=\"flex items-center gap-1\">\n                              <Package className=\"w-4 h-4\" />\n                              {product!.sku}\n                            </span>\n                            {product!.unitMeasure && (\n                              <span className=\"flex items-center gap-1\">\n                                <Scale className=\"w-4 h-4\" />\n                                {product!.unitMeasure}\n                              </span>\n                            )}\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-4 py-3 text-center\">\n                  <span className=\"font-medium\">\n                    {material.quantity} {material.unit}\n                  </span>\n                </td>\n                <td className=\"px-4 py-3 text-right\">\n                  <div className=\"font-medium text-gray-900\">\n                    {formatPrice(material.totalCost)}\n                  </div>\n                  <div className=\"text-sm text-gray-500\">\n                    {formatPrice(material.unitCost)} c/u\n                  </div>\n                </td>\n                <td className=\"px-4 py-3 text-center\">\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={() => onRemove(index)}\n                    className=\"text-red-600 hover:text-red-700 hover:bg-red-50 p-1 rounded-full\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </Button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n        <tfoot className=\"bg-gray-50\">\n          <tr>\n            <td colSpan={2} className=\"px-4 py-3 text-sm font-medium text-gray-500\">\n              Total Materiales\n            </td>\n            <td colSpan={2} className=\"px-4 py-3 text-right\">\n              <span className=\"font-bold text-blue-600\">\n                {formatPrice(totalCost)}\n              </span>\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  );\n}","import { Recipe, RecipeMaterial } from '@/types/recipe';\nimport { Product } from '@/types';\n\nexport interface RecipeCosts {\n  totalCost: number;\n  unitCost: number;\n  suggestedPrice: number;\n  costHistory?: {\n    date: number;\n    unitCost: number;\n    changePercentage: number;\n  }[];\n}\n\n// Calculate fixed cost percentage\nexport function calculateFixedCostPercentage(\n  totalMaterialsCost: number,\n  totalFixedCosts: number\n): number {\n  if (totalMaterialsCost <= 0) return 0;\n  return Number((totalFixedCosts / totalMaterialsCost * 100).toFixed(2));\n}\n\n// Calculate total cost of materials recursively (for nested recipes)\nfunction calculateMaterialsCost(\n  material: RecipeMaterial,\n  products: Product[],\n  recipes: Recipe[]\n): number {\n  if (material.type === 'product') {\n    const product = products.find(p => p.id === material.id);\n    if (!product) return 0;\n    return material.quantity * (product.pricePerUnit || 0);\n  } else {\n    const recipe = recipes.find(r => r.id === material.id);\n    if (!recipe) return 0;\n    return material.quantity * recipe.unitCost;\n  }\n}\n\nexport function calculateRecipeCosts(\n  materials: RecipeMaterial[],\n  products: Product[],\n  recipes: Recipe[],\n  yield_: number,\n  fixedCostPercentage: number,\n  profitPercentage: number,\n  previousUnitCost?: number\n): RecipeCosts {\n  // Calculate total materials cost including nested recipes\n  const materialsCost = materials.reduce((sum, material) => \n    sum + calculateMaterialsCost(material, products, recipes), \n    0\n  );\n\n  // Calculate fixed costs\n  const fixedCosts = (materialsCost * fixedCostPercentage) / 100;\n\n  // Calculate total cost\n  const totalCost = Number((materialsCost + fixedCosts).toFixed(2));\n\n  // Calculate unit cost\n  const unitCost = yield_ > 0 ? Number((totalCost / yield_).toFixed(2)) : 0;\n\n  // Calculate suggested price using the formula:\n  // suggestedPrice = unitCost / (1 - profitPercentage/100)\n  const profitDecimal = profitPercentage / 100;\n  const suggestedPrice = profitDecimal < 1 \n    ? Number((unitCost / (1 - profitDecimal)).toFixed(2))\n    : Number((unitCost * 2).toFixed(2));\n\n  // Calculate cost history if there's a previous cost\n  let costHistory;\n  if (previousUnitCost && Math.abs(unitCost - previousUnitCost) > 0.01) {\n    costHistory = [{\n      date: Date.now(),\n      unitCost,\n      changePercentage: Number(((unitCost - previousUnitCost) / previousUnitCost * 100).toFixed(2))\n    }];\n  }\n\n  return {\n    totalCost,\n    unitCost,\n    suggestedPrice,\n    costHistory\n  };\n}\n\n// Function to update costs of dependent recipes\nexport function updateDependentRecipes(\n  recipes: Recipe[],\n  products: Product[],\n  updatedRecipeId: string,\n  visited = new Set<string>()\n): Recipe[] {\n  // Prevent infinite recursion\n  if (visited.has(updatedRecipeId)) {\n    return recipes;\n  }\n  visited.add(updatedRecipeId);\n\n  // Find recipes that use the updated recipe as a material\n  const dependentRecipes = recipes.filter(recipe =>\n    recipe.materials.some(m => m.type === 'recipe' && m.id === updatedRecipeId)\n  );\n\n  // Update each dependent recipe\n  let updatedRecipes = [...recipes];\n  for (const recipe of dependentRecipes) {\n    // Recalculate costs\n    const costs = calculateRecipeCosts(\n      recipe.materials,\n      products,\n      updatedRecipes, // Use current state of recipes\n      recipe.yield,\n      recipe.fixedCostPercentage,\n      recipe.profitPercentage,\n      recipe.unitCost\n    );\n\n    // Update recipe with new costs\n    const recipeIndex = updatedRecipes.findIndex(r => r.id === recipe.id);\n    if (recipeIndex !== -1) {\n      const costHistory = recipe.costHistory || [];\n      if (costs.costHistory?.[0]) {\n        costHistory.push(costs.costHistory[0]);\n      }\n\n      updatedRecipes[recipeIndex] = {\n        ...recipe,\n        totalCost: costs.totalCost,\n        unitCost: costs.unitCost,\n        suggestedPrice: costs.suggestedPrice,\n        costHistory,\n        lastUpdated: Date.now()\n      };\n\n      // Recursively update recipes that depend on this one\n      updatedRecipes = updateDependentRecipes(\n        updatedRecipes,\n        products,\n        recipe.id!,\n        visited\n      );\n    }\n  }\n\n  return updatedRecipes;\n}","import React, { useState } from 'react';\nimport { Recipe } from '@/types/recipe';\nimport { Product } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { Card } from '@/components/ui/Card';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\nimport { useFixedCosts } from '@/hooks/useFixedCosts';\nimport { MaterialSelector } from './MaterialSelector';\nimport { MaterialList } from './MaterialList';\nimport { calculateRecipeCosts } from '@/lib/recipes/calculations';\nimport { formatPrice } from '@/lib/utils';\nimport { toast } from 'react-hot-toast';\n\ninterface RecipeFormProps {\n  initialData?: Recipe;\n  onSubmit: (data: Omit<Recipe, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isLoading?: boolean;\n  recipes: Recipe[];\n}\n\nexport function RecipeForm({\n  initialData,\n  onSubmit,\n  onCancel,\n  isLoading,\n  recipes\n}: RecipeFormProps) {\n  const { products, loading: productsLoading } = useGlobalProducts();\n  const { currentCosts } = useFixedCosts();\n  const [formState, setFormState] = useState<Omit<Recipe, 'id'>>({\n    name: initialData?.name || '',\n    yield: initialData?.yield || 0,\n    yieldUnit: initialData?.yieldUnit || '',\n    materials: initialData?.materials || [],\n    fixedCostPercentage: initialData?.fixedCostPercentage || 15,\n    profitPercentage: initialData?.profitPercentage || 90,\n    notes: initialData?.notes || '',\n    totalCost: initialData?.totalCost || 0,\n    unitCost: initialData?.unitCost || 0,\n    suggestedPrice: initialData?.suggestedPrice || 0,\n    lastUpdated: Date.now(),\n    costHistory: initialData?.costHistory || [],\n    costThreshold: initialData?.costThreshold || 20,\n    isBase: initialData?.isBase || false\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // Validate products\n    if (formState.materials.length === 0) {\n      toast.error('Debe agregar al menos un material');\n      return;\n    }\n\n    if (!formState.name || !formState.yield || !formState.yieldUnit) {\n      toast.error('Complete todos los campos requeridos');\n      return;\n    }\n\n    await onSubmit(formState);\n  };\n\n  const handleAddMaterial = (material: { id: string; type: 'product' | 'recipe' }, quantity: number) => {\n    if (material.type === 'product') {\n      const product = products.find(p => p.id === material.id);\n      if (!product) return;\n\n      const unitCost = product.pricePerUnit || 0;\n      const totalCost = unitCost * quantity;\n\n      setFormState(prev => {\n        const materials = [...prev.materials, {\n          id: material.id,\n          type: 'product',\n          quantity,\n          unit: product.unitMeasure || product.purchasePackaging,\n          unitCost,\n          totalCost\n        }];\n\n        const costs = calculateRecipeCosts(\n          materials,\n          products,\n          recipes,\n          prev.yield,\n          prev.fixedCostPercentage,\n          prev.profitPercentage,\n          prev.unitCost\n        );\n\n        return {\n          ...prev,\n          materials,\n          totalCost: costs.totalCost,\n          unitCost: costs.unitCost,\n          suggestedPrice: costs.suggestedPrice,\n          costHistory: costs.costHistory \n            ? [...(prev.costHistory || []), ...costs.costHistory]\n            : prev.costHistory\n        };\n      });\n    } else {\n      const recipe = recipes.find(r => r.id === material.id);\n      if (!recipe) return;\n\n      const unitCost = recipe.unitCost;\n      const totalCost = unitCost * quantity;\n\n      setFormState(prev => {\n        const materials = [...prev.materials, {\n          id: material.id,\n          type: 'recipe',\n          quantity,\n          unit: recipe.yieldUnit,\n          unitCost,\n          totalCost\n        }];\n\n        const costs = calculateRecipeCosts(\n          materials,\n          products,\n          recipes,\n          prev.yield,\n          prev.fixedCostPercentage,\n          prev.profitPercentage,\n          prev.unitCost\n        );\n\n        return {\n          ...prev,\n          materials,\n          totalCost: costs.totalCost,\n          unitCost: costs.unitCost,\n          suggestedPrice: costs.suggestedPrice,\n          costHistory: costs.costHistory \n            ? [...(prev.costHistory || []), ...costs.costHistory]\n            : prev.costHistory\n        };\n      });\n    }\n  };\n\n  if (productsLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n      </div>\n    );\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <Card>\n        <Card.Header>\n          <Card.Title>Información Básica</Card.Title>\n        </Card.Header>\n        <Card.Content className=\"space-y-4\">\n          <Input\n            label=\"Nombre de la receta\"\n            value={formState.name}\n            onChange={(e) => setFormState(prev => ({ ...prev, name: e.target.value }))}\n            required\n          />\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <Input\n              type=\"number\"\n              label=\"Rendimiento\"\n              value={formState.yield}\n              onChange={(e) => setFormState(prev => {\n                const yield_ = Number(e.target.value);\n                const costs = calculateRecipeCosts(\n                  prev.materials,\n                  products,\n                  recipes,\n                  yield_,\n                  prev.fixedCostPercentage,\n                  prev.profitPercentage,\n                  prev.unitCost\n                );\n\n                return {\n                  ...prev,\n                  yield: yield_,\n                  totalCost: costs.totalCost,\n                  unitCost: costs.unitCost,\n                  suggestedPrice: costs.suggestedPrice,\n                  costHistory: costs.costHistory \n                    ? [...(prev.costHistory || []), ...costs.costHistory]\n                    : prev.costHistory\n                };\n              })}\n              min={0}\n              step=\"0.01\"\n              required\n            />\n\n            <Input\n              label=\"Unidad\"\n              value={formState.yieldUnit}\n              onChange={(e) => setFormState(prev => ({ \n                ...prev, \n                yieldUnit: e.target.value.toUpperCase() \n              }))}\n              required\n            />\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              id=\"isBase\"\n              checked={formState.isBase}\n              onChange={(e) => setFormState(prev => ({\n                ...prev,\n                isBase: e.target.checked\n              }))}\n              className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n            />\n            <label htmlFor=\"isBase\" className=\"text-sm font-medium text-gray-700\">\n              Receta base (puede usarse como material en otras recetas)\n            </label>\n          </div>\n        </Card.Content>\n      </Card>\n\n      <Card>\n        <Card.Header>\n          <Card.Title>Materiales</Card.Title>\n        </Card.Header>\n        <Card.Content className=\"space-y-4\">\n          <MaterialSelector\n            products={products}\n            recipes={recipes}\n            onSelect={handleAddMaterial}\n            selectedMaterials={formState.materials.map(m => m.id)}\n          />\n          <MaterialList\n            materials={formState.materials}\n            products={products}\n            recipes={recipes}\n            onRemove={(index) => {\n              setFormState(prev => {\n                const materials = prev.materials.filter((_, i) => i !== index);\n                const costs = calculateRecipeCosts(\n                  materials,\n                  products,\n                  recipes,\n                  prev.yield,\n                  prev.fixedCostPercentage,\n                  prev.profitPercentage,\n                  prev.unitCost\n                );\n\n                return {\n                  ...prev,\n                  materials,\n                  totalCost: costs.totalCost,\n                  unitCost: costs.unitCost,\n                  suggestedPrice: costs.suggestedPrice,\n                  costHistory: costs.costHistory \n                    ? [...(prev.costHistory || []), ...costs.costHistory]\n                    : prev.costHistory\n                };\n              });\n            }}\n          />\n        </Card.Content>\n      </Card>\n\n      <Card>\n        <Card.Header>\n          <Card.Title>Configuración de Costos</Card.Title>\n        </Card.Header>\n        <Card.Content>\n          <div className=\"grid gap-6\">\n            {/* Cost Configuration Section */}\n            <div className=\"grid sm:grid-cols-2 gap-4\">\n              {/* Fixed Cost */}\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"text-sm font-medium text-blue-700\">Costo Fijo:</div>\n                  <div className=\"text-lg font-bold text-blue-700\">\n                    {formState.fixedCostPercentage.toFixed(2)}%\n                  </div>\n                </div>\n                <p className=\"text-sm text-blue-600\">\n                  {currentCosts \n                    ? 'Basado en los costos del mes actual' \n                    : 'Usando valor por defecto (15%)'}\n                </p>\n              </div>\n\n              {/* Profit Configuration */}\n              <div className=\"bg-green-50 p-4 rounded-lg\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"text-sm font-medium text-green-700\">Beneficio:</div>\n                  <Input\n                    type=\"number\"\n                    value={formState.profitPercentage}\n                    onChange={(e) => setFormState(prev => {\n                      const profitPercentage = Number(e.target.value);\n                      const costs = calculateRecipeCosts(\n                        prev.materials,\n                        products,\n                        recipes,\n                        prev.yield,\n                        prev.fixedCostPercentage,\n                        profitPercentage,\n                        prev.unitCost\n                      );\n\n                      return {\n                        ...prev,\n                        profitPercentage,\n                        totalCost: costs.totalCost,\n                        unitCost: costs.unitCost,\n                        suggestedPrice: costs.suggestedPrice,\n                        costHistory: costs.costHistory \n                          ? [...(prev.costHistory || []), ...costs.costHistory]\n                          : prev.costHistory\n                      };\n                    })}\n                    min={0}\n                    max={99.99}\n                    required\n                    className=\"w-24 text-right bg-white\"\n                  />\n                </div>\n                <p className=\"text-sm text-green-600\">\n                  Porcentaje de beneficio esperado\n                </p>\n              </div>\n            </div>\n\n            {/* Cost Summary Section */}\n            <div className=\"bg-gray-50 p-4 rounded-lg\">\n              <div className=\"grid gap-4\">\n                {/* Materials Cost */}\n                <div>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"text-sm text-gray-600\">Costo de Materiales:</div>\n                    <div className=\"text-lg font-medium text-gray-900\">\n                      {formatPrice(formState.totalCost)}\n                    </div>\n                  </div>\n                  <div className=\"text-xs text-gray-500 mt-1\">\n                    Total de {formState.materials.length} materiales\n                  </div>\n                </div>\n\n                {/* Unit Cost */}\n                <div className=\"pt-4 border-t border-gray-200\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"text-sm text-gray-600\">\n                      Costo por {formState.yieldUnit || 'unidad'}:\n                    </div>\n                    <div className=\"text-lg font-medium text-blue-600\">\n                      {formatPrice(formState.unitCost)}\n                    </div>\n                  </div>\n                  <div className=\"text-xs text-gray-500 mt-1\">\n                    Para un rendimiento de {formState.yield} {formState.yieldUnit}\n                  </div>\n                </div>\n\n                {/* Suggested Price */}\n                <div className=\"pt-4 border-t border-gray-200\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"text-sm text-gray-600\">\n                      Precio Sugerido por {formState.yieldUnit || 'unidad'}:\n                    </div>\n                    <div className=\"text-lg font-bold text-green-600\">\n                      {formatPrice(formState.suggestedPrice)}\n                    </div>\n                  </div>\n                  <div className=\"text-xs text-gray-500 mt-1\">\n                    Con {formState.profitPercentage}% de beneficio esperado\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Cost Threshold Warning */}\n            {formState.costHistory?.length > 0 && (\n              <div className=\"bg-amber-50 p-4 rounded-lg\">\n                <div className=\"flex items-center gap-2 text-amber-700\">\n                  <div className=\"text-sm font-medium\">Umbral de Alerta:</div>\n                  <div className=\"text-lg font-bold\">\n                    {formState.costThreshold}%\n                  </div>\n                </div>\n                <p className=\"text-sm text-amber-600 mt-1\">\n                  Se notificará cuando el cambio en los costos supere este porcentaje\n                </p>\n              </div>\n            )}\n          </div>\n        </Card.Content>\n      </Card>\n\n      <Card>\n        <Card.Header>\n          <Card.Title>Notas Adicionales</Card.Title>\n        </Card.Header>\n        <Card.Content>\n          <textarea\n            value={formState.notes}\n            onChange={(e) => setFormState(prev => ({ ...prev, notes: e.target.value }))}\n            rows={3}\n            className=\"w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:ring-1 focus:ring-blue-500\"\n          />\n        </Card.Content>\n      </Card>\n\n      <div className=\"flex justify-end space-x-4\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={onCancel}\n          disabled={isLoading}\n        >\n          Cancelar\n        </Button>\n        <Button\n          type=\"submit\"\n          isLoading={isLoading}\n        >\n          {initialData ? 'Actualizar' : 'Crear'} Receta\n        </Button>\n      </div>\n    </form>\n  );\n}","import React, { useState } from 'react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Card } from '@/components/ui/Card';\nimport { MonthlyFixedCosts } from '@/types/recipe';\nimport { calculateFixedCostPercentage } from '@/lib/recipes/calculations';\nimport { formatPrice } from '@/lib/utils';\nimport { Loader2, History, TrendingUp, TrendingDown } from 'lucide-react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\n\ninterface FixedCostsFormProps {\n  initialData?: MonthlyFixedCosts;\n  onSubmit: (data: Omit<MonthlyFixedCosts, 'id'>) => Promise<void>;\n  onCancel: () => void;\n  isLoading?: boolean;\n  history?: MonthlyFixedCosts[];\n}\n\nexport function FixedCostsForm({\n  initialData,\n  onSubmit,\n  onCancel,\n  isLoading,\n  history = []\n}: FixedCostsFormProps) {\n  const [isSaving, setIsSaving] = useState(false);\n  const [formData, setFormData] = useState<Omit<MonthlyFixedCosts, 'id'>>({\n    month: new Date().getMonth() + 1, // Current month\n    year: new Date().getFullYear(), // Current year\n    totalMaterialsCost: initialData?.totalMaterialsCost || 0,\n    totalFixedCosts: initialData?.totalFixedCosts || 0,\n    totalSales: initialData?.totalSales || 0,\n    productionSales: initialData?.productionSales || 0,\n    fixedCostPercentage: initialData?.fixedCostPercentage || 0,\n    lastUpdated: Date.now()\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Validate data\n    if (formData.totalSales < formData.productionSales) {\n      alert('Las ventas de producción no pueden ser mayores que las ventas totales');\n      return;\n    }\n\n    // Calculate production sales percentage\n    const productionSalesPercentage = formData.totalSales > 0 \n      ? (formData.productionSales / formData.totalSales) * 100 \n      : 0;\n\n    // Calculate fixed costs for production\n    const productionFixedCosts = formData.totalFixedCosts * (productionSalesPercentage / 100);\n\n    // Calculate fixed cost percentage based on production values\n    const fixedCostPercentage = calculateFixedCostPercentage(\n      formData.totalMaterialsCost,\n      productionFixedCosts\n    );\n\n    try {\n      setIsSaving(true);\n      await onSubmit({\n        ...formData,\n        fixedCostPercentage,\n        lastUpdated: Date.now()\n      });\n    } catch (error) {\n      console.error('Error saving fixed costs:', error);\n      // Error will be handled by the parent component\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  // Calculate derived values\n  const productionSalesPercentage = formData.totalSales > 0 \n    ? (formData.productionSales / formData.totalSales) * 100 \n    : 0;\n\n  const productionFixedCosts = formData.totalFixedCosts * (productionSalesPercentage / 100);\n  const currentFixedCostPercentage = calculateFixedCostPercentage(\n    formData.totalMaterialsCost,\n    productionFixedCosts\n  );\n\n  // Group history by year and month\n  const groupedHistory = history.reduce((acc, entry) => {\n    const year = entry.year;\n    const month = entry.month;\n    \n    if (!acc[year]) {\n      acc[year] = {};\n    }\n    \n    if (!acc[year][month]) {\n      acc[year][month] = [];\n    }\n    \n    acc[year][month].push(entry);\n    return acc;\n  }, {} as Record<number, Record<number, MonthlyFixedCosts[]>>);\n\n  // Sort years and months in descending order\n  const sortedYears = Object.keys(groupedHistory)\n    .map(Number)\n    .sort((a, b) => b - a);\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <Card>\n        <Card.Header>\n          <Card.Title>Ventas</Card.Title>\n        </Card.Header>\n        <Card.Content className=\"space-y-4\">\n          <Input\n            label=\"Ventas Totales\"\n            type=\"number\"\n            min=\"0\"\n            step=\"any\"\n            value={formData.totalSales}\n            onChange={(e) => setFormData(prev => ({ \n              ...prev, \n              totalSales: parseFloat(e.target.value) || 0\n            }))}\n            required\n            isCurrency\n            disabled={isSaving}\n          />\n\n          <Input\n            label=\"Ventas de Producción Propia\"\n            type=\"number\"\n            min=\"0\"\n            step=\"any\"\n            value={formData.productionSales}\n            onChange={(e) => setFormData(prev => ({ \n              ...prev, \n              productionSales: parseFloat(e.target.value) || 0\n            }))}\n            required\n            isCurrency\n            disabled={isSaving}\n          />\n\n          <div className=\"bg-blue-50 p-4 rounded-lg\">\n            <div className=\"text-sm text-blue-600 mb-2\">\n              Porcentaje de Ventas de Producción:\n            </div>\n            <div className=\"text-2xl font-bold text-blue-700\">\n              {productionSalesPercentage.toFixed(2)}%\n            </div>\n          </div>\n        </Card.Content>\n      </Card>\n\n      <Card>\n        <Card.Header>\n          <Card.Title>Costos</Card.Title>\n        </Card.Header>\n        <Card.Content className=\"space-y-4\">\n          <Input\n            label=\"Costo Total de Materiales\"\n            type=\"number\"\n            min=\"0\"\n            step=\"any\"\n            value={formData.totalMaterialsCost}\n            onChange={(e) => setFormData(prev => ({ \n              ...prev, \n              totalMaterialsCost: parseFloat(e.target.value) || 0\n            }))}\n            required\n            isCurrency\n            disabled={isSaving}\n          />\n\n          <Input\n            label=\"Gastos Fijos Totales\"\n            type=\"number\"\n            min=\"0\"\n            step=\"any\"\n            value={formData.totalFixedCosts}\n            onChange={(e) => setFormData(prev => ({ \n              ...prev, \n              totalFixedCosts: parseFloat(e.target.value) || 0\n            }))}\n            required\n            isCurrency\n            disabled={isSaving}\n          />\n\n          <div className=\"bg-gray-50 p-4 rounded-lg space-y-4\">\n            <div>\n              <div className=\"text-sm text-gray-600 mb-1\">\n                Gastos Fijos de Producción:\n              </div>\n              <div className=\"text-xl font-bold text-blue-600\">\n                {formatPrice(productionFixedCosts)}\n              </div>\n              <div className=\"text-sm text-gray-500 mt-1\">\n                {productionSalesPercentage.toFixed(2)}% de {formatPrice(formData.totalFixedCosts)}\n              </div>\n            </div>\n\n            <div>\n              <div className=\"text-sm text-gray-600 mb-1\">\n                Porcentaje sobre Materiales:\n              </div>\n              <div className=\"text-xl font-bold text-blue-600\">\n                {currentFixedCostPercentage.toFixed(2)}%\n              </div>\n              <div className=\"text-sm text-gray-500 mt-1\">\n                {formatPrice(productionFixedCosts)} / {formatPrice(formData.totalMaterialsCost)}\n              </div>\n            </div>\n          </div>\n        </Card.Content>\n      </Card>\n\n      {/* Historical Changes */}\n      {sortedYears.length > 0 && (\n        <Card>\n          <Card.Header>\n            <div className=\"flex items-center gap-2\">\n              <History className=\"w-5 h-5 text-gray-500\" />\n              <Card.Title>Historial por Año y Mes</Card.Title>\n            </div>\n          </Card.Header>\n          <Card.Content>\n            <div className=\"space-y-6\">\n              {sortedYears.map(year => (\n                <div key={year} className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">\n                    {year}\n                  </h3>\n                  <div className=\"space-y-4\">\n                    {Object.entries(groupedHistory[year])\n                      .sort(([a], [b]) => Number(b) - Number(a))\n                      .map(([month, entries]) => {\n                        const monthName = format(new Date(year, Number(month) - 1), 'MMMM', { locale: es });\n                        const latestEntry = entries[entries.length - 1];\n                        const previousEntry = history.find(h => \n                          h.year === year && \n                          h.month === Number(month) - 1\n                        );\n\n                        const percentageChange = previousEntry\n                          ? ((latestEntry.fixedCostPercentage - previousEntry.fixedCostPercentage) / previousEntry.fixedCostPercentage) * 100\n                          : 0;\n\n                        return (\n                          <div key={month} className=\"space-y-2\">\n                            <h4 className=\"font-medium text-gray-700 capitalize\">\n                              {monthName}\n                            </h4>\n                            <div \n                              className={`p-4 rounded-lg ${\n                                Math.abs(percentageChange) > 10\n                                  ? percentageChange > 0\n                                    ? 'bg-red-50'\n                                    : 'bg-green-50'\n                                  : 'bg-gray-50'\n                              }`}\n                            >\n                              <div className=\"flex items-center justify-between mb-2\">\n                                <div className=\"text-sm text-gray-600\">\n                                  Última actualización:\n                                </div>\n                                {previousEntry && (\n                                  <div className={`text-sm font-medium ${\n                                    percentageChange > 0 ? 'text-red-600' : 'text-green-600'\n                                  }`}>\n                                    {percentageChange > 0 ? '+' : ''}\n                                    {percentageChange.toFixed(2)}%\n                                  </div>\n                                )}\n                              </div>\n                              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                                <div>\n                                  <span className=\"text-gray-600\">Materiales:</span>\n                                  <div className=\"font-medium\">\n                                    {formatPrice(latestEntry.totalMaterialsCost)}\n                                  </div>\n                                </div>\n                                <div>\n                                  <span className=\"text-gray-600\">Gastos Fijos:</span>\n                                  <div className=\"font-medium\">\n                                    {formatPrice(latestEntry.totalFixedCosts)}\n                                  </div>\n                                </div>\n                                <div className=\"col-span-2\">\n                                  <span className=\"text-gray-600\">Porcentaje:</span>\n                                  <div className=\"font-medium\">\n                                    {latestEntry.fixedCostPercentage.toFixed(2)}%\n                                  </div>\n                                </div>\n                              </div>\n                              {Math.abs(percentageChange) > 10 && (\n                                <div className={`mt-2 flex items-center gap-1.5 text-sm ${\n                                  percentageChange > 0 \n                                    ? 'text-red-600' \n                                    : 'text-green-600'\n                                }`}>\n                                  {percentageChange > 0 ? (\n                                    <TrendingUp className=\"w-4 h-4\" />\n                                  ) : (\n                                    <TrendingDown className=\"w-4 h-4\" />\n                                  )}\n                                  <span>\n                                    {percentageChange > 0 \n                                      ? 'Aumento significativo' \n                                      : 'Reducción significativa'\n                                    } respecto al mes anterior\n                                  </span>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        );\n                      })}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </Card.Content>\n        </Card>\n      )}\n\n      <div className=\"flex justify-end space-x-4\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={onCancel}\n          disabled={isSaving || isLoading}\n        >\n          Cancelar\n        </Button>\n        <Button\n          type=\"submit\"\n          disabled={isSaving || isLoading}\n          className=\"min-w-[100px]\"\n        >\n          {isSaving ? (\n            <>\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              Guardando...\n            </>\n          ) : (\n            'Guardar'\n          )}\n        </Button>\n      </div>\n    </form>\n  );\n}","import { useState, useEffect } from 'react';\nimport { ref, onValue, push, update, remove } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Recipe } from '@/types/recipe';\n\nexport function useRecipes() {\n  const [recipes, setRecipes] = useState<Recipe[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const recipesRef = ref(db, 'recipes');\n    const unsubscribe = onValue(recipesRef, (snapshot) => {\n      if (!snapshot.exists()) {\n        setRecipes([]);\n        setLoading(false);\n        return;\n      }\n\n      const recipesData = Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Recipe, 'id'>)\n      }));\n\n      setRecipes(recipesData);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  const addRecipe = async (recipe: Omit<Recipe, 'id'>) => {\n    const recipesRef = ref(db, 'recipes');\n    await push(recipesRef, {\n      ...recipe,\n      lastUpdated: Date.now()\n    });\n  };\n\n  const updateRecipe = async (id: string, recipe: Partial<Recipe>) => {\n    const recipeRef = ref(db, `recipes/${id}`);\n    await update(recipeRef, {\n      ...recipe,\n      lastUpdated: Date.now()\n    });\n  };\n\n  const deleteRecipe = async (id: string) => {\n    const recipeRef = ref(db, `recipes/${id}`);\n    await remove(recipeRef);\n  };\n\n  return {\n    recipes,\n    loading,\n    addRecipe,\n    updateRecipe,\n    deleteRecipe\n  };\n}","import React, { useState } from 'react';\nimport { Plus, Search, RefreshCw, Calculator } from 'lucide-react';\nimport { Recipe } from '@/types/recipe';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { RecipeList } from '@/components/recipes/RecipeList';\nimport { RecipeForm } from '@/components/recipes/RecipeForm';\nimport { FixedCostsForm } from '@/components/recipes/FixedCostsForm';\nimport { useRecipes } from '@/hooks/useRecipes';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\nimport { useFixedCosts } from '@/hooks/useFixedCosts';\nimport { calculateRecipeCosts, updateDependentRecipes } from '@/lib/recipes/calculations';\nimport { toast } from 'react-hot-toast';\n\nexport function Recipes() {\n  const { recipes, loading, addRecipe, updateRecipe, deleteRecipe } = useRecipes();\n  const { products, loading: productsLoading } = useGlobalProducts();\n  const { currentCosts, loading: costsLoading, updateFixedCosts } = useFixedCosts();\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isFixedCostsFormOpen, setIsFixedCostsFormOpen] = useState(false);\n  const [editingRecipe, setEditingRecipe] = useState<Recipe | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isUpdatingCosts, setIsUpdatingCosts] = useState(false);\n\n  // Sort recipes: base recipes first, then by name\n  const sortedRecipes = [...recipes].sort((a, b) => {\n    if (a.isBase && !b.isBase) return -1;\n    if (!a.isBase && b.isBase) return 1;\n    return a.name.localeCompare(b.name);\n  });\n\n  const filteredRecipes = sortedRecipes.filter(recipe =>\n    recipe.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const handleSubmit = async (data: Omit<Recipe, 'id'>) => {\n    setIsSubmitting(true);\n    try {\n      if (editingRecipe) {\n        await updateRecipe(editingRecipe.id!, {\n          ...data,\n          costThreshold: data.costThreshold || 20,\n          lastUpdated: Date.now()\n        });\n        toast.success('Receta actualizada exitosamente');\n      } else {\n        await addRecipe({\n          ...data,\n          costHistory: [],\n          costThreshold: 20,\n          lastUpdated: Date.now()\n        });\n        toast.success('Receta creada exitosamente');\n      }\n      handleCloseForm();\n    } catch (error) {\n      toast.error('Error al guardar la receta');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDelete = async (recipe: Recipe) => {\n    try {\n      await deleteRecipe(recipe.id!);\n      toast.success('Receta eliminada exitosamente');\n    } catch (error) {\n      toast.error('Error al eliminar la receta');\n    }\n  };\n\n  const handleCloseForm = () => {\n    setIsFormOpen(false);\n    setEditingRecipe(null);\n  };\n\n  const handleEdit = (recipe: Recipe) => {\n    setEditingRecipe(recipe);\n    setIsFormOpen(true);\n  };\n\n  const handleUpdateAllCosts = async () => {\n    if (!products.length) {\n      toast.error('No hay productos disponibles para actualizar los costos');\n      return;\n    }\n\n    if (!currentCosts) {\n      toast.error('Debe configurar los costos fijos del mes actual primero');\n      setIsFixedCostsFormOpen(true);\n      return;\n    }\n\n    setIsUpdatingCosts(true);\n    let updatedCount = 0;\n    let errorCount = 0;\n\n    try {\n      // First update base recipes\n      let updatedRecipes = [...recipes];\n      const baseRecipes = updatedRecipes.filter(r => r.isBase);\n\n      for (const recipe of baseRecipes) {\n        try {\n          const costs = calculateRecipeCosts(\n            recipe.materials,\n            products,\n            updatedRecipes,\n            recipe.yield,\n            currentCosts.fixedCostPercentage,\n            recipe.profitPercentage,\n            recipe.unitCost\n          );\n\n          if (costs.totalCost !== recipe.totalCost || \n              costs.unitCost !== recipe.unitCost || \n              costs.suggestedPrice !== recipe.suggestedPrice) {\n            const costHistory = recipe.costHistory || [];\n            if (costs.costHistory?.[0]) {\n              costHistory.push(costs.costHistory[0]);\n            }\n\n            const updatedRecipe = {\n              ...recipe,\n              totalCost: costs.totalCost,\n              unitCost: costs.unitCost,\n              suggestedPrice: costs.suggestedPrice,\n              fixedCostPercentage: currentCosts.fixedCostPercentage,\n              costHistory,\n              lastUpdated: Date.now()\n            };\n\n            await updateRecipe(recipe.id!, updatedRecipe);\n            updatedCount++;\n\n            // Update recipe in local array\n            const index = updatedRecipes.findIndex(r => r.id === recipe.id);\n            if (index !== -1) {\n              updatedRecipes[index] = updatedRecipe;\n            }\n\n            // Update dependent recipes\n            updatedRecipes = updateDependentRecipes(\n              updatedRecipes,\n              products,\n              recipe.id!\n            );\n          }\n        } catch (error) {\n          console.error(`Error updating recipe ${recipe.id}:`, error);\n          errorCount++;\n        }\n      }\n\n      // Then update non-base recipes\n      const nonBaseRecipes = updatedRecipes.filter(r => !r.isBase);\n      for (const recipe of nonBaseRecipes) {\n        try {\n          const costs = calculateRecipeCosts(\n            recipe.materials,\n            products,\n            updatedRecipes,\n            recipe.yield,\n            currentCosts.fixedCostPercentage,\n            recipe.profitPercentage,\n            recipe.unitCost\n          );\n\n          if (costs.totalCost !== recipe.totalCost || \n              costs.unitCost !== recipe.unitCost || \n              costs.suggestedPrice !== recipe.suggestedPrice) {\n            const costHistory = recipe.costHistory || [];\n            if (costs.costHistory?.[0]) {\n              costHistory.push(costs.costHistory[0]);\n            }\n\n            await updateRecipe(recipe.id!, {\n              ...recipe,\n              totalCost: costs.totalCost,\n              unitCost: costs.unitCost,\n              suggestedPrice: costs.suggestedPrice,\n              fixedCostPercentage: currentCosts.fixedCostPercentage,\n              costHistory,\n              lastUpdated: Date.now()\n            });\n            updatedCount++;\n          }\n        } catch (error) {\n          console.error(`Error updating recipe ${recipe.id}:`, error);\n          errorCount++;\n        }\n      }\n\n      if (updatedCount > 0) {\n        toast.success(`${updatedCount} recetas actualizadas exitosamente`);\n      } else if (errorCount === 0) {\n        toast.success('Los costos están actualizados');\n      }\n\n      if (errorCount > 0) {\n        toast.error(`Error al actualizar ${errorCount} recetas`);\n      }\n    } catch (error) {\n      toast.error('Error al actualizar los costos');\n    } finally {\n      setIsUpdatingCosts(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {isFormOpen ? (\n        <div className=\"bg-white rounded-lg shadow-sm p-4 md:p-6\">\n          <RecipeForm\n            initialData={editingRecipe}\n            onSubmit={handleSubmit}\n            onCancel={handleCloseForm}\n            isLoading={isSubmitting}\n            recipes={recipes}\n          />\n        </div>\n      ) : (\n        <>\n          {/* Header and Actions */}\n          <div className=\"flex flex-col gap-4\">\n            {/* Search Bar */}\n            <div className=\"relative flex-1\">\n              <Input\n                placeholder=\"Buscar recetas...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n              <Button \n                onClick={() => setIsFixedCostsFormOpen(true)}\n                variant=\"outline\"\n                className=\"w-full\"\n              >\n                <Calculator className=\"w-4 h-4 mr-2 sm:mr-2\" />\n                <span className=\"hidden sm:inline\">Costos Fijos</span>\n                <span className=\"sm:hidden\">Costos</span>\n              </Button>\n              \n              <Button \n                onClick={handleUpdateAllCosts} \n                variant=\"outline\"\n                isLoading={isUpdatingCosts}\n                disabled={isUpdatingCosts || loading || productsLoading || costsLoading}\n                className=\"w-full\"\n              >\n                <RefreshCw className=\"w-4 h-4 mr-2 sm:mr-2\" />\n                <span className=\"hidden sm:inline\">Actualizar Costos</span>\n                <span className=\"sm:hidden\">Actualizar</span>\n              </Button>\n              \n              <Button \n                onClick={() => setIsFormOpen(true)} \n                className=\"w-full sm:col-auto col-span-2\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                <span>Nueva Receta</span>\n              </Button>\n            </div>\n          </div>\n\n          {/* Recipe List */}\n          {loading ? (\n            <div className=\"flex items-center justify-center h-64\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n            </div>\n          ) : (\n            <RecipeList\n              recipes={filteredRecipes}\n              onEdit={handleEdit}\n              onDelete={handleDelete}\n            />\n          )}\n        </>\n      )}\n\n      {/* Fixed Costs Form Dialog */}\n      <Dialog\n        isOpen={isFixedCostsFormOpen}\n        onClose={() => setIsFixedCostsFormOpen(false)}\n        title=\"Configuración de Costos Fijos\"\n      >\n        <FixedCostsForm\n          initialData={currentCosts || undefined}\n          onSubmit={async (data) => {\n            try {\n              await updateFixedCosts(data);\n              setIsFixedCostsFormOpen(false);\n              // Automatically update all recipes with new fixed costs\n              handleUpdateAllCosts();\n            } catch (error) {\n              // Error is handled by the hook\n            }\n          }}\n          onCancel={() => setIsFixedCostsFormOpen(false)}\n        />\n      </Dialog>\n    </div>\n  );\n}","import { ref, get, set, push, remove, query, orderByChild, equalTo } from 'firebase/database';\nimport { db } from './index';\nimport { auth } from '@/lib/firebase/auth';\nimport { DatabaseError } from '../errors';\n\nexport async function createDocument<T>(path: string, data: T): Promise<string> {\n  if (!auth.currentUser) {\n    throw new DatabaseError('User not authenticated');\n  }\n\n  try {\n    const collectionRef = ref(db, path);\n    const newRef = push(collectionRef);\n    if (!newRef.key) {\n      throw new DatabaseError('Failed to generate document ID');\n    }\n    await set(newRef, data);\n    return newRef.key;\n  } catch (error) {\n    throw new DatabaseError('Failed to create document', { cause: error });\n  }\n}\n\nexport async function updateDocument<T>(path: string, id: string, data: Partial<T>): Promise<void> {\n  if (!auth.currentUser) {\n    throw new DatabaseError('User not authenticated');\n  }\n\n  try {\n    const docRef = ref(db, `${path}/${id}`);\n    await set(docRef, data);\n  } catch (error) {\n    throw new DatabaseError('Failed to update document', { cause: error });\n  }\n}\n\nexport async function deleteDocument(path: string, id: string): Promise<void> {\n  if (!auth.currentUser) {\n    throw new DatabaseError('User not authenticated');\n  }\n\n  try {\n    const docRef = ref(db, `${path}/${id}`);\n    await remove(docRef);\n  } catch (error) {\n    throw new DatabaseError('Failed to delete document', { cause: error });\n  }\n}\n\nexport async function getDocument<T>(path: string, id: string): Promise<T | null> {\n  if (!auth.currentUser) {\n    throw new DatabaseError('User not authenticated');\n  }\n\n  try {\n    const docRef = ref(db, `${path}/${id}`);\n    const snapshot = await get(docRef);\n    return snapshot.exists() ? { id: snapshot.key, ...snapshot.val() } as T : null;\n  } catch (error) {\n    throw new DatabaseError('Failed to get document', { cause: error });\n  }\n}\n\nexport async function getCollection<T>(path: string): Promise<T[]> {\n  if (!auth.currentUser) {\n    throw new DatabaseError('User not authenticated');\n  }\n\n  try {\n    const collectionRef = ref(db, path);\n    const snapshot = await get(collectionRef);\n    if (!snapshot.exists()) return [];\n    \n    return Object.entries(snapshot.val()).map(([id, data]) => ({\n      id,\n      ...(data as any)\n    })) as T[];\n  } catch (error) {\n    throw new DatabaseError('Failed to get collection', { cause: error });\n  }\n}\n\nexport async function queryByField<T>(\n  path: string,\n  field: string,\n  value: string | number | boolean\n): Promise<T[]> {\n  if (!auth.currentUser) {\n    throw new DatabaseError('User not authenticated');\n  }\n\n  try {\n    const collectionRef = ref(db, path);\n    const queryRef = query(collectionRef, orderByChild(field), equalTo(value));\n    const snapshot = await get(queryRef);\n    \n    if (!snapshot.exists()) return [];\n    \n    return Object.entries(snapshot.val()).map(([id, data]) => ({\n      id,\n      ...(data as any)\n    })) as T[];\n  } catch (error) {\n    throw new DatabaseError('Failed to query documents', { cause: error });\n  }\n}","import { ref, get, push, set } from 'firebase/database';\nimport { db } from '@/lib/firebase';\n\nconst STANDARD_MEASURES = [\n  'UNIDAD',\n  'KILOGRAMO',\n  'GRAMO',\n  'LITRO',\n  'CENTÍMETRO',\n  'MILILITRO',\n  'BOLSA',\n  'PLANCHA',\n  'CAJON',\n  'CAJA',\n  'FRACO',\n  'BOTELLA',\n  'FUNDA',\n  'SACHET',\n  'ATADO',\n  'ROLLO'\n].sort();\n\nexport async function initializeMeasures(): Promise<void> {\n  try {\n    // Get reference to measures collection\n    const measuresRef = ref(db, 'measures');\n    \n    // Get current measures\n    const snapshot = await get(measuresRef);\n    const existingMeasures = snapshot.exists() \n      ? Object.values(snapshot.val()) as string[]\n      : [];\n\n    // Filter out measures that already exist (case insensitive)\n    const existingMeasuresUpper = existingMeasures.map(m => m.toUpperCase());\n    const measuresToAdd = STANDARD_MEASURES.filter(\n      measure => !existingMeasuresUpper.includes(measure.toUpperCase())\n    );\n\n    // Add new measures\n    for (const measure of measuresToAdd) {\n      const newMeasureRef = push(measuresRef);\n      await set(newMeasureRef, measure);\n    }\n\n    console.info(`Initialized ${measuresToAdd.length} standard measures`);\n  } catch (error) {\n    console.error('Error initializing measures:', error);\n  }\n}","import { ref, get, set } from 'firebase/database';\nimport { db } from './index';\nimport { auth } from '@/lib/firebase/auth';\nimport { initializeMeasures } from './initializeMeasures';\n\nconst COLLECTIONS = [\n  'orders', \n  'products', \n  'providers', \n  'measures',\n  'monthlyFixedCosts'\n] as const;\n\ntype Collection = typeof COLLECTIONS[number];\n\ninterface CollectionStatus {\n  name: Collection;\n  exists: boolean;\n  error?: string;\n}\n\nasync function checkCollection(collection: Collection): Promise<CollectionStatus> {\n  try {\n    // Only check collections if user is authenticated\n    if (!auth.currentUser) {\n      return {\n        name: collection,\n        exists: false\n      };\n    }\n\n    const collectionRef = ref(db, collection);\n    const snapshot = await get(collectionRef);\n    \n    return {\n      name: collection,\n      exists: snapshot.exists()\n    };\n  } catch (error) {\n    return {\n      name: collection,\n      exists: false,\n      error: error instanceof Error ? error.message : 'Unknown error'\n    };\n  }\n}\n\nasync function createCollection(collection: Collection): Promise<void> {\n  // Only create collections if user is authenticated\n  if (!auth.currentUser) {\n    console.warn(`Skipping collection creation for \"${collection}\" - user not authenticated`);\n    return;\n  }\n\n  const collectionRef = ref(db, collection);\n  await set(collectionRef, {});\n}\n\nexport async function initializeCollections(): Promise<void> {\n  try {\n    // Skip initialization if user is not authenticated\n    if (!auth.currentUser) {\n      console.info('Skipping collections initialization - user not authenticated');\n      return;\n    }\n\n    console.info('Starting collections initialization...');\n    \n    // Check all collections first\n    const statuses = await Promise.all(\n      COLLECTIONS.map(collection => checkCollection(collection))\n    );\n\n    // Create missing collections\n    const createPromises = statuses\n      .filter(status => !status.exists)\n      .map(async ({ name }) => {\n        try {\n          await createCollection(name);\n          console.info(`Collection \"${name}\" created successfully`);\n        } catch (error) {\n          // Log error but don't throw to allow other collections to be created\n          console.error(`Failed to create collection \"${name}\":`, error);\n        }\n      });\n\n    await Promise.all(createPromises);\n\n    // Initialize standard measures\n    await initializeMeasures();\n\n    console.info('Collections initialization completed');\n  } catch (error) {\n    console.error('Failed to initialize collections:', error);\n    // Don't throw error to prevent app from crashing\n  }\n}\n\n// Initialize collections when user signs in\nauth.onAuthStateChanged((user) => {\n  if (user) {\n    initializeCollections().catch(error => {\n      console.error('Critical error during collections initialization:', error);\n    });\n  }\n});","import { Order } from '@/types';\nimport { \n  createDocument, \n  updateDocument, \n  deleteDocument, \n  queryByField,\n  getCollection,\n  subscribeToCollection \n} from './database';\nimport { ref, query, orderByChild, equalTo, onValue, get } from 'firebase/database';\nimport { db } from './database';\nimport { auth } from '@/lib/firebase/auth';\nimport { toast } from 'react-hot-toast';\n\nconst ORDERS_COLLECTION = 'orders';\n\nexport async function getProviderOrders(providerId: string): Promise<Order[]> {\n  if (!auth.currentUser) {\n    console.warn('User not authenticated, returning empty orders');\n    return [];\n  }\n\n  try {\n    const orders = await queryByField<Order>(ORDERS_COLLECTION, 'providerId', providerId);\n    return orders.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n  } catch (error) {\n    console.error('Error fetching provider orders:', error);\n    toast.error('Error al cargar las órdenes');\n    return [];\n  }\n}\n\nexport const orderService = {\n  subscribeToProviderOrders(providerId: string, callback: (orders: Order[]) => void): () => void {\n    if (!auth.currentUser) {\n      console.warn('User not authenticated, skipping subscription');\n      callback([]);\n      return () => {};\n    }\n\n    const ordersRef = ref(db, ORDERS_COLLECTION);\n    const providerOrdersQuery = query(\n      ordersRef,\n      orderByChild('providerId'),\n      equalTo(providerId)\n    );\n\n    const unsubscribe = onValue(providerOrdersQuery, (snapshot) => {\n      if (!snapshot.exists()) {\n        callback([]);\n        return;\n      }\n\n      const orders = Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Order, 'id'>)\n      }));\n\n      // Sort orders by date in descending order\n      const sortedOrders = orders.sort((a, b) => \n        new Date(b.date).getTime() - new Date(a.date).getTime()\n      );\n\n      callback(sortedOrders);\n    }, (error) => {\n      console.error('Error fetching provider orders:', error);\n      toast.error('Error al cargar las órdenes');\n      callback([]);\n    });\n\n    return unsubscribe;\n  },\n\n  async getByProvider(providerId: string): Promise<Order[]> {\n    return getProviderOrders(providerId);\n  },\n\n  async create(data: Omit<Order, 'id'>): Promise<string> {\n    if (!auth.currentUser) {\n      throw new Error('User not authenticated');\n    }\n\n    try {\n      return await createDocument(ORDERS_COLLECTION, data);\n    } catch (error) {\n      console.error('Error creating order:', error);\n      toast.error('Error al crear la orden');\n      throw error;\n    }\n  },\n\n  async update(id: string, updates: Partial<Order>): Promise<void> {\n    if (!auth.currentUser) {\n      throw new Error('User not authenticated');\n    }\n\n    try {\n      // First get the current order\n      const orderRef = ref(db, `${ORDERS_COLLECTION}/${id}`);\n      const snapshot = await get(orderRef);\n      \n      if (!snapshot.exists()) {\n        throw new Error('Order not found');\n      }\n\n      // Merge current order with updates\n      const currentOrder = snapshot.val();\n      const updatedOrder = {\n        ...currentOrder,\n        ...updates\n      };\n\n      // Update the order with merged data\n      await updateDocument(ORDERS_COLLECTION, id, updatedOrder);\n    } catch (error) {\n      console.error('Error updating order:', error);\n      toast.error('Error al actualizar la orden');\n      throw error;\n    }\n  },\n\n  async delete(id: string): Promise<void> {\n    if (!auth.currentUser) {\n      throw new Error('User not authenticated');\n    }\n\n    try {\n      await deleteDocument(ORDERS_COLLECTION, id);\n    } catch (error) {\n      console.error('Error deleting order:', error);\n      toast.error('Error al eliminar la orden');\n      throw error;\n    }\n  }\n};\n\n// Re-export all functions from orderService\nexport const {\n  subscribeToProviderOrders,\n  getByProvider,\n  create,\n  update,\n  delete: deleteOrder // Renamed to avoid conflict with keyword\n} = orderService;","import { useState, useEffect } from 'react';\nimport { orderService } from '@/lib/services/orders';\nimport { Order } from '@/types';\nimport { toast } from 'react-hot-toast';\n\nexport function useOrders(providerId?: string) {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let unsubscribe: (() => void) | undefined;\n\n    const setupSubscription = async () => {\n      if (!providerId) {\n        setOrders([]);\n        setLoading(false);\n        return;\n      }\n\n      try {\n        // Initial load\n        const initialOrders = await orderService.getByProvider(providerId);\n        if (initialOrders) {\n          setOrders(initialOrders);\n        }\n\n        // Setup real-time subscription\n        unsubscribe = orderService.subscribeToProviderOrders(providerId, (updatedOrders) => {\n          setOrders(updatedOrders);\n        });\n      } catch (error) {\n        console.error('Error setting up orders subscription:', error);\n        toast.error('Error al cargar las órdenes');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    setupSubscription();\n\n    return () => {\n      if (unsubscribe) {\n        unsubscribe();\n      }\n    };\n  }, [providerId]);\n\n  const addOrder = async (order: Omit<Order, 'id'>) => {\n    try {\n      const orderId = await orderService.create(order);\n      if (!orderId) {\n        throw new Error('Failed to create order');\n      }\n      return orderId;\n    } catch (error) {\n      console.error('Error creating order:', error);\n      throw new Error('Error al crear la orden');\n    }\n  };\n\n  const updateOrder = async (id: string, order: Partial<Order>) => {\n    try {\n      await orderService.update(id, order);\n    } catch (error) {\n      console.error('Error updating order:', error);\n      throw new Error('Error al actualizar la orden');\n    }\n  };\n\n  const deleteOrder = async (id: string) => {\n    try {\n      await orderService.delete(id);\n    } catch (error) {\n      console.error('Error deleting order:', error);\n      throw new Error('Error al eliminar la orden');\n    }\n  };\n\n  return {\n    orders,\n    loading,\n    addOrder,\n    updateOrder,\n    deleteOrder,\n  };\n}","\nimport { useState, useEffect } from 'react';\nimport { ref, onValue } from 'firebase/database';\nimport { db } from '@/lib/firebase';\nimport { Order } from '@/types';\n\nexport function useGlobalOrders() {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const ordersRef = ref(db, 'orders');\n    \n    const unsubscribe = onValue(ordersRef, (snapshot) => {\n      if (!snapshot.exists()) {\n        setOrders([]);\n        setLoading(false);\n        return;\n      }\n\n      const ordersData = Object.entries(snapshot.val()).map(([id, data]) => ({\n        id,\n        ...(data as Omit<Order, 'id'>)\n      }));\n\n      // Sort orders by date in descending order\n      const sortedOrders = ordersData.sort((a, b) => \n        new Date(b.date).getTime() - new Date(a.date).getTime()\n      );\n\n      setOrders(sortedOrders);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, []);\n\n  return { orders, loading };\n}","import { startOfDay as dateFnsStartOfDay, endOfDay as dateFnsEndOfDay, subDays } from 'date-fns';\nimport { WeekDay } from '@/types';\n\nexport function toTimestamp(date: Date | string): number {\n  return new Date(date).getTime();\n}\n\nexport function fromTimestamp(timestamp: number): Date {\n  return new Date(timestamp);\n}\n\nexport function startOfDay(date: Date | string | number): Date {\n  return dateFnsStartOfDay(new Date(date));\n}\n\nexport function endOfDay(date: Date | string | number): Date {\n  return dateFnsEndOfDay(new Date(date));\n}\n\nexport function startOfDayTimestamp(date: Date | string | number): number {\n  return startOfDay(date).getTime();\n}\n\nexport function endOfDayTimestamp(date: Date | string | number): number {\n  return endOfDay(date).getTime();\n}\n\nexport function getCurrentTimestamp(): number {\n  return Date.now();\n}\n\nexport function isToday(timestamp: number): boolean {\n  const today = new Date();\n  const date = new Date(timestamp);\n  return startOfDay(today).getTime() === startOfDay(date).getTime();\n}\n\nexport function isSameDay(timestamp1: number, timestamp2: number): boolean {\n  return startOfDay(timestamp1).getTime() === startOfDay(timestamp2).getTime();\n}\n\nconst WEEKDAYS: WeekDay[] = [\n  'sunday',\n  'monday',\n  'tuesday',\n  'wednesday',\n  'thursday',\n  'friday',\n  'saturday'\n];\n\nexport function getPreviousDay(date: Date, orderDays: WeekDay[]): Date {\n  if (!orderDays.length) return date;\n\n  let currentDate = subDays(date, 1);\n  let attempts = 7; // Prevent infinite loop\n\n  while (attempts > 0) {\n    const dayName = WEEKDAYS[currentDate.getDay()];\n    if (orderDays.includes(dayName)) {\n      return currentDate;\n    }\n    currentDate = subDays(currentDate, 1);\n    attempts--;\n  }\n\n  return date; // Fallback to current date if no previous order day found\n}\n\nexport function getDayName(date: Date): WeekDay {\n  return WEEKDAYS[date.getDay()];\n}","import { Order, Product } from '@/types';\nimport { BUSINESS_INFO } from '@/config/constants';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { fromTimestamp } from '@/lib/dateUtils';\n\n// 80mm thermal printer settings\nconst PRINT_WIDTH = 48;\n\nfunction formatHeader(date: number): string[] {\n  const dateStr = format(fromTimestamp(date), \"dd/MM/yyyy HH:mm\", { locale: es });\n  return [\n    BUSINESS_INFO.name,\n    BUSINESS_INFO.owner,\n    `Pedido Fecha: ${dateStr}`,\n    ''\n  ];\n}\n\nfunction formatProductLine(quantity: number, packaging: string, name: string): string {\n  const qtyCol = `${quantity} ${packaging}`.padEnd(15);\n  return `${qtyCol}${name}`;\n}\n\nfunction formatProducts(products: Product[], items: Order['items']): string[] {\n  // Sort items by product order\n  return items\n    .sort((a, b) => {\n      const productA = products.find(p => p.id === a.productId);\n      const productB = products.find(p => p.id === b.productId);\n      if (!productA || !productB) return 0;\n      return productA.order - productB.order;\n    })\n    .map(item => {\n      const product = products.find(p => p.id === item.productId);\n      if (!product) return null;\n      return formatProductLine(item.quantity, product.purchasePackaging, product.name);\n    })\n    .filter((line): line is string => line !== null);\n}\n\nfunction formatSummary(items: Order['items']): string[] {\n  // Calculate totals\n  const totalItems = items.length;\n  const totalUnits = items.reduce((sum, item) => sum + item.quantity, 0);\n\n  return [\n    '',\n    '--------------------------------',\n    `Total Items: ${totalItems}`,\n    `Total Unidades: ${totalUnits}`,\n    ''\n  ];\n}\n\nexport function formatReport(order: Order, products: Product[], isWhatsApp: boolean = false): string {\n  if (isWhatsApp) {\n    const header = [\n      `Pedido Fecha: ${format(fromTimestamp(order.date), \"dd/MM/yyyy HH:mm\", { locale: es })}`,\n      BUSINESS_INFO.name,\n      BUSINESS_INFO.owner,\n      ''\n    ];\n\n    const items = order.items\n      .sort((a, b) => {\n        const productA = products.find(p => p.id === a.productId);\n        const productB = products.find(p => p.id === b.productId);\n        if (!productA || !productB) return 0;\n        return productA.order - productB.order;\n      })\n      .map(item => {\n        const product = products.find(p => p.id === item.productId);\n        if (!product) return null;\n        return `• *${item.quantity} ${product.purchasePackaging}* - ${product.name}`;\n      })\n      .filter(Boolean);\n\n    // Calculate totals\n    const totalItems = order.items.length;\n    const totalUnits = order.items.reduce((sum, item) => sum + item.quantity, 0);\n\n    const summary = [\n      '',\n      '--------------------------------',\n      `Total Items: ${totalItems}`,\n      `Total Unidades: ${totalUnits}`\n    ];\n\n    return [...header, ...items, ...summary].join('\\n');\n  }\n\n  // Thermal printer format\n  const header = formatHeader(order.date);\n  const formattedProducts = formatProducts(products, order.items);\n  const summary = formatSummary(order.items);\n\n  // Combine all sections with proper spacing\n  return [\n    ...header,\n    ...formattedProducts,\n    ...summary\n  ].join('\\n');\n}","import { Order, Product } from '@/types';\nimport { formatReport } from './reportUtils';\n\nexport function formatWhatsAppReport(\n  order: Order,\n  products: Product[],\n  provider: { commercialName: string; legalName?: string }\n): string {\n  return formatReport(order, products, true);\n}","import { Order, Product } from '@/types';\nimport { BUSINESS_INFO } from '@/config/constants';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { fromTimestamp } from '@/lib/dateUtils';\nimport { thermalPrintStyles } from './styles';\nimport { printScripts } from './scripts';\n\nexport function generatePrintTemplate(order: Order, products: Product[]): string {\n  const date = format(fromTimestamp(order.date), \"dd/MM/yyyy HH:mm\", { locale: es });\n  \n  // Sort items by product order\n  const sortedItems = order.items\n    .sort((a, b) => {\n      const productA = products.find(p => p.id === a.productId);\n      const productB = products.find(p => p.id === b.productId);\n      if (!productA || !productB) return 0;\n      return productA.order - productB.order;\n    });\n\n  // Calculate totals\n  const totalItems = sortedItems.length;\n  const totalUnits = sortedItems.reduce((sum, item) => sum + item.quantity, 0);\n\n  // Generate products HTML\n  const productsHtml = sortedItems\n    .map(item => {\n      const product = products.find(p => p.id === item.productId);\n      if (!product) return '';\n      return `\n        <tr>\n          <td class=\"quantity\">${item.quantity} ${product.purchasePackaging}</td>\n          <td class=\"name\">${product.name}</td>\n        </tr>\n      `;\n    })\n    .join('');\n\n  return `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Orden de Compra</title>\n        <style>${thermalPrintStyles}</style>\n      </head>\n      <body>\n        <div class=\"content\">\n          <div class=\"header\">\n            <div>${BUSINESS_INFO.name}</div>\n            <div>${BUSINESS_INFO.owner}</div>\n            <div>Pedido Fecha: ${date}</div>\n          </div>\n\n          <table>\n            <tbody>\n              ${productsHtml}\n            </tbody>\n          </table>\n\n          <div class=\"summary\">\n            <div class=\"summary-row\">\n              <span class=\"summary-label\">Total Items:</span>\n              <span class=\"summary-value\">${totalItems}</span>\n            </div>\n            <div class=\"summary-row\">\n              <span class=\"summary-label\">Total Unidades:</span>\n              <span class=\"summary-value\">${totalUnits}</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"controls\">\n          <button id=\"print-button\" class=\"print-button\">\n            Imprimir\n          </button>\n        </div>\n\n        <script>${printScripts}</script>\n      </body>\n    </html>\n  `;\n}","import React, { useState } from 'react';\nimport { Share2, Printer, Trash2, Edit } from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { Order, Product, Provider } from '@/types';\nimport { formatWhatsAppReport } from '@/lib/utils/formatting/whatsappReport';\nimport { generateWhatsAppLink } from '@/lib/utils';\nimport { generatePrintTemplate } from '@/lib/utils/printing/printTemplate';\nimport { useOrders } from '@/hooks/useOrders';\nimport { toast } from 'react-hot-toast';\n\ninterface OrderActionsProps {\n  order: Order;\n  products: Product[];\n  provider: Provider;\n  onReopen?: () => void;\n}\n\nexport function OrderActions({ order, products, provider, onReopen }: OrderActionsProps) {\n  const { updateOrder, deleteOrder } = useOrders(provider.id);\n  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const handleWhatsApp = async () => {\n    if (!provider.phone) {\n      toast.error('Este proveedor no tiene número de teléfono registrado');\n      return;\n    }\n\n    setIsProcessing(true);\n    try {\n      // Mark order as completed if it's pending\n      if (order.status === 'pending') {\n        await updateOrder(order.id!, {\n          ...order,\n          status: 'completed'\n        });\n      }\n\n      const message = formatWhatsAppReport(order, products, provider);\n      const whatsappUrl = generateWhatsAppLink(provider.phone, message);\n      window.open(whatsappUrl, '_blank');\n      \n      if (order.status === 'pending') {\n        toast.success('Orden completada y enviada por WhatsApp');\n      }\n    } catch (error) {\n      console.error('Error sending WhatsApp:', error);\n      toast.error('Error al enviar por WhatsApp');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handlePrint = async () => {\n    setIsProcessing(true);\n    try {\n      // Mark order as completed if it's pending\n      if (order.status === 'pending') {\n        await updateOrder(order.id!, {\n          ...order,\n          status: 'completed'\n        });\n      }\n\n      const template = generatePrintTemplate(order, products);\n      \n      const printTab = window.open('', '_blank');\n      if (!printTab) {\n        throw new Error('No se pudo crear la pestaña de impresión');\n      }\n\n      printTab.document.write(template);\n      printTab.document.close();\n\n      if (order.status === 'pending') {\n        toast.success('Orden completada e impresa');\n      }\n    } catch (error) {\n      console.error('Error printing order:', error);\n      toast.error('Error al imprimir la orden');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    setIsProcessing(true);\n    try {\n      await deleteOrder(order.id!);\n      toast.success('Orden eliminada exitosamente');\n      setIsDeleteDialogOpen(false);\n    } catch (error) {\n      console.error('Error deleting order:', error);\n      toast.error('Error al eliminar la orden');\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"flex items-center justify-end gap-2\">\n        {provider.phone && (\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleWhatsApp}\n            disabled={isProcessing}\n            className=\"text-green-600 hover:text-green-700 hover:bg-green-50 w-11 h-11 p-0\"\n            title=\"Enviar por WhatsApp\"\n          >\n            <Share2 className=\"w-5 h-5\" />\n          </Button>\n        )}\n        \n        <Button\n          type=\"button\"\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handlePrint}\n          disabled={isProcessing}\n          className=\"text-gray-600 hover:text-gray-700 hover:bg-gray-50 w-11 h-11 p-0\"\n          title=\"Imprimir\"\n        >\n          <Printer className=\"w-5 h-5\" />\n        </Button>\n\n        {order.status === 'completed' && onReopen && (\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={onReopen}\n            disabled={isProcessing}\n            className=\"text-blue-600 hover:text-blue-700 hover:bg-blue-50 w-11 h-11 p-0\"\n            title=\"Reabrir orden\"\n          >\n            <Edit className=\"w-5 h-5\" />\n          </Button>\n        )}\n\n        <Button\n          type=\"button\"\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={() => setIsDeleteDialogOpen(true)}\n          disabled={isProcessing}\n          className=\"text-red-600 hover:text-red-700 hover:bg-red-50 w-11 h-11 p-0\"\n          title=\"Eliminar orden\"\n        >\n          <Trash2 className=\"w-5 h-5\" />\n        </Button>\n      </div>\n\n      {/* Delete Confirmation Dialog */}\n      <Dialog\n        isOpen={isDeleteDialogOpen}\n        onClose={() => setIsDeleteDialogOpen(false)}\n        title=\"Eliminar orden\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-amber-600\">\n            ¿Está seguro que desea eliminar esta orden?\n          </p>\n          <div className=\"flex justify-end space-x-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsDeleteDialogOpen(false)}\n              disabled={isProcessing}\n            >\n              Cancelar\n            </Button>\n            <Button\n              onClick={handleDelete}\n              isLoading={isProcessing}\n            >\n              Eliminar\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </>\n  );\n}","import React from 'react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { CheckCircle, Clock } from 'lucide-react';\nimport { Order, Product, Provider } from '@/types';\nimport { OrderActions } from './OrderActions';\nimport { formatPrice } from '@/lib/utils';\nimport { useProviders } from '@/hooks/useProviders';\n\ninterface OrderListProps {\n  orders: Order[];\n  products: Product[];\n  provider?: Provider;\n  onSelect: (order: Order, orderNumber: number) => void;\n}\n\nexport function OrderList({ \n  orders, \n  products, \n  provider,\n  onSelect\n}: OrderListProps) {\n  const { providers } = useProviders();\n\n  // Sort orders by date in descending order\n  const sortedOrders = [...orders].sort((a, b) => \n    new Date(b.date).getTime() - new Date(a.date).getTime()\n  );\n\n  return (\n    <div className=\"space-y-4\">\n      {sortedOrders.map((order, index) => {\n        // Get unique products count\n        const uniqueProducts = new Set(order.items.map(item => item.productId)).size;\n        // Get total quantity\n        const totalQuantity = order.items.reduce((sum, item) => sum + item.quantity, 0);\n        const orderNumber = sortedOrders.length - index;\n        const orderProvider = provider || providers.find(p => p.id === order.providerId);\n        \n        if (!orderProvider) return null;\n\n        return (\n          <div\n            key={order.id}\n            className=\"bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow\"\n          >\n            <div \n              className=\"cursor-pointer\"\n              onClick={() => onSelect(order, orderNumber)}\n            >\n              {/* Order Header */}\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  {order.status === 'completed' ? (\n                    <CheckCircle className=\"w-5 h-5 text-green-500\" />\n                  ) : (\n                    <Clock className=\"w-5 h-5 text-yellow-500\" />\n                  )}\n                  <div>\n                    <h3 className=\"text-lg font-semibold\">\n                      Orden #{orderNumber} - {format(new Date(order.date), \"d 'de' MMMM, yyyy\", {\n                        locale: es,\n                      })}\n                    </h3>\n                    <p className=\"text-sm text-gray-600\">\n                      {orderProvider.commercialName}\n                      {orderProvider.legalName && orderProvider.legalName !== orderProvider.commercialName && (\n                        <span className=\"text-gray-400\"> • {orderProvider.legalName}</span>\n                      )}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Order Details */}\n              <div className=\"flex items-center justify-between text-gray-600 mt-2\">\n                <div className=\"space-x-2\">\n                  <span>{uniqueProducts} {uniqueProducts === 1 ? 'producto' : 'productos'}</span>\n                  <span className=\"text-gray-400\">•</span>\n                  <span>{totalQuantity} {totalQuantity === 1 ? 'unidad' : 'unidades'}</span>\n                </div>\n                <span className=\"font-medium text-blue-600\">\n                  {formatPrice(order.total)}\n                </span>\n              </div>\n            </div>\n            \n            {/* Order Actions */}\n            <div className=\"mt-4 pt-4 border-t\">\n              <OrderActions\n                order={order}\n                products={products}\n                provider={orderProvider}\n              />\n            </div>\n          </div>\n        );\n      })}\n\n      {orders.length === 0 && (\n        <div className=\"text-center py-8 text-gray-500\">\n          No hay órdenes para mostrar\n        </div>\n      )}\n    </div>\n  );\n}","import React from 'react';\nimport { Order, Product, Provider } from '@/types';\nimport { formatReport } from '@/lib/utils/formatting/reportUtils';\nimport { formatPrice } from '@/lib/utils';\n\ninterface OrderSummaryProps {\n  order: Order;\n  products: Product[];\n  provider: Provider;\n  preview?: boolean;\n}\n\nexport function OrderSummary({ order, products, provider, preview = true }: OrderSummaryProps) {\n  // Sort items by product order\n  const sortedItems = [...order.items].sort((a, b) => {\n    const productA = products.find(p => p.id === a.productId);\n    const productB = products.find(p => p.id === b.productId);\n    if (!productA || !productB) return 0;\n    return productA.order - productB.order;\n  });\n\n  // Get formatted report\n  const report = formatReport(order, products, preview);\n\n  // For preview (modals, etc), use the monospace font and preserve formatting\n  return (\n    <div className=\"font-mono text-sm bg-gray-50 p-4 rounded-lg overflow-x-auto whitespace-pre-wrap\">\n      {report}\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { X, ArrowLeft, Calendar, Building2, FileText, Package, AlertTriangle } from 'lucide-react';\nimport { Order, Product, Provider } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { OrderSummary } from './OrderSummary';\nimport { OrderActions } from './OrderActions';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { formatPrice } from '@/lib/utils';\nimport { fromTimestamp } from '@/lib/dateUtils';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { useOrders } from '@/hooks/useOrders';\nimport { toast } from 'react-hot-toast';\n\ninterface OrderDetailsProps {\n  order: Order;\n  orderNumber: number;\n  products: Product[];\n  provider: Provider;\n  onClose: () => void;\n  onEdit?: () => void;\n}\n\nexport function OrderDetails({ \n  order, \n  orderNumber, \n  products, \n  provider, \n  onClose,\n  onEdit \n}: OrderDetailsProps) {\n  const [isReopenDialogOpen, setIsReopenDialogOpen] = useState(false);\n  const { updateOrder } = useOrders(provider.id);\n  const [isProcessing, setIsProcessing] = useState(false);\n  \n  const orderDate = format(fromTimestamp(order.date), \"d 'de' MMMM, yyyy HH:mm\", { locale: es });\n  const totalProducts = order.items.length;\n  const totalUnits = order.items.reduce((sum, item) => sum + item.quantity, 0);\n\n  const handleReopen = async () => {\n    setIsProcessing(true);\n    try {\n      await updateOrder(order.id!, {\n        ...order,\n        status: 'pending'\n      });\n      toast.success('Orden reabierta exitosamente');\n      onEdit?.();\n    } catch (error) {\n      console.error('Error reopening order:', error);\n      toast.error('Error al reabrir la orden');\n    } finally {\n      setIsProcessing(false);\n      setIsReopenDialogOpen(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-50 z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"bg-white border-b print:hidden sticky top-0 z-10\">\n        <div className=\"flex items-center justify-between px-3 h-14\">\n          <div className=\"flex items-center gap-3\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={onClose}\n              className=\"md:hidden\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Button>\n            <div>\n              <div className=\"flex items-center gap-2\">\n                <h2 className=\"text-lg font-semibold\">\n                  Orden #{orderNumber}\n                </h2>\n                <span className={`\n                  px-2 py-0.5 text-xs font-medium rounded-full\n                  ${order.status === 'completed' \n                    ? 'bg-green-100 text-green-700'\n                    : 'bg-amber-100 text-amber-700'\n                  }\n                `}>\n                  {order.status === 'completed' ? 'Completada' : 'Pendiente'}\n                </span>\n              </div>\n              <p className=\"text-sm text-gray-500\">\n                {orderDate}\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"hidden md:flex p-2 hover:bg-gray-100 rounded-full transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"container mx-auto max-w-4xl px-3 py-4\">\n          {/* Print Header */}\n          <div className=\"hidden print:block mb-8\">\n            <h1 className=\"text-2xl font-bold text-center mb-2\">Orden de Compra</h1>\n            <div className=\"text-center text-gray-600 mb-4\">#{orderNumber}</div>\n          </div>\n\n          <div className=\"grid gap-4\">\n            {/* Order Info */}\n            <div className=\"grid gap-4 sm:grid-cols-3 print:grid-cols-3\">\n              {/* Date Card */}\n              <div className=\"bg-white p-4 rounded-lg border shadow-sm print:border-gray-300\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"p-2 bg-blue-50 rounded-lg\">\n                    <Calendar className=\"w-5 h-5 text-blue-600\" />\n                  </div>\n                  <h3 className=\"font-medium\">Fecha</h3>\n                </div>\n                <p className=\"text-gray-600\">{orderDate}</p>\n              </div>\n\n              {/* Provider Card */}\n              <div className=\"bg-white p-4 rounded-lg border shadow-sm print:border-gray-300\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"p-2 bg-purple-50 rounded-lg\">\n                    <Building2 className=\"w-5 h-5 text-purple-600\" />\n                  </div>\n                  <h3 className=\"font-medium\">Proveedor</h3>\n                </div>\n                <p className=\"font-medium\">{provider.commercialName}</p>\n                {provider.legalName && provider.legalName !== provider.commercialName && (\n                  <p className=\"text-sm text-gray-500\">{provider.legalName}</p>\n                )}\n              </div>\n\n              {/* Summary Card */}\n              <div className=\"bg-white p-4 rounded-lg border shadow-sm print:border-gray-300\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"p-2 bg-green-50 rounded-lg\">\n                    <Package className=\"w-5 h-5 text-green-600\" />\n                  </div>\n                  <h3 className=\"font-medium\">Resumen</h3>\n                </div>\n                <div className=\"space-y-1\">\n                  <p className=\"text-gray-600\">\n                    {totalProducts} {totalProducts === 1 ? 'item' : 'items'}\n                  </p>\n                  <p className=\"text-gray-600\">\n                    {totalUnits} {totalUnits === 1 ? 'unidad' : 'unidades'}\n                  </p>\n                  <p className=\"font-medium text-lg text-blue-600\">\n                    {formatPrice(order.total)}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Order Details */}\n            <div className=\"bg-white p-4 rounded-lg border shadow-sm print:border-gray-300\">\n              <div className=\"flex items-center gap-3 mb-4 print:mb-2\">\n                <div className=\"p-2 bg-amber-50 rounded-lg\">\n                  <FileText className=\"w-5 h-5 text-amber-600\" />\n                </div>\n                <h3 className=\"font-medium\">Detalles del Pedido</h3>\n              </div>\n              <OrderSummary\n                order={order}\n                products={products}\n                provider={provider}\n                preview={false}\n              />\n            </div>\n\n            {/* Actions */}\n            {order.status === 'completed' ? (\n              <div className=\"print:hidden\">\n                <div className=\"bg-white p-4 rounded-lg border shadow-sm\">\n                  <OrderActions\n                    order={order}\n                    products={products}\n                    provider={provider}\n                    onReopen={() => setIsReopenDialogOpen(true)}\n                  />\n                </div>\n              </div>\n            ) : (\n              <div className=\"print:hidden bg-amber-50 border border-amber-200 rounded-lg p-4\">\n                <div className=\"flex items-center gap-3 text-amber-700\">\n                  <AlertTriangle className=\"w-5 h-5 flex-shrink-0\" />\n                  <p>Esta orden está pendiente de completar</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Reopen Dialog */}\n      <Dialog\n        isOpen={isReopenDialogOpen}\n        onClose={() => setIsReopenDialogOpen(false)}\n        title=\"Reabrir orden\"\n      >\n        <div className=\"space-y-4\">\n          <p className=\"text-amber-600\">\n            ¿Está seguro que desea reabrir esta orden para edición?\n          </p>\n          <div className=\"flex justify-end space-x-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsReopenDialogOpen(false)}\n              disabled={isProcessing}\n            >\n              Cancelar\n            </Button>\n            <Button\n              onClick={handleReopen}\n              isLoading={isProcessing}\n            >\n              Reabrir\n            </Button>\n          </div>\n        </div>\n      </Dialog>\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { Search } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\nimport { Order, Product } from '@/types';\nimport { formatPrice } from '@/lib/utils';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\n\ninterface OrderListSearchProps {\n  orders: Order[];\n  products: Product[];\n  onOrderSelect: (order: Order, orderNumber: number) => void;\n}\n\ninterface OrderWithProduct extends Order {\n  orderNumber: number;\n  matchingProducts: Array<{\n    product: Product;\n    quantity: number;\n  }>;\n}\n\nexport function OrderListSearch({ orders, products, onOrderSelect }: OrderListSearchProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState<OrderWithProduct[]>([]);\n\n  useEffect(() => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n\n    const searchTermLower = searchTerm.toLowerCase();\n    const sortedOrders = [...orders].sort((a, b) => \n      new Date(b.date).getTime() - new Date(a.date).getTime()\n    );\n    \n    const results = sortedOrders\n      .map((order, index) => {\n        // Find matching products in this order\n        const matchingProducts = order.items\n          .map(item => {\n            const product = products.find(p => p.id === item.productId);\n            if (!product) return null;\n            \n            const matches = \n              product.name.toLowerCase().includes(searchTermLower) ||\n              product.sku.toLowerCase().includes(searchTermLower) ||\n              product.tags?.some(tag => tag.toLowerCase().includes(searchTermLower));\n            \n            return matches ? { product, quantity: item.quantity } : null;\n          })\n          .filter((item): item is NonNullable<typeof item> => item !== null);\n\n        if (matchingProducts.length === 0) return null;\n\n        return {\n          ...order,\n          orderNumber: sortedOrders.length - index,\n          matchingProducts\n        };\n      })\n      .filter((order): order is OrderWithProduct => order !== null)\n      .slice(0, 5);\n\n    setSearchResults(results);\n  }, [searchTerm, orders, products]);\n\n  return (\n    <div className=\"relative mb-6\">\n      <div className=\"relative\">\n        <Input\n          placeholder=\"Buscar productos en órdenes...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"pl-10 bg-amber-50 border-amber-200 focus:border-amber-400 focus:ring-amber-400 placeholder-amber-400\"\n        />\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-amber-400\" />\n      </div>\n\n      {searchResults.length > 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-amber-200 rounded-lg shadow-lg max-h-[400px] overflow-auto\">\n          {searchResults.map((order) => (\n            <button\n              key={order.id}\n              onClick={() => onOrderSelect(order, order.orderNumber)}\n              className=\"w-full px-4 py-3 text-left hover:bg-amber-50 border-b border-amber-100 last:border-b-0\"\n            >\n              <div className=\"flex items-start justify-between gap-4\">\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <span className=\"font-medium text-amber-700\">\n                      Orden #{order.orderNumber}\n                    </span>\n                    <span className=\"text-gray-400\">•</span>\n                    <span className=\"text-sm text-gray-600\">\n                      {format(new Date(order.date), \"d 'de' MMMM, yyyy\", { locale: es })}\n                    </span>\n                  </div>\n                  \n                  <div className=\"space-y-1\">\n                    {order.matchingProducts.map(({ product, quantity }) => (\n                      <div key={product.id} className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-gray-900\">{product.name}</span>\n                        <span className=\"text-gray-600 whitespace-nowrap ml-2\">\n                          {quantity} {product.purchasePackaging}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                \n                <div className=\"text-amber-600 font-medium whitespace-nowrap\">\n                  {formatPrice(order.total)}\n                </div>\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n\n      {searchTerm && searchResults.length === 0 && (\n        <div className=\"absolute z-10 w-full mt-1 bg-white border border-amber-200 rounded-lg shadow-lg p-4 text-center text-gray-500\">\n          No se encontraron productos en las órdenes\n        </div>\n      )}\n    </div>\n  );\n}","/**\n * Formats a number as currency without the currency symbol\n */\nexport function formatPrice(price: number): string {\n  return new Intl.NumberFormat('es-UY', {\n    style: 'decimal',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }).format(price);\n}\n\n/**\n * Formats a number as currency with the currency symbol\n */\nexport function formatCurrency(price: number): string {\n  return new Intl.NumberFormat('es-UY', {\n    style: 'currency',\n    currency: 'UYU'\n  }).format(price);\n}","import React, { useState } from 'react';\nimport { X } from 'lucide-react';\nimport { Product } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { ProductForm } from './ProductForm';\n\ninterface FullscreenProductEditorProps {\n  providerId: string;\n  product: Product;\n  onSubmit: (product: Product, data: Partial<Product>) => Promise<void>;\n  onCancel: () => void;\n  isSubmitting?: boolean;\n}\n\nexport function FullscreenProductEditor({\n  providerId,\n  product,\n  onSubmit,\n  onCancel,\n  isSubmitting\n}: FullscreenProductEditorProps) {\n  const [isDirty, setIsDirty] = useState(false);\n\n  const handleClose = () => {\n    if (isDirty) {\n      if (confirm('¿Está seguro que desea descartar los cambios?')) {\n        onCancel();\n      }\n    } else {\n      onCancel();\n    }\n  };\n\n  const handleSubmit = async (data: Omit<Product, 'id'>) => {\n    await onSubmit(product, data);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-white z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"border-b bg-white\">\n        <div className=\"flex items-center justify-between px-4 h-14\">\n          <h2 className=\"text-lg font-semibold\">\n            Editar Producto\n          </h2>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleClose}\n            className=\"p-2 hover:bg-gray-100 rounded-full\"\n          >\n            <X className=\"w-5 h-5\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        <div className=\"h-full overflow-y-auto px-4 py-6\">\n          <div className=\"max-w-3xl mx-auto\">\n            <ProductForm\n              providerId={providerId}\n              initialData={product}\n              onSubmit={handleSubmit}\n              onCancel={onCancel}\n              isLoading={isSubmitting}\n              onDirtyChange={setIsDirty}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState, useRef, useEffect } from 'react';\nimport { Archive, Check, Plus, Minus, ArrowUpDown } from 'lucide-react';\nimport { Product } from '@/types';\nimport { formatPrice } from '@/lib/utils/formatting/currency';\nimport { formatOrderNumber } from '@/lib/order/utils';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { Card } from '@/components/ui/Card';\nimport { FullscreenProductEditor } from '@/components/products/FullscreenProductEditor';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\n\ninterface OrderProductCardProps {\n  product: Product;\n  quantity: number;\n  onQuantityChange: (quantity: number) => void;\n  onReview: () => void;\n  isReviewed: boolean;\n  allowEdit?: boolean;\n}\n\nexport function OrderProductCard({\n  product,\n  quantity,\n  onQuantityChange,\n  onReview,\n  isReviewed,\n  allowEdit = true\n}: OrderProductCardProps) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showQuantityInput, setShowQuantityInput] = useState(false);\n  const [inputValue, setInputValue] = useState(quantity.toString());\n  const quantityControlsRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const clickTimeoutRef = useRef<NodeJS.Timeout>();\n  const { products, updateProduct } = useGlobalProducts();\n\n  // Get latest product data\n  const currentProduct = products.find(p => p.id === product.id) || product;\n\n  useEffect(() => {\n    setInputValue(quantity.toString());\n  }, [quantity]);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (quantityControlsRef.current && !quantityControlsRef.current.contains(event.target as Node)) {\n        setShowQuantityInput(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  useEffect(() => {\n    if (showQuantityInput && inputRef.current) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n  }, [showQuantityInput]);\n\n  const handleProductUpdate = async (data: Omit<Product, 'id'>) => {\n    setIsSubmitting(true);\n    try {\n      await updateProduct(currentProduct.id!, data);\n      setIsEditing(false);\n    } catch (error) {\n      console.error('Error updating product:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleCardClick = (e: React.MouseEvent) => {\n    // Ignore clicks on buttons and inputs\n    if (\n      e.target instanceof HTMLButtonElement ||\n      e.target instanceof HTMLInputElement ||\n      (e.target as HTMLElement).closest('button') ||\n      (e.target as HTMLElement).closest('input') ||\n      (e.target as HTMLElement).closest('.quantity-controls')\n    ) {\n      return;\n    }\n\n    // Handle single/double click\n    if (clickTimeoutRef.current) {\n      // Double click - toggle product selection\n      clearTimeout(clickTimeoutRef.current);\n      clickTimeoutRef.current = undefined;\n      onQuantityChange(quantity > 0 ? 0 : currentProduct.desiredStock);\n    } else {\n      // Single click - mark as reviewed\n      clickTimeoutRef.current = setTimeout(() => {\n        clickTimeoutRef.current = undefined;\n        if (!isReviewed) {\n          onReview();\n        }\n      }, 250);\n    }\n  };\n\n  const handleQuantityClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setShowQuantityInput(true);\n  };\n\n  const handleQuantityChange = (newQuantity: number) => {\n    if (newQuantity >= 0) {\n      onQuantityChange(newQuantity);\n      if (!isReviewed) {\n        onReview();\n      }\n    }\n  };\n\n  const handleDecrement = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (quantity > 0) {\n      handleQuantityChange(quantity - 1);\n    }\n  };\n\n  const handleIncrement = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    handleQuantityChange(quantity + 1);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setInputValue(value);\n    const numValue = parseInt(value);\n    if (!isNaN(numValue) && numValue >= 0) {\n      handleQuantityChange(numValue);\n    }\n  };\n\n  return (\n    <>\n      <Card isSelected={quantity > 0}>\n        <Card.Header className=\"!p-3\">\n          <div className=\"relative\" onClick={handleCardClick}>\n            {/* Review Indicator */}\n            {isReviewed && (\n              <div className=\"absolute -top-2 -right-2 bg-green-500 text-white rounded-full p-1\">\n                <Check className=\"w-4 h-4\" />\n              </div>\n            )}\n\n            <div className=\"flex items-start gap-3\">\n              {/* Checkbox */}\n              <div\n                className={`\n                  flex-shrink-0 w-5 h-5 rounded border cursor-pointer transition-colors mt-1\n                  ${quantity > 0 \n                    ? 'bg-blue-500 border-blue-500' \n                    : 'border-gray-300 hover:border-blue-500'\n                  }\n                `}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleQuantityChange(quantity > 0 ? 0 : currentProduct.desiredStock);\n                }}\n              >\n                {quantity > 0 && (\n                  <Check className=\"w-full h-full text-white p-0.5\" />\n                )}\n              </div>\n\n              <div className=\"flex-1 min-w-0\">\n                {/* Product Name */}\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <h3 className=\"font-semibold text-gray-900\">\n                    {currentProduct.name}\n                  </h3>\n                </div>\n\n                {/* Product Details */}\n                <div className=\"grid grid-cols-2 gap-2 text-sm text-gray-600 mb-3\">\n                  <div className=\"flex items-center\">\n                    <ArrowUpDown className=\"w-4 h-4 mr-1.5 flex-shrink-0\" />\n                    <span>Orden: {formatOrderNumber(currentProduct.order)}</span>\n                  </div>\n                  <div className=\"flex items-center\">\n                    <Archive className=\"w-4 h-4 mr-1.5 flex-shrink-0\" />\n                    <span>Stock: {currentProduct.minPackageStock} - {currentProduct.desiredStock}</span>\n                  </div>\n                </div>\n\n                {/* Quantity Controls */}\n                {quantity > 0 && (\n                  <div className=\"flex items-end justify-between gap-4\">\n                    <div className=\"flex-1\">\n                      <div ref={quantityControlsRef} className=\"quantity-controls\">\n                        {showQuantityInput ? (\n                          <div className=\"flex items-center gap-2\">\n                            <Button\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={handleDecrement}\n                              disabled={quantity <= 0}\n                              className=\"w-12 h-12 rounded-full\"\n                            >\n                              <Minus className=\"w-5 h-5\" />\n                            </Button>\n                            \n                            <Input\n                              ref={inputRef}\n                              type=\"number\"\n                              min=\"0\"\n                              value={inputValue}\n                              onChange={handleInputChange}\n                              onClick={(e) => e.stopPropagation()}\n                              placeholder={currentProduct.desiredStock.toString()}\n                              className=\"text-center text-lg h-12\"\n                            />\n                            \n                            <Button\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={handleIncrement}\n                              className=\"w-12 h-12 rounded-full\"\n                            >\n                              <Plus className=\"w-5 h-5\" />\n                            </Button>\n                          </div>\n                        ) : (\n                          <button\n                            onClick={handleQuantityClick}\n                            className=\"w-full h-12 px-4 text-left bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors\"\n                          >\n                            <span className=\"text-lg font-medium\">\n                              {quantity} {currentProduct.purchasePackaging}\n                            </span>\n                          </button>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"text-right\">\n                      <div className=\"text-lg font-bold text-blue-600\">\n                        {formatPrice(currentProduct.price)}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        Total: {formatPrice(currentProduct.price * quantity)}\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Price (when not selected) */}\n                {!quantity && (\n                  <div className=\"text-lg font-bold text-blue-600\">\n                    {formatPrice(currentProduct.price)}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </Card.Header>\n      </Card>\n\n      {/* Product Edit Modal - Only show if editing is allowed */}\n      {allowEdit && isEditing && (\n        <FullscreenProductEditor\n          providerId={currentProduct.providerId}\n          product={currentProduct}\n          onSubmit={handleProductUpdate}\n          onCancel={() => setIsEditing(false)}\n          isSubmitting={isSubmitting}\n        />\n      )}\n    </>\n  );\n}","import React from 'react';\nimport { Search } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\n\ninterface ProductFilterProps {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport function ProductFilter({ value, onChange }: ProductFilterProps) {\n  return (\n    <div className=\"relative mb-6\">\n      <Input\n        placeholder=\"Filtrar\"\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"pl-10\"\n      />\n      <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport { Product } from '@/types';\nimport { OrderProductCard } from './OrderProductCard';\nimport { ProductFilter } from './ProductFilter';\nimport { Button } from '@/components/ui/Button';\nimport { Filter } from 'lucide-react';\n\ninterface ProductSelectorProps {\n  products: Product[];\n  selectedProducts: Map<string, number>;\n  onProductSelect: (productId: string, quantity: number) => void;\n  allowEdit?: boolean;\n}\n\nexport function ProductSelector({\n  products,\n  selectedProducts,\n  onProductSelect,\n  allowEdit = true\n}: ProductSelectorProps) {\n  const [reviewedProducts, setReviewedProducts] = useState<Set<string>>(new Set());\n  const [filterValue, setFilterValue] = useState('');\n  const [showOnlySelected, setShowOnlySelected] = useState(false);\n\n  // Sort products by order\n  const sortedProducts = [...products].sort((a, b) => a.order - b.order);\n\n  // Filter products based on search term and selected filter\n  const filteredProducts = sortedProducts.filter(product => {\n    // First apply selected filter if active\n    if (showOnlySelected && !selectedProducts.has(product.id!)) {\n      return false;\n    }\n\n    // Then apply search filter if there's a search term\n    if (filterValue.trim()) {\n      const searchTerm = filterValue.toLowerCase();\n      return (\n        product.name.toLowerCase().includes(searchTerm) ||\n        product.sku.toLowerCase().includes(searchTerm) ||\n        (product.supplierCode?.toLowerCase().includes(searchTerm)) ||\n        product.tags?.some(tag => tag.toLowerCase().includes(searchTerm))\n      );\n    }\n\n    return true;\n  });\n\n  const handleQuantityChange = (productId: string, newQuantity: number) => {\n    if (newQuantity >= 0) {\n      onProductSelect(productId, newQuantity);\n      markAsReviewed(productId);\n    }\n  };\n\n  const markAsReviewed = (productId: string) => {\n    setReviewedProducts(prev => new Set(prev).add(productId));\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      {/* Filters */}\n      <div className=\"flex gap-2\">\n        <div className=\"flex-1\">\n          <ProductFilter \n            value={filterValue}\n            onChange={setFilterValue}\n            placeholder=\"Filtrar\"\n          />\n        </div>\n        <Button\n          variant={showOnlySelected ? \"primary\" : \"outline\"}\n          onClick={() => setShowOnlySelected(!showOnlySelected)}\n          className=\"w-10 h-10 p-0 flex items-center justify-center\"\n          title={showOnlySelected ? 'Mostrar todos' : 'Solo seleccionados'}\n        >\n          <Filter className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      \n      {filteredProducts.map((product) => (\n        <OrderProductCard\n          key={product.id}\n          product={product}\n          products={products}\n          isSelected={selectedProducts.has(product.id!)}\n          quantity={selectedProducts.get(product.id!) || 0}\n          onQuantityChange={(quantity) => handleQuantityChange(product.id!, quantity)}\n          onReview={() => markAsReviewed(product.id!)}\n          isReviewed={reviewedProducts.has(product.id!)}\n          allowEdit={allowEdit}\n        />\n      ))}\n\n      {filteredProducts.length === 0 && (\n        <div className=\"text-center py-8 text-gray-500\">\n          {showOnlySelected \n            ? 'No hay productos seleccionados'\n            : 'No se encontraron productos que coincidan con la búsqueda'\n          }\n        </div>\n      )}\n    </div>\n  );\n}","import { Order, Product } from '@/types';\nimport { getCurrentTimestamp } from '@/lib/dateUtils';\n\nexport function calculateOrderTotal(items: Order['items']): number {\n  return Number(items.reduce((sum, item) => \n    sum + Number((item.price * item.quantity).toFixed(2)), \n    0\n  ).toFixed(2));\n}\n\nexport function createOrderItem(product: Product, quantity: number) {\n  const price = Number(Number(product.price).toFixed(2));\n  const subtotal = Number((price * quantity).toFixed(2));\n  return {\n    productId: product.id!,\n    quantity: Number(quantity),\n    price,\n    subtotal\n  };\n}\n\nexport function createOrder(\n  providerId: string, \n  selectedProducts: Map<string, number>, \n  products: Product[]\n): Omit<Order, 'id'> {\n  if (!providerId || !products || products.length === 0) {\n    throw new Error('Invalid order data');\n  }\n\n  const items = Array.from(selectedProducts.entries())\n    .map(([productId, quantity]) => {\n      const product = products.find(p => p.id === productId);\n      if (!product) {\n        throw new Error(`Product ${productId} not found`);\n      }\n      return createOrderItem(product, quantity);\n    })\n    .sort((a, b) => {\n      const productA = products.find(p => p.id === a.productId);\n      const productB = products.find(p => p.id === b.productId);\n      if (!productA || !productB) return 0;\n      return productA.order - productB.order;\n    });\n\n  const total = calculateOrderTotal(items);\n\n  return {\n    providerId,\n    date: getCurrentTimestamp(),\n    status: 'pending',\n    items,\n    total\n  };\n}","import { Order, Product } from '@/types';\n\nexport function validateOrder(\n  order: Omit<Order, 'id'>, \n  products: Product[]\n): string | null {\n  try {\n    // Validate required fields\n    if (!order.providerId) {\n      return 'El proveedor es requerido';\n    }\n\n    if (!order.items || order.items.length === 0) {\n      return 'Debe agregar al menos un producto';\n    }\n\n    // Validate items\n    const seenProducts = new Set<string>();\n    for (const item of order.items) {\n      if (!item.productId) {\n        return 'Producto inválido';\n      }\n\n      if (seenProducts.has(item.productId)) {\n        return 'No puede haber productos duplicados';\n      }\n      seenProducts.add(item.productId);\n\n      if (item.quantity <= 0) {\n        return 'La cantidad debe ser mayor a 0';\n      }\n\n      // Find product\n      const product = products.find(p => p.id === item.productId);\n      if (!product) {\n        return `Producto no encontrado`;\n      }\n\n      // Validate price matches\n      if (Math.abs(item.price - product.price) > 0.01) {\n        return `El precio del producto ${product.name} no coincide`;\n      }\n\n      // Validate subtotal calculation\n      const expectedSubtotal = Number((item.price * item.quantity).toFixed(2));\n      if (Math.abs(item.subtotal - expectedSubtotal) > 0.01) {\n        return `El subtotal del producto ${product.name} no coincide`;\n      }\n    }\n\n    // Validate total\n    const calculatedTotal = Number(order.items.reduce((sum, item) => \n      sum + Number((item.price * item.quantity).toFixed(2)), \n      0\n    ).toFixed(2));\n\n    if (Math.abs(order.total - calculatedTotal) > 0.01) {\n      return 'El total no coincide';\n    }\n\n    return null;\n  } catch (error) {\n    console.error('Error validating order:', error);\n    return 'Error al validar la orden';\n  }\n}","import { useEffect, useRef } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { Order, Product } from '@/types';\nimport { createOrder } from '@/lib/order/calculations';\nimport { validateOrder } from '@/lib/order/validation';\n\nconst AUTOSAVE_INTERVAL = 60000; // 1 minute in milliseconds\nconst DEBOUNCE_DELAY = 2000; // 2 seconds debounce for rapid changes\n\nexport function useOrderAutosave({\n  providerId,\n  selectedProducts,\n  products,\n  onSave,\n  enabled = true\n}: {\n  providerId: string;\n  selectedProducts: Map<string, number>;\n  products: Product[];\n  onSave: (orderData: Omit<Order, 'id'>) => Promise<void>;\n  enabled?: boolean;\n}) {\n  const lastSaveRef = useRef<number>(Date.now());\n  const saveTimeoutRef = useRef<NodeJS.Timeout>();\n  const debounceTimeoutRef = useRef<NodeJS.Timeout>();\n  const isSavingRef = useRef(false);\n  const isMountedRef = useRef(true);\n  const lastDataHashRef = useRef<string>('');\n\n  // Function to generate a hash of the current order data\n  const getDataHash = () => {\n    const orderData = Array.from(selectedProducts.entries())\n      .sort(([a], [b]) => a.localeCompare(b))\n      .map(([id, qty]) => `${id}:${qty}`)\n      .join(',');\n    return `${providerId}-${orderData}`;\n  };\n\n  // Cleanup function\n  const cleanup = () => {\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n      saveTimeoutRef.current = undefined;\n    }\n    if (debounceTimeoutRef.current) {\n      clearTimeout(debounceTimeoutRef.current);\n      debounceTimeoutRef.current = undefined;\n    }\n    isMountedRef.current = false;\n  };\n\n  useEffect(() => {\n    // Reset mounted flag\n    isMountedRef.current = true;\n\n    // Don't start autosave if not enabled or no data to save\n    if (!enabled || !providerId || selectedProducts.size === 0) {\n      cleanup();\n      return;\n    }\n\n    const scheduleSave = async () => {\n      // Don't save if component is unmounted or already saving\n      if (!isMountedRef.current || isSavingRef.current) {\n        return;\n      }\n\n      try {\n        // Get current data hash\n        const currentHash = getDataHash();\n\n        // Skip save if data hasn't changed\n        if (currentHash === lastDataHashRef.current) {\n          return;\n        }\n\n        isSavingRef.current = true;\n\n        // Create order data\n        const orderData = createOrder(providerId, selectedProducts, products);\n        \n        // Validate order\n        const validationError = validateOrder(orderData, products);\n        if (validationError) {\n          console.warn('Autosave skipped due to validation error:', validationError);\n          return;\n        }\n\n        // Only save if there have been changes since last save\n        const timeSinceLastSave = Date.now() - lastSaveRef.current;\n        if (timeSinceLastSave >= AUTOSAVE_INTERVAL) {\n          await onSave(orderData);\n          \n          // Update last save time and data hash only if component is still mounted\n          if (isMountedRef.current) {\n            lastSaveRef.current = Date.now();\n            lastDataHashRef.current = currentHash;\n            toast.success('Orden guardada automáticamente', {\n              duration: 2000,\n              position: 'bottom-right'\n            });\n          }\n        }\n      } catch (error) {\n        console.error('Error in autosave:', error);\n        if (isMountedRef.current) {\n          toast.error('Error al guardar automáticamente', {\n            duration: 2000,\n            position: 'bottom-right'\n          });\n        }\n      } finally {\n        isSavingRef.current = false;\n        \n        // Schedule next save only if component is still mounted\n        if (isMountedRef.current && enabled) {\n          saveTimeoutRef.current = setTimeout(scheduleSave, AUTOSAVE_INTERVAL);\n        }\n      }\n    };\n\n    // Clear existing timeouts\n    if (debounceTimeoutRef.current) {\n      clearTimeout(debounceTimeoutRef.current);\n    }\n\n    // Debounce the save operation\n    debounceTimeoutRef.current = setTimeout(() => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n      saveTimeoutRef.current = setTimeout(scheduleSave, AUTOSAVE_INTERVAL);\n    }, DEBOUNCE_DELAY);\n\n    // Cleanup on unmount or when dependencies change\n    return cleanup;\n  }, [enabled, providerId, selectedProducts, products, onSave]);\n\n  return {\n    lastSaveTime: lastSaveRef.current\n  };\n}","import React, { useState, useEffect } from 'react';\nimport { Product, Provider } from '@/types';\nimport { Button } from '@/components/ui/Button';\nimport { ProductSelector } from './ProductSelector';\nimport { formatPrice } from '@/lib/utils';\nimport { useOrders } from '@/hooks/useOrders';\nimport { useOrderAutosave } from '@/hooks/useOrderAutosave';\nimport { toast } from 'react-hot-toast';\n\ninterface FullscreenOrderEditorProps {\n  products: Product[];\n  selectedProducts: Map<string, number>;\n  onProductSelect: (productId: string, quantity: number) => void;\n  onConfirm: () => void;\n  onCancel: () => void;\n  isSubmitting?: boolean;\n  provider: Provider;\n}\n\nexport function FullscreenOrderEditor({\n  products,\n  selectedProducts,\n  onProductSelect,\n  onConfirm,\n  onCancel,\n  isSubmitting,\n  provider\n}: FullscreenOrderEditorProps) {\n  const [allProducts, setAllProducts] = useState<Product[]>(products);\n  const { orders, addOrder, updateOrder } = useOrders(provider.id);\n  const [isSaving, setIsSaving] = useState(false);\n\n  // Update allProducts when products change\n  useEffect(() => {\n    setAllProducts(prevProducts => {\n      const productIds = new Set(products.map(p => p.id));\n      // Keep external products that are not in the original products list\n      const externalProducts = prevProducts.filter(p => !productIds.has(p.id));\n      return [...products, ...externalProducts];\n    });\n  }, [products]);\n\n  // Enable autosave\n  useOrderAutosave({\n    providerId: provider.id,\n    selectedProducts,\n    products: allProducts,\n    onSave: async (orderData) => {\n      if (isSaving) return;\n      \n      setIsSaving(true);\n      try {\n        // Find today's order if it exists\n        const today = new Date();\n        const todayStart = new Date(today.setHours(0, 0, 0, 0));\n        const todayEnd = new Date(today.setHours(23, 59, 59, 999));\n        \n        const todayOrder = orders.find(order => {\n          const orderDate = new Date(order.date);\n          return orderDate >= todayStart && orderDate <= todayEnd;\n        });\n\n        if (todayOrder) {\n          // Update existing order\n          await updateOrder(todayOrder.id!, orderData);\n        } else {\n          // Create new order\n          await addOrder(orderData);\n        }\n      } catch (error) {\n        console.error('Error saving order:', error);\n        throw error; // Re-throw to trigger error handling in hook\n      } finally {\n        setIsSaving(false);\n      }\n    }\n  });\n\n  // Calculate total\n  const total = Array.from(selectedProducts.entries()).reduce((sum, [productId, quantity]) => {\n    const product = allProducts.find(p => p.id === productId);\n    return sum + (product?.price || 0) * quantity;\n  }, 0);\n\n  return (\n    <div className=\"fixed inset-0 bg-white z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"border-b bg-white\">\n        <div className=\"flex items-center justify-between px-2 h-14\">\n          <div className=\"flex-1 min-w-0\">\n            <h2 className=\"text-lg font-semibold truncate\">\n              {provider.legalName && provider.legalName !== provider.commercialName ? (\n                <span className=\"text-gray-500\">\n                  {provider.legalName} <span className=\"mx-1\">•</span> \n                </span>\n              ) : null}\n              <span>{provider.commercialName}</span>\n            </h2>\n            {selectedProducts.size > 0 && (\n              <div className=\"text-sm text-gray-600\">\n                Importe Total: <span className=\"font-medium text-blue-600\">{formatPrice(total)}</span>\n              </div>\n            )}\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={onCancel}\n              disabled={isSubmitting || isSaving}\n              size=\"sm\"\n            >\n              Cancelar\n            </Button>\n            <Button\n              onClick={onConfirm}\n              isLoading={isSubmitting || isSaving}\n              size=\"sm\"\n            >\n              Guardar\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 overflow-hidden\">\n        <div className=\"h-full overflow-y-auto\">\n          <div className=\"container mx-auto max-w-3xl px-2 py-4\">\n            {/* Disable product editing in this view */}\n            <ProductSelector\n              products={allProducts}\n              selectedProducts={selectedProducts}\n              onProductSelect={onProductSelect}\n              allowEdit={false}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router-dom';\nimport { Plus } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\nimport { Button } from '@/components/ui/Button';\nimport { ProviderSelector } from '@/components/ui/ProviderSelector';\nimport { useProviders } from '@/hooks/useProviders';\nimport { useOrders } from '@/hooks/useOrders';\nimport { useProducts } from '@/hooks/useProducts';\nimport { useGlobalOrders } from '@/hooks/useGlobalOrders';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\nimport { OrderList } from '@/components/orders/OrderList';\nimport { OrderDetails } from '@/components/orders/OrderDetails';\nimport { OrderListSearch } from '@/components/orders/OrderListSearch';\nimport { FullscreenOrderEditor } from '@/components/orders/FullscreenOrderEditor';\nimport { Order } from '@/types';\nimport { createOrder } from '@/lib/order/calculations';\nimport { validateOrder } from '@/lib/order/validation';\n\ninterface ViewingOrderInfo {\n  order: Order;\n  orderNumber: number;\n}\n\nexport function Orders() {\n  const navigate = useNavigate();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { providers } = useProviders();\n  const [selectedProviderId, setSelectedProviderId] = useState<string>('');\n  const { orders, loading, addOrder, updateOrder } = useOrders(selectedProviderId);\n  const { products, updateProduct } = useProducts(selectedProviderId);\n  const { orders: allOrders, loading: globalOrdersLoading } = useGlobalOrders();\n  const { products: allProducts, loading: globalProductsLoading } = useGlobalProducts();\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState<Order | null>(null);\n  const [viewingOrder, setViewingOrder] = useState<ViewingOrderInfo | null>(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [selectedProducts, setSelectedProducts] = useState<Map<string, number>>(new Map());\n  const [shouldReturnToDashboard, setShouldReturnToDashboard] = useState(false);\n\n  const selectedProvider = providers.find(p => p.id === selectedProviderId);\n\n  // Get last 5 orders\n  const recentOrders = allOrders\n    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n    .slice(0, 5);\n\n  // Handle URL parameters and today's order\n  useEffect(() => {\n    const providerId = searchParams.get('provider');\n    const isNewOrder = searchParams.get('new') === 'true';\n    \n    if (providerId) {\n      setSelectedProviderId(providerId);\n      \n      // If coming from dashboard\n      if (isNewOrder) {\n        setIsFormOpen(true);\n        setShouldReturnToDashboard(true);\n      } else {\n        // Find today's order for this provider\n        const today = new Date();\n        const todayStart = new Date(today.setHours(0, 0, 0, 0));\n        const todayEnd = new Date(today.setHours(23, 59, 59, 999));\n        \n        const todayOrder = orders.find(order => {\n          const orderDate = new Date(order.date);\n          return orderDate >= todayStart && orderDate <= todayEnd;\n        });\n\n        if (todayOrder) {\n          // Initialize selected products from today's order\n          const initialProducts = new Map();\n          todayOrder.items.forEach(item => {\n            initialProducts.set(item.productId, item.quantity);\n          });\n          setSelectedProducts(initialProducts);\n          setSelectedOrder(todayOrder);\n          setIsFormOpen(true);\n          setShouldReturnToDashboard(true);\n        }\n      }\n      \n      // Clean up URL parameters\n      setSearchParams({});\n    }\n  }, [searchParams, setSearchParams, orders]);\n\n  const handleProductSelect = (productId: string, quantity: number) => {\n    const newSelected = new Map(selectedProducts);\n    if (quantity > 0) {\n      newSelected.set(productId, quantity);\n    } else {\n      newSelected.delete(productId);\n    }\n    setSelectedProducts(newSelected);\n  };\n\n  const handleSubmit = async () => {\n    if (!selectedProviderId || !products || !selectedProvider) {\n      toast.error('Seleccione un proveedor');\n      return;\n    }\n\n    if (selectedProducts.size === 0) {\n      toast.error('Debe agregar al menos un producto');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const orderData = createOrder(selectedProviderId, selectedProducts, products);\n      \n      // Validate order before saving\n      const validationError = validateOrder(orderData, products);\n      if (validationError) {\n        toast.error(validationError);\n        return;\n      }\n\n      if (selectedOrder) {\n        await updateOrder(selectedOrder.id!, orderData);\n        toast.success('Orden actualizada exitosamente');\n      } else {\n        await addOrder(orderData);\n        toast.success('Orden creada exitosamente');\n      }\n\n      handleCloseForm();\n    } catch (error) {\n      console.error('Error saving order:', error);\n      toast.error('Error al guardar la orden');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleCloseForm = () => {\n    setIsFormOpen(false);\n    setSelectedOrder(null);\n    setSelectedProducts(new Map());\n    \n    // If we came from dashboard, go back\n    if (shouldReturnToDashboard) {\n      navigate('/');\n    }\n  };\n\n  const handleSelectOrder = (order: Order, orderNumber: number) => {\n    // Set provider ID if not already set\n    if (!selectedProviderId) {\n      setSelectedProviderId(order.providerId);\n    }\n\n    if (order.status === 'completed') {\n      setViewingOrder({ order, orderNumber });\n    } else {\n      const initialProducts = new Map();\n      order.items.forEach(item => {\n        initialProducts.set(item.productId, item.quantity);\n      });\n      setSelectedProducts(initialProducts);\n      setSelectedOrder(order);\n      setIsFormOpen(true);\n    }\n  };\n\n  const handleEditOrder = () => {\n    if (!viewingOrder) return;\n\n    const initialProducts = new Map();\n    viewingOrder.order.items.forEach(item => {\n      initialProducts.set(item.productId, item.quantity);\n    });\n    setSelectedProducts(initialProducts);\n    setSelectedOrder(viewingOrder.order);\n    setViewingOrder(null);\n    setIsFormOpen(true);\n  };\n\n  const isLoading = loading || globalOrdersLoading || globalProductsLoading;\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Global Order Search */}\n      <OrderListSearch\n        orders={allOrders}\n        products={allProducts}\n        onOrderSelect={handleSelectOrder}\n      />\n\n      {/* Provider Selection and Actions */}\n      <div className=\"space-y-4 md:space-y-0\">\n        <div className=\"flex flex-col md:flex-row md:items-end gap-4\">\n          <div className=\"flex-1\">\n            <ProviderSelector\n              providers={providers}\n              selectedProviderId={selectedProviderId}\n              onChange={setSelectedProviderId}\n            />\n          </div>\n\n          {selectedProviderId && (\n            <div className=\"flex-shrink-0 w-full md:w-auto\">\n              <Button\n                onClick={() => setIsFormOpen(true)}\n                className=\"w-full md:w-auto bg-blue-500 hover:bg-blue-600 text-white h-[48px] px-6 rounded-lg shadow-sm hover:shadow transition-all\"\n              >\n                <Plus className=\"w-5 h-5 mr-2\" />\n                <span className=\"whitespace-nowrap\">Nueva Orden</span>\n              </Button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {isLoading ? (\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n        </div>\n      ) : (\n        <>\n          {/* Recent Orders (when no provider selected) */}\n          {!selectedProviderId && recentOrders.length > 0 && (\n            <div className=\"space-y-4\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Últimas Órdenes</h2>\n              <OrderList\n                orders={recentOrders}\n                products={allProducts}\n                onSelect={handleSelectOrder}\n              />\n            </div>\n          )}\n\n          {isFormOpen && selectedProvider && (\n            <FullscreenOrderEditor\n              products={products}\n              selectedProducts={selectedProducts}\n              onProductSelect={handleProductSelect}\n              onProductUpdate={updateProduct}\n              onConfirm={handleSubmit}\n              onCancel={handleCloseForm}\n              isSubmitting={isSubmitting}\n              provider={selectedProvider}\n            />\n          )}\n\n          {viewingOrder && selectedProvider && (\n            <OrderDetails\n              order={viewingOrder.order}\n              orderNumber={viewingOrder.orderNumber}\n              products={allProducts}\n              provider={selectedProvider}\n              onClose={() => setViewingOrder(null)}\n              onEdit={handleEditOrder}\n            />\n          )}\n\n          {!isFormOpen && !viewingOrder && selectedProviderId && (\n            <OrderList\n              orders={orders}\n              products={products}\n              provider={selectedProvider}\n              onSelect={handleSelectOrder}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n}","import React from 'react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Dialog } from '@/components/ui/Dialog';\nimport { Provider } from '@/types';\n\ninterface DayDetailsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  date: Date;\n  events: {\n    billing: Provider[];\n    orders: Provider[];\n    deliveries: Provider[];\n  };\n}\n\nexport function DayDetailsModal({ isOpen, onClose, date, events }: DayDetailsModalProps) {\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      title={format(date, \"EEEE d 'de' MMMM, yyyy\", { locale: es })}\n    >\n      <div className=\"space-y-6\">\n        {/* Billing Events */}\n        {events.billing.length > 0 && (\n          <div>\n            <h3 className=\"text-lg font-medium text-amber-900 mb-3\">Facturas</h3>\n            <div className=\"space-y-2\">\n              {events.billing.map((provider) => (\n                <div key={provider.id} className=\"bg-amber-50 p-3 rounded-lg\">\n                  <div className=\"font-medium text-amber-900\">\n                    {provider.commercialName}\n                  </div>\n                  {provider.legalName && provider.legalName !== provider.commercialName && (\n                    <div className=\"text-sm text-amber-700\">\n                      {provider.legalName}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Order Events */}\n        {events.orders.length > 0 && (\n          <div>\n            <h3 className=\"text-lg font-medium text-blue-900 mb-3\">Pedidos</h3>\n            <div className=\"space-y-2\">\n              {events.orders.map((provider) => (\n                <div key={provider.id} className=\"bg-blue-50 p-3 rounded-lg\">\n                  <div className=\"font-medium text-blue-900\">\n                    {provider.commercialName}\n                  </div>\n                  {provider.legalName && provider.legalName !== provider.commercialName && (\n                    <div className=\"text-sm text-blue-700\">\n                      {provider.legalName}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Delivery Events */}\n        {events.deliveries.length > 0 && (\n          <div>\n            <h3 className=\"text-lg font-medium text-green-900 mb-3\">Entregas</h3>\n            <div className=\"space-y-2\">\n              {events.deliveries.map((provider) => (\n                <div key={provider.id} className=\"bg-green-50 p-3 rounded-lg\">\n                  <div className=\"font-medium text-green-900\">\n                    {provider.commercialName}\n                  </div>\n                  {provider.legalName && provider.legalName !== provider.commercialName && (\n                    <div className=\"text-sm text-green-700\">\n                      {provider.legalName}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* No Events Message */}\n        {events.billing.length === 0 && events.orders.length === 0 && events.deliveries.length === 0 && (\n          <div className=\"text-center py-8 text-gray-500\">\n            No hay eventos programados para este día\n          </div>\n        )}\n      </div>\n    </Dialog>\n  );\n}","import React, { useState } from 'react';\nimport { format, startOfMonth, endOfMonth, eachWeekOfInterval, eachDayOfInterval, isSameMonth, isToday } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Card } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { Calendar as CalendarIcon, List, FileText, ShoppingCart, Truck } from 'lucide-react';\nimport { useProviders } from '@/hooks/useProviders';\nimport { useGlobalOrders } from '@/hooks/useGlobalOrders';\nimport { formatPrice } from '@/lib/utils';\nimport { WeekDay } from '@/types';\nimport { DayDetailsModal } from '@/components/schedule/DayDetailsModal';\n\nconst WEEKDAYS: { day: WeekDay; label: string }[] = [\n  { day: 'monday', label: 'Lunes' },\n  { day: 'tuesday', label: 'Martes' },\n  { day: 'wednesday', label: 'Miércoles' },\n  { day: 'thursday', label: 'Jueves' },\n  { day: 'friday', label: 'Viernes' },\n  { day: 'saturday', label: 'Sábado' },\n  { day: 'sunday', label: 'Domingo' }\n];\n\nconst WEEKDAY_TO_NUMBER: Record<WeekDay, number> = {\n  sunday: 0,\n  monday: 1,\n  tuesday: 2,\n  wednesday: 3,\n  thursday: 4,\n  friday: 5,\n  saturday: 6\n};\n\nconst NUMBER_TO_WEEKDAY: Record<number, WeekDay> = {\n  0: 'sunday',\n  1: 'monday',\n  2: 'tuesday',\n  3: 'wednesday',\n  4: 'thursday',\n  5: 'friday',\n  6: 'saturday'\n};\n\nexport function Schedule() {\n  const { providers } = useProviders();\n  const { orders: allOrders } = useGlobalOrders();\n  const [isMonthView, setIsMonthView] = useState(false);\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\n  const [selectedEvents, setSelectedEvents] = useState<{\n    billing: typeof providers;\n    orders: typeof providers;\n    deliveries: typeof providers;\n  } | null>(null);\n  const today = format(new Date(), 'EEEE', { locale: es }).toLowerCase() as WeekDay;\n  const currentDate = new Date();\n  const currentDay = currentDate.getDate();\n  const currentWeekday = currentDate.getDay();\n\n  // Get today's orders by comparing dates without time\n  const todayOrders = allOrders.filter(order => {\n    const orderDate = new Date(order.date);\n    const today = new Date();\n    \n    return orderDate.getFullYear() === today.getFullYear() &&\n           orderDate.getMonth() === today.getMonth() &&\n           orderDate.getDate() === today.getDate();\n  });\n\n  // Group orders by provider\n  const ordersByProvider = todayOrders.reduce((acc, order) => {\n    if (!acc[order.providerId]) {\n      acc[order.providerId] = [];\n    }\n    acc[order.providerId].push(order);\n    return acc;\n  }, {} as Record<string, typeof todayOrders>);\n\n  // Get monthly billing providers that bill today\n  const monthlyBillingProviders = providers.filter(provider => \n    provider.billingType === 'monthly' && \n    provider.billingDays?.includes(currentDay)\n  );\n\n  // Get calendar data for month view\n  const monthStart = startOfMonth(currentDate);\n  const monthEnd = endOfMonth(currentDate);\n  const weeks = eachWeekOfInterval(\n    { start: monthStart, end: monthEnd },\n    { weekStartsOn: 1 } // Week starts on Monday\n  );\n\n  // Function to get events for a specific day\n  const getDayEvents = (date: Date) => {\n    const dayOfMonth = date.getDate();\n    const dayOfWeek = NUMBER_TO_WEEKDAY[date.getDay()];\n\n    const billing = providers.filter(p => \n      p.billingType === 'monthly' && \n      p.billingDays?.includes(dayOfMonth)\n    );\n\n    const orders = providers.filter(p => p.orderDays?.includes(dayOfWeek));\n    const deliveries = providers.filter(p => p.deliveryDays?.includes(dayOfWeek));\n\n    return { billing, orders, deliveries };\n  };\n\n  // Function to handle day click in month view\n  const handleDayClick = (date: Date) => {\n    const events = getDayEvents(date);\n    setSelectedDate(date);\n    setSelectedEvents(events);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header with view toggle */}\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Cronograma de Proveedores</h1>\n        <Button\n          variant=\"outline\"\n          onClick={() => setIsMonthView(!isMonthView)}\n          className=\"gap-2\"\n        >\n          {isMonthView ? (\n            <>\n              <List className=\"w-4 h-4\" />\n              Vista Semanal\n            </>\n          ) : (\n            <>\n              <CalendarIcon className=\"w-4 h-4\" />\n              Vista Mensual\n            </>\n          )}\n        </Button>\n      </div>\n\n      {isMonthView ? (\n        // Monthly Calendar View\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <div className=\"p-4 border-b\">\n            <h2 className=\"text-lg font-semibold\">\n              {format(currentDate, 'MMMM yyyy', { locale: es })}\n            </h2>\n          </div>\n          \n          {/* Calendar Grid */}\n          <div className=\"grid grid-cols-7 border-b\">\n            {WEEKDAYS.map(({ label }) => (\n              <div key={label} className=\"p-2 text-center font-medium text-sm border-r last:border-r-0\">\n                {label}\n              </div>\n            ))}\n          </div>\n\n          <div className=\"divide-y\">\n            {weeks.map((week, weekIndex) => {\n              const days = eachDayOfInterval({\n                start: week,\n                end: new Date(week.getTime() + 6 * 24 * 60 * 60 * 1000)\n              });\n\n              return (\n                <div key={weekIndex} className=\"grid grid-cols-7 min-h-[120px]\">\n                  {days.map((day, dayIndex) => {\n                    const events = getDayEvents(day);\n                    const isCurrentMonth = isSameMonth(day, currentDate);\n                    const isCurrentDay = isToday(day);\n                    const hasEvents = events.billing.length > 0 || \n                                    events.orders.length > 0 || \n                                    events.deliveries.length > 0;\n\n                    return (\n                      <div \n                        key={dayIndex}\n                        onClick={() => handleDayClick(day)}\n                        className={`p-2 border-r last:border-r-0 ${\n                          isCurrentMonth ? 'bg-white' : 'bg-gray-50'\n                        } ${isCurrentDay ? 'bg-blue-50' : ''} ${\n                          hasEvents ? 'cursor-pointer hover:bg-gray-50' : ''\n                        }`}\n                      >\n                        <div className={`text-sm font-medium mb-1 ${\n                          isCurrentMonth ? 'text-gray-900' : 'text-gray-400'\n                        } ${isCurrentDay ? 'text-blue-600' : ''}`}>\n                          {format(day, 'd')}\n                        </div>\n\n                        <div className=\"space-y-1 text-xs\">\n                          {events.billing.length > 0 && (\n                            <div className=\"text-amber-600 font-medium truncate\">\n                              {events.billing.length} {events.billing.length === 1 ? 'factura' : 'facturas'}\n                            </div>\n                          )}\n                          {events.orders.length > 0 && (\n                            <div className=\"text-blue-600 font-medium truncate\">\n                              {events.orders.length} {events.orders.length === 1 ? 'pedido' : 'pedidos'}\n                            </div>\n                          )}\n                          {events.deliveries.length > 0 && (\n                            <div className=\"text-green-600 font-medium truncate\">\n                              {events.deliveries.length} {events.deliveries.length === 1 ? 'entrega' : 'entregas'}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      ) : (\n        <>\n          {/* Today's Schedule */}\n          <Card>\n            <Card.Header>\n              <Card.Title>\n                Hoy - {format(new Date(), \"EEEE d 'de' MMMM\", { locale: es })}\n              </Card.Title>\n            </Card.Header>\n            <Card.Content>\n              <div className=\"space-y-6\">\n                {/* Monthly Billing */}\n                {monthlyBillingProviders.length > 0 && (\n                  <div>\n                    <h3 className=\"font-medium text-gray-900 mb-2\">Facturas:</h3>\n                    <ul className=\"space-y-2\">\n                      {monthlyBillingProviders.map(provider => (\n                        <li key={provider.id} className=\"bg-amber-50 p-3 rounded-lg\">\n                          <div className=\"flex items-center justify-between\">\n                            <div>\n                              <span className=\"font-medium text-amber-900\">{provider.commercialName}</span>\n                              {provider.legalName && provider.legalName !== provider.commercialName && (\n                                <span className=\"text-sm text-amber-700 block\">\n                                  {provider.legalName}\n                                </span>\n                              )}\n                            </div>\n                          </div>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n\n                {/* Pedidos */}\n                <div>\n                  <h3 className=\"font-medium text-gray-900 mb-2\">Pedidos:</h3>\n                  {Object.keys(ordersByProvider).length > 0 ? (\n                    <ul className=\"space-y-2\">\n                      {Object.entries(ordersByProvider).map(([providerId, providerOrders]) => {\n                        const provider = providers.find(p => p.id === providerId);\n                        if (!provider) return null;\n\n                        const totalAmount = providerOrders.reduce((sum, order) => sum + order.total, 0);\n                        const totalItems = providerOrders.reduce((sum, order) => sum + order.items.length, 0);\n                        const totalUnits = providerOrders.reduce((sum, order) => \n                          sum + order.items.reduce((itemSum, item) => itemSum + item.quantity, 0), \n                        0);\n\n                        return (\n                          <li key={providerId} className=\"bg-blue-50 p-3 rounded-lg\">\n                            <div className=\"flex items-center justify-between\">\n                              <div>\n                                <span className=\"font-medium text-blue-900\">{provider.commercialName}</span>\n                                {provider.legalName && provider.legalName !== provider.commercialName && (\n                                  <span className=\"text-sm text-blue-700 block\">\n                                    {provider.legalName}\n                                  </span>\n                                )}\n                                <div className=\"text-sm text-blue-600\">\n                                  <span>\n                                    {providerOrders.length} {providerOrders.length === 1 ? 'pedido' : 'pedidos'}\n                                  </span>\n                                  <span className=\"mx-1\">•</span>\n                                  <span>\n                                    {totalItems} {totalItems === 1 ? 'producto' : 'productos'}\n                                  </span>\n                                  <span className=\"mx-1\">•</span>\n                                  <span>\n                                    {totalUnits} {totalUnits === 1 ? 'unidad' : 'unidades'}\n                                  </span>\n                                </div>\n                              </div>\n                              <div className=\"text-right\">\n                                <span className=\"font-medium text-blue-900\">\n                                  {formatPrice(totalAmount)}\n                                </span>\n                              </div>\n                            </div>\n\n                            {/* Show delivery info if provider has delivery today */}\n                            {provider.deliveryDays?.includes(today) && (\n                              <div className=\"mt-2 pt-2 border-t border-blue-200\">\n                                <div className=\"text-sm text-blue-700\">\n                                  <span className=\"font-medium\">Entrega programada para hoy</span>\n                                </div>\n                              </div>\n                            )}\n                          </li>\n                        );\n                      })}\n                    </ul>\n                  ) : (\n                    <p className=\"text-gray-500\">No hay pedidos realizados hoy</p>\n                  )}\n                </div>\n              </div>\n            </Card.Content>\n          </Card>\n\n          {/* Weekly Schedule */}\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n            {WEEKDAYS.map(({ day, label }) => {\n              // Get billing providers for this weekday\n              const weekdayNumber = WEEKDAY_TO_NUMBER[day];\n              const billingProviders = providers.filter(p => \n                p.billingType === 'monthly' && \n                p.billingDays?.includes(currentDay) && \n                weekdayNumber === currentWeekday\n              );\n\n              const orderProviders = providers.filter(p => p.orderDays?.includes(day));\n              const deliveryProviders = providers.filter(p => p.deliveryDays?.includes(day));\n\n              return (\n                <Card key={day}>\n                  <Card.Header>\n                    <Card.Title className={day === today ? 'text-blue-600' : ''}>\n                      {label}\n                    </Card.Title>\n                  </Card.Header>\n                  <Card.Content>\n                    <div className=\"space-y-4\">\n                      {/* Monthly Billing */}\n                      {billingProviders.length > 0 && (\n                        <div>\n                          <div className=\"flex items-center gap-2 mb-3\">\n                            <div className=\"p-1.5 bg-amber-100 rounded-md\">\n                              <FileText className=\"w-4 h-4 text-amber-600\" />\n                            </div>\n                            <h4 className=\"text-sm font-medium text-amber-900\">\n                              Facturas\n                            </h4>\n                          </div>\n                          <ul className=\"space-y-2\">\n                            {billingProviders.map(provider => (\n                              <li \n                                key={provider.id} \n                                className=\"bg-amber-50 px-3 py-2 rounded-md border border-amber-100 hover:bg-amber-100 transition-colors\"\n                              >\n                                <div className=\"font-medium text-amber-900\">\n                                  {provider.commercialName}\n                                </div>\n                                {provider.legalName && provider.legalName !== provider.commercialName && (\n                                  <div className=\"text-sm text-amber-700 mt-0.5\">\n                                    {provider.legalName}\n                                  </div>\n                                )}\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n\n                      {/* Pedidos */}\n                      <div>\n                        <div className=\"flex items-center gap-2 mb-3\">\n                          <div className=\"p-1.5 bg-blue-100 rounded-md\">\n                            <ShoppingCart className=\"w-4 h-4 text-blue-600\" />\n                          </div>\n                          <h4 className=\"text-sm font-medium text-blue-900\">\n                            Pedidos\n                          </h4>\n                        </div>\n                        {orderProviders.length > 0 ? (\n                          <ul className=\"space-y-2\">\n                            {orderProviders.map(provider => (\n                              <li \n                                key={provider.id} \n                                className=\"bg-blue-50 px-3 py-2 rounded-md border border-blue-100 hover:bg-blue-100 transition-colors\"\n                              >\n                                <div className=\"font-medium text-blue-900\">\n                                  {provider.commercialName}\n                                </div>\n                                {provider.legalName && provider.legalName !== provider.commercialName && (\n                                  <div className=\"text-sm text-blue-700 mt-0.5\">\n                                    {provider.legalName}\n                                  </div>\n                                )}\n                              </li>\n                            ))}\n                          </ul>\n                        ) : (\n                          <p className=\"text-sm text-gray-500 bg-gray-50 px-3 py-2 rounded-md border border-gray-100\">\n                            No hay pedidos programados\n                          </p>\n                        )}\n                      </div>\n\n                      {/* Entregas */}\n                      <div>\n                        <div className=\"flex items-center gap-2 mb-3\">\n                          <div className=\"p-1.5 bg-green-100 rounded-md\">\n                            <Truck className=\"w-4 h-4 text-green-600\" />\n                          </div>\n                          <h4 className=\"text-sm font-medium text-green-900\">\n                            Entregas\n                          </h4>\n                        </div>\n                        {deliveryProviders.length > 0 ? (\n                          <ul className=\"space-y-2\">\n                            {deliveryProviders.map(provider => (\n                              <li \n                                key={provider.id} \n                                className=\"bg-green-50 px-3 py-2 rounded-md border border-green-100 hover:bg-green-100 transition-colors\"\n                              >\n                                <div className=\"font-medium text-green-900\">\n                                  {provider.commercialName}\n                                </div>\n                                {provider.legalName && provider.legalName !== provider.commercialName && (\n                                  <div className=\"text-sm text-green-700 mt-0.5\">\n                                    {provider.legalName}\n                                  </div>\n                                )}\n                              </li>\n                            ))}\n                          </ul>\n                        ) : (\n                          <p className=\"text-sm text-gray-500 bg-gray-50 px-3 py-2 rounded-md border border-gray-100\">\n                            No hay entregas programadas\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </Card.Content>\n                </Card>\n              );\n            })}\n          </div>\n        </>\n      )}\n\n      {/* Day Details Modal */}\n      {selectedDate && selectedEvents && (\n        <DayDetailsModal\n          isOpen={true}\n          onClose={() => {\n            setSelectedDate(null);\n            setSelectedEvents(null);\n          }}\n          date={selectedDate}\n          events={selectedEvents}\n        />\n      )}\n    </div>\n  );\n}","// Client-side stock check service\nexport async function authenticateZureo(): Promise<boolean> {\n  try {\n    const response = await fetch('https://scraper-production-9c05.up.railway.app/auth');\n    if (!response.ok) {\n      throw new Error('Error de autenticación');\n    }\n    return true;\n  } catch (error) {\n    console.error('Authentication error:', error);\n    return false;\n  }\n}\n\nexport async function getZureoStock(articleCode: string): Promise<number | null> {\n  try {\n    // Validate article code\n    if (!articleCode?.trim()) {\n      throw new Error('Código de artículo inválido');\n    }\n\n    const response = await fetch(`https://scraper-production-9c05.up.railway.app/stock/${articleCode}`, {\n      // Add headers to help with error handling\n      headers: {\n        'Accept': 'application/json'\n      }\n    });\n    \n    if (!response.ok) {\n      let errorMessage = 'Error desconocido';\n      \n      try {\n        const contentType = response.headers.get('content-type');\n        if (contentType?.includes('application/json')) {\n          const errorData = await response.json();\n          errorMessage = errorData.error || 'Error desconocido';\n        } else {\n          const textError = await response.text();\n          errorMessage = textError || response.statusText || 'Error desconocido';\n        }\n      } catch (parseError) {\n        console.error('Error parsing error response:', parseError);\n        errorMessage = response.statusText || 'Error de comunicación con el servidor';\n      }\n\n      // Handle specific status codes\n      switch (response.status) {\n        case 404:\n          throw new Error(`No se encontró el artículo ${articleCode}`);\n        case 500:\n          throw new Error('El servidor no está disponible en este momento. Por favor, intente más tarde');\n        case 502:\n        case 503:\n        case 504:\n          throw new Error('Servicio temporalmente no disponible. Por favor, intente más tarde');\n        case 401:\n        case 403:\n          throw new Error('Sesión expirada. Por favor, autentíquese nuevamente');\n        default:\n          throw new Error(`Error al consultar el stock: ${errorMessage}`);\n      }\n    }\n\n    let data;\n    try {\n      data = await response.json();\n    } catch (parseError) {\n      console.error('Error parsing success response:', parseError);\n      throw new Error('Error al procesar la respuesta del servidor');\n    }\n    \n    // Validate response structure\n    if (!data || typeof data !== 'object') {\n      throw new Error('Respuesta inválida del servidor');\n    }\n\n    if (!('stock' in data)) {\n      throw new Error('La respuesta no contiene información de stock');\n    }\n\n    const stock = Number(data.stock);\n    if (isNaN(stock)) {\n      throw new Error('El valor de stock no es un número válido');\n    }\n\n    return stock;\n  } catch (error) {\n    // Create a structured error object with fallbacks for empty errors\n    const errorInfo = {\n      articleCode,\n      error: error instanceof Error ? error.message : 'Error desconocido',\n      timestamp: new Date().toISOString(),\n      type: error instanceof Error ? error.name : 'UnknownError',\n      details: error || 'No additional error details available',\n      stack: error instanceof Error ? error.stack : undefined\n    };\n    \n    // Log the complete error information\n    console.error('Error checking stock:', errorInfo);\n    \n    // Re-throw with a guaranteed message\n    if (error instanceof Error) {\n      throw error;\n    } else {\n      throw new Error('Error inesperado al consultar el stock');\n    }\n  }\n}","import React, { useState } from 'react';\nimport { Button } from '@/components/ui/Button';\nimport { Input } from '@/components/ui/Input';\nimport { RefreshCw, Check, X } from 'lucide-react';\nimport { getZureoStock } from '@/lib/services/zureo/stockCheck';\nimport { toast } from 'react-hot-toast';\n\ninterface StockControlProps {\n  productId: string;\n  sku: string;\n  currentStock: number;\n  onStockUpdate: (newStock: number) => Promise<void>;\n  isEnabled: boolean;\n}\n\nexport function StockControl({ \n  productId, \n  sku, \n  currentStock, \n  onStockUpdate,\n  isEnabled\n}: StockControlProps) {\n  const [isChecking, setIsChecking] = useState(false);\n  const [zureoStock, setZureoStock] = useState<number | null>(null);\n  const [manualStock, setManualStock] = useState<string>('');\n  const [showInput, setShowInput] = useState(false);\n\n  const handleCheckStock = async () => {\n    if (!sku) {\n      toast.error('Este producto no tiene SKU definido');\n      return;\n    }\n\n    if (!isEnabled) {\n      toast.error('Debe autenticarse primero');\n      return;\n    }\n\n    setIsChecking(true);\n    const loadingToast = toast.loading('Consultando stock en Zureo...');\n\n    try {\n      const stock = await getZureoStock(sku);\n      toast.dismiss(loadingToast);\n\n      if (stock === null) {\n        toast.error('No se pudo obtener el stock del artículo');\n        return;\n      }\n\n      setZureoStock(stock);\n      setManualStock(stock.toString());\n      setShowInput(true);\n      \n      toast.success(`Stock consultado: ${stock}`);\n    } catch (error) {\n      toast.dismiss(loadingToast);\n      \n      let errorMessage = 'Error al consultar stock en Zureo';\n      \n      if (error instanceof Error) {\n        if (error.message.includes('Sesión expirada')) {\n          errorMessage = 'Sesión expirada. Por favor, autentíquese nuevamente';\n        } else if (error.message.includes('servidor no está disponible') || \n                  error.message.includes('temporalmente no disponible')) {\n          errorMessage = 'El servicio no está disponible. Por favor, intente más tarde';\n        } else if (error.message.includes('No se encontró')) {\n          errorMessage = `No se encontró el artículo ${sku}`;\n        } else if (error.message.includes('Error al procesar')) {\n          errorMessage = 'Error de comunicación con el servidor';\n        } else {\n          errorMessage = error.message;\n        }\n      }\n      \n      toast.error(errorMessage);\n      console.error('Error checking stock:', {\n        sku,\n        error: error instanceof Error ? error.message : 'Unknown error',\n        timestamp: new Date().toISOString()\n      });\n    } finally {\n      setIsChecking(false);\n    }\n  };\n\n  const handleConfirmStock = async () => {\n    try {\n      const newStock = parseInt(manualStock);\n      if (isNaN(newStock) || newStock < 0) {\n        toast.error('Ingrese un valor válido');\n        return;\n      }\n\n      await onStockUpdate(newStock);\n      toast.success('Stock actualizado exitosamente');\n      \n      setZureoStock(null);\n      setManualStock('');\n      setShowInput(false);\n    } catch (error) {\n      toast.error('Error al actualizar el stock');\n      console.error('Error updating stock:', error);\n    }\n  };\n\n  const handleCancel = () => {\n    setZureoStock(null);\n    setManualStock('');\n    setShowInput(false);\n  };\n\n  return (\n    <div className=\"space-y-3\">\n      {showInput && (\n        <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-2\">\n          <Input\n            type=\"number\"\n            min=\"0\"\n            value={manualStock}\n            onChange={(e) => setManualStock(e.target.value)}\n            placeholder=\"Ingrese cantidad\"\n            className=\"text-center flex-1\"\n          />\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleConfirmStock}\n              className=\"flex-1 sm:flex-none text-green-600 hover:text-green-700 hover:bg-green-50\"\n              title=\"Confirmar\"\n            >\n              <Check className=\"w-5 h-5\" />\n              <span className=\"sm:hidden ml-2\">Confirmar</span>\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleCancel}\n              className=\"flex-1 sm:flex-none text-red-600 hover:text-red-700 hover:bg-red-50\"\n              title=\"Cancelar\"\n            >\n              <X className=\"w-5 h-5\" />\n              <span className=\"sm:hidden ml-2\">Cancelar</span>\n            </Button>\n          </div>\n        </div>\n      )}\n\n      <Button\n        variant=\"outline\"\n        onClick={handleCheckStock}\n        disabled={isChecking || !sku || !isEnabled}\n        className=\"w-full\"\n        title={!isEnabled ? 'Debe autenticarse primero' : ''}\n      >\n        <RefreshCw className={`w-4 h-4 mr-2 ${isChecking ? 'animate-spin' : ''}`} />\n        Controlar Stock\n      </Button>\n    </div>\n  );\n}","import React from 'react';\nimport { format } from 'date-fns';\nimport { es } from 'date-fns/locale';\nimport { Printer } from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\n\ninterface StockReportProps {\n  data: {\n    sku: string;\n    names: string[];\n    currentStock: number;\n    lastStockCheck: number | null;\n    packaging: string;\n  }[];\n  maxDate: Date | null;\n  onClose: () => void;\n}\n\nexport function StockReport({ data, maxDate, onClose }: StockReportProps) {\n  const handlePrint = () => {\n    window.print();\n  };\n\n  // Filter data to show items with lastStockCheck >= maxDate\n  const filteredData = maxDate \n    ? data.filter(item => item.lastStockCheck && new Date(item.lastStockCheck) >= maxDate)\n    : data;\n\n  // Sort by last check date (most recent first)\n  const sortedData = [...filteredData].sort((a, b) => {\n    if (!a.lastStockCheck) return 1;\n    if (!b.lastStockCheck) return -1;\n    return b.lastStockCheck - a.lastStockCheck;\n  });\n\n  return (\n    <div className=\"bg-white rounded-lg border shadow-lg\">\n      {/* Header - Hidden when printing */}\n      <div className=\"sticky top-0 bg-white border-b p-4 flex items-center justify-between print:hidden\">\n        <h2 className=\"text-xl font-semibold\">Reporte de Control de Stock</h2>\n        <div className=\"flex gap-2\">\n          <Button onClick={handlePrint} className=\"gap-2\">\n            <Printer className=\"w-4 h-4\" />\n            Imprimir\n          </Button>\n          <Button variant=\"outline\" onClick={onClose}>\n            Cerrar\n          </Button>\n        </div>\n      </div>\n\n      {/* Print Header - Only shown when printing */}\n      <div className=\"hidden print:block text-center mb-6 p-4\">\n        <h1 className=\"text-2xl font-bold mb-2\">Reporte de Control de Stock</h1>\n        <p className=\"text-gray-600\">\n          {format(new Date(), \"d 'de' MMMM, yyyy\", { locale: es })}\n        </p>\n        {maxDate && (\n          <p className=\"text-sm text-gray-500 mt-1\">\n            Controles desde: {format(maxDate, \"d 'de' MMMM, yyyy\", { locale: es })}\n          </p>\n        )}\n      </div>\n\n      {/* Report Content */}\n      <div className=\"p-4\">\n        {sortedData.length > 0 ? (\n          <table className=\"w-full border-collapse\">\n            <thead>\n              <tr className=\"border-b-2 border-gray-200\">\n                <th className=\"py-2 px-4 text-left\">SKU</th>\n                <th className=\"py-2 px-4 text-left\">Producto</th>\n                <th className=\"py-2 px-4 text-right\">Stock Actual</th>\n                <th className=\"py-2 px-4 text-right\">Última Actualización</th>\n              </tr>\n            </thead>\n            <tbody>\n              {sortedData.map((item) => (\n                <tr key={item.sku} className=\"border-b border-gray-100\">\n                  <td className=\"py-2 px-4\">{item.sku}</td>\n                  <td className=\"py-2 px-4\">\n                    {item.names.map((name, index) => (\n                      <div \n                        key={index} \n                        className={item.names.length > 1 ? 'text-sm text-gray-600' : ''}\n                      >\n                        {name}\n                      </div>\n                    ))}\n                  </td>\n                  <td className=\"py-2 px-4 text-right whitespace-nowrap\">\n                    {item.currentStock} {item.packaging}\n                  </td>\n                  <td className=\"py-2 px-4 text-right whitespace-nowrap\">\n                    {item.lastStockCheck ? (\n                      format(new Date(item.lastStockCheck), \"d/MM/yyyy HH:mm\", { locale: es })\n                    ) : (\n                      <span className=\"text-amber-600\">Sin control</span>\n                    )}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        ) : (\n          <div className=\"text-center py-8 text-gray-500\">\n            No hay productos con controles de stock en el período seleccionado\n          </div>\n        )}\n\n        {/* Summary - Only shown when printing */}\n        <div className=\"hidden print:block mt-8 pt-4 border-t\">\n          <p className=\"text-sm text-gray-600\">\n            Total productos: {sortedData.length}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}","import React, { useState, useMemo } from 'react';\nimport { Package, Search, LogIn, Calendar } from 'lucide-react';\nimport { Input } from '@/components/ui/Input';\nimport { Button } from '@/components/ui/Button';\nimport { useGlobalProducts } from '@/hooks/useGlobalProducts';\nimport { StockControl } from '@/components/inventory/StockControl';\nimport { StockReport } from '@/components/inventory/StockReport';\nimport { formatPrice } from '@/lib/utils';\nimport { authenticateZureo } from '@/lib/services/zureo/stockCheck';\nimport { toast } from 'react-hot-toast';\nimport { Product } from '@/types';\n\ninterface ProductGroup {\n  sku: string;\n  products: Product[];\n  currentStock: number;\n  lastStockCheck: number | null;\n}\n\nexport function Inventory() {\n  const { products, loading, updateProduct } = useGlobalProducts();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isAuthenticating, setIsAuthenticating] = useState(false);\n  const [showReport, setShowReport] = useState(false);\n  const [maxReportDate, setMaxReportDate] = useState<Date | null>(new Date());\n\n  const handleAuthenticate = async () => {\n    setIsAuthenticating(true);\n    try {\n      const success = await authenticateZureo();\n      setIsAuthenticated(success);\n      if (success) {\n        toast.success('Autenticación exitosa');\n      } else {\n        toast.error('Error de autenticación');\n      }\n    } catch (error) {\n      console.error('Authentication error:', error);\n      toast.error('Error de autenticación');\n      setIsAuthenticated(false);\n    } finally {\n      setIsAuthenticating(false);\n    }\n  };\n\n  // Group products by SKU\n  const productGroups = useMemo(() => {\n    const productsWithSku = products.filter(p => p.sku?.trim());\n\n    const groups = productsWithSku.reduce((acc, product) => {\n      const sku = product.sku.trim().toUpperCase();\n      if (!acc[sku]) {\n        acc[sku] = {\n          sku,\n          products: [],\n          currentStock: product.currentStock || 0,\n          lastStockCheck: product.lastStockCheck || null\n        };\n      }\n      acc[sku].products.push(product);\n      if (product.lastStockCheck && (!acc[sku].lastStockCheck || product.lastStockCheck > acc[sku].lastStockCheck)) {\n        acc[sku].currentStock = product.currentStock || 0;\n        acc[sku].lastStockCheck = product.lastStockCheck;\n      }\n      return acc;\n    }, {} as Record<string, ProductGroup>);\n\n    return Object.values(groups)\n      .filter(group => \n        !searchTerm || \n        group.sku.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        group.products.some(p => \n          p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          p.tags?.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))\n        )\n      )\n      .sort((a, b) => {\n        if (!a.lastStockCheck && !b.lastStockCheck) return 0;\n        if (!a.lastStockCheck) return -1;\n        if (!b.lastStockCheck) return 1;\n        return a.lastStockCheck - b.lastStockCheck;\n      });\n  }, [products, searchTerm]);\n\n  const handleStockUpdate = async (sku: string, newStock: number) => {\n    try {\n      const updates = productGroups\n        .find(g => g.sku === sku)\n        ?.products.map(product => \n          updateProduct(product.id!, {\n            currentStock: newStock,\n            lastStockCheck: Date.now()\n          })\n        ) || [];\n\n      await Promise.all(updates);\n    } catch (error) {\n      console.error('Error updating stock:', error);\n      throw error;\n    }\n  };\n\n  const handleShowReport = () => {\n    setShowReport(true);\n  };\n\n  // Prepare report data\n  const reportData = productGroups.map(group => ({\n    sku: group.sku,\n    names: group.products.map(p => p.name),\n    currentStock: group.currentStock,\n    lastStockCheck: group.lastStockCheck,\n    packaging: group.products[0].salePackaging || group.products[0].purchasePackaging\n  }));\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col gap-4\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Control de Inventario</h1>\n          <div className=\"grid grid-cols-2 sm:flex gap-2 w-full sm:w-auto\">\n            <Button\n              onClick={handleShowReport}\n              variant=\"outline\"\n              className=\"w-full sm:w-auto gap-2\"\n            >\n              <Calendar className=\"w-4 h-4\" />\n              <span className=\"whitespace-nowrap\">Ver Reporte</span>\n            </Button>\n            <Button\n              onClick={handleAuthenticate}\n              isLoading={isAuthenticating}\n              variant={isAuthenticated ? \"outline\" : \"default\"}\n              className=\"w-full sm:w-auto gap-2\"\n            >\n              <LogIn className=\"w-4 h-4\" />\n              <span className=\"whitespace-nowrap\">\n                {isAuthenticated ? 'Autenticado' : 'Autenticar'}\n              </span>\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Search */}\n      {!showReport && (\n        <div className=\"relative\">\n          <Input\n            placeholder=\"Buscar productos...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\n        </div>\n      )}\n\n      {/* Products Grid or Report */}\n      {showReport ? (\n        <>\n          <div className=\"bg-blue-50 p-4 rounded-lg\">\n            <div className=\"w-full sm:max-w-xs\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Mostrar controles desde:\n              </label>\n              <input\n                type=\"date\"\n                value={maxReportDate ? maxReportDate.toISOString().split('T')[0] : ''}\n                onChange={(e) => setMaxReportDate(e.target.value ? new Date(e.target.value) : null)}\n                className=\"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n          <StockReport\n            data={reportData}\n            maxDate={maxReportDate}\n            onClose={() => setShowReport(false)}\n          />\n        </>\n      ) : loading ? (\n        <div className=\"flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n        </div>\n      ) : (\n        <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n          {productGroups.map((group) => {\n            const daysSinceCheck = group.lastStockCheck\n              ? Math.floor((Date.now() - group.lastStockCheck) / (1000 * 60 * 60 * 24))\n              : null;\n\n            return (\n              <div\n                key={group.sku}\n                className={`bg-white p-4 rounded-lg border shadow-sm space-y-4 ${\n                  !group.lastStockCheck ? 'border-amber-300 bg-amber-50' :\n                  daysSinceCheck && daysSinceCheck > 30 ? 'border-yellow-200 bg-yellow-50' :\n                  ''\n                }`}\n              >\n                <div>\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <h3 className=\"font-medium text-gray-900\">SKU: {group.sku}</h3>\n                    <span className=\"text-sm text-gray-500\">\n                      {group.products.length} {group.products.length === 1 ? 'producto' : 'productos'}\n                    </span>\n                  </div>\n                  \n                  <div className=\"space-y-1 mb-2\">\n                    {group.products.map((product) => (\n                      <p \n                        key={product.id} \n                        className={`text-sm ${\n                          group.products.length > 1 \n                            ? 'text-xs leading-tight' \n                            : 'text-base'\n                        } text-gray-600`}\n                      >\n                        {product.name}\n                      </p>\n                    ))}\n                  </div>\n\n                  {group.products[0].tags?.length > 0 && (\n                    <div className=\"flex flex-wrap gap-1 mt-1\">\n                      {group.products[0].tags.map((tag) => (\n                        <span\n                          key={tag}\n                          className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800\"\n                        >\n                          {tag}\n                        </span>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div>\n                    <span className=\"text-gray-500\">Stock Actual:</span>\n                    <p className=\"font-medium text-gray-900\">\n                      {group.currentStock} {group.products[0].salePackaging || group.products[0].purchasePackaging}\n                    </p>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-500\">Último Control:</span>\n                    <p className={`font-medium ${\n                      !group.lastStockCheck ? 'text-amber-700' :\n                      daysSinceCheck && daysSinceCheck > 30 ? 'text-yellow-700' :\n                      'text-gray-900'\n                    }`}>\n                      {group.lastStockCheck ? (\n                        <>\n                          {new Date(group.lastStockCheck).toLocaleDateString()}\n                          <span className=\"block text-xs text-gray-500\">\n                            Hace {daysSinceCheck} días\n                          </span>\n                        </>\n                      ) : (\n                        'Nunca'\n                      )}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"pt-2 border-t\">\n                  <StockControl\n                    productId={group.products[0].id!}\n                    sku={group.sku}\n                    currentStock={group.currentStock}\n                    onStockUpdate={(newStock) => handleStockUpdate(group.sku, newStock)}\n                    isEnabled={isAuthenticated}\n                  />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}","import React from 'react';\nimport { HashRouter as Router, Routes, Route } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { ProtectedRoute } from './components/ProtectedRoute';\nimport { Layout } from './components/Layout';\nimport { Login } from './pages/Login';\nimport { Dashboard } from './pages/Dashboard';\nimport { Providers } from './pages/Providers';\nimport { Products } from './pages/Products';\nimport { Recipes } from './pages/Recipes';\nimport { Orders } from './pages/Orders';\nimport { Schedule } from './pages/Schedule';\nimport { Inventory } from './pages/Inventory';\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <Toaster position=\"top-right\" />\n        <Routes>\n          <Route path=\"/login\" element={<Login />} />\n          <Route element={<ProtectedRoute />}>\n            <Route element={<Layout />}>\n              <Route path=\"/\" element={<Dashboard />} />\n              <Route path=\"/providers\" element={<Providers />} />\n              <Route path=\"/products\" element={<Products />} />\n              <Route path=\"/recipes\" element={<Recipes />} />\n              <Route path=\"/orders\" element={<Orders />} />\n              <Route path=\"/schedule\" element={<Schedule />} />\n              <Route path=\"/inventory\" element={<Inventory />} />\n            </Route>\n          </Route>\n        </Routes>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;","import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport 'reflect-metadata'; // Add this import\nimport App from './App';\nimport './index.css';\n\n// Initialize Firebase before rendering\nimport './lib/firebase';\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);"],"names":["m","require$$0","createRoot","Reflect","factory","root","global","sloppyModeThis","exporter","makeExporter","target","previous","key","value","functionThis","indirectEvalThis","hasOwn","supportsSymbol","toPrimitiveSymbol","iteratorSymbol","supportsCreate","supportsProto","downLevel","HashMap","MakeDictionary","map","functionPrototype","_Map","CreateMapPolyfill","_Set","CreateSetPolyfill","_WeakMap","CreateWeakMapPolyfill","registrySymbol","metadataRegistry","GetOrCreateMetadataRegistry","metadataProvider","CreateMetadataProvider","decorate","decorators","propertyKey","attributes","IsUndefined","IsArray","IsConstructor","DecorateConstructor","IsObject","IsNull","ToPropertyKey","DecorateProperty","metadata","metadataKey","metadataValue","decorator","IsPropertyKey","OrdinaryDefineOwnMetadata","defineMetadata","hasMetadata","OrdinaryHasMetadata","hasOwnMetadata","OrdinaryHasOwnMetadata","getMetadata","OrdinaryGetMetadata","getOwnMetadata","OrdinaryGetOwnMetadata","getMetadataKeys","OrdinaryMetadataKeys","getOwnMetadataKeys","OrdinaryOwnMetadataKeys","deleteMetadata","provider","GetMetadataProvider","i","decorated","descriptor","MetadataKey","O","P","parent","OrdinaryGetPrototypeOf","ToBoolean","MetadataValue","ownKeys","parentKeys","set","keys","_i","ownKeys_1","hasKey","_a","parentKeys_1","Type","IsSymbol","ToPrimitive","input","PreferredType","hint","exoticToPrim","GetMethod","result","OrdinaryToPrimitive","valueOf","toString_1","IsCallable","argument","ToString","SameValueZero","y","V","func","GetIterator","obj","method","iterator","IteratorValue","iterResult","IteratorStep","IteratorClose","f","proto","prototype","prototypeProto","constructor","CreateMetadataRegistry","fallback","CreateFallbackProvider","first","second","rest","targetProviderMap","registry","registerProvider","getProvider","setProvider","getProviderNoCache","next","providerMap","hasProvider","existingProvider","targetMetadata","OrdinaryDeleteMetadata","GetOrCreateMetadataMap","Create","createdTargetMetadata","metadataMap","keysObj","k","nextValue","e","reflect","metadataOwner","metadataPropertySet","registeredProvider","cacheSentinel","arraySentinel","MapIterator","values","selector","index","error","Map","size","getKey","getValue","getEntry","insert","_","Set","UUID_SIZE","rootKey","CreateUniqueKey","WeakMap","table","GetOrCreateWeakMapTable","CreateUUID","create","FillRandomBytes","buffer","GenRandomBytes","array","data","offset","byte","REQUIRED_ENV_VARS","DEMO_CONFIG","validateConfig","missingVars","__vite_import_meta_env__","getDemoConfig","validation","config","app","initializeApp","isDemoMode","auth","getAuth","signIn","email","password","signInWithEmailAndPassword","signOut","firebaseSignOut","db","getDatabase","AuthContext","createContext","AuthProvider","children","user","setUser","useState","loading","setLoading","authError","setAuthError","useEffect","onAuthStateChanged","handleSignIn","toast","handleSignOut","jsxs","jsx","useAuth","context","useContext","ProtectedRoute","Outlet","Navigate","toDate","argStr","constructFrom","date","addDays","amount","_date","millisecondsInWeek","millisecondsInDay","defaultOptions","getDefaultOptions","startOfWeek","options","weekStartsOn","_b","_d","_c","day","diff","startOfISOWeek","getISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfDay","getTimezoneOffsetInMilliseconds","utcDate","differenceInCalendarDays","dateLeft","dateRight","startOfDayLeft","startOfDayRight","timestampLeft","timestampRight","startOfISOWeekYear","fourthOfJanuary","addWeeks","days","constructNow","isSameDay","dateLeftStartOfDay","dateRightStartOfDay","isDate","isValid","endOfDay","endOfMonth","month","eachDayOfInterval","interval","startDate","endDate","reversed","endTime","currentDate","step","dates","eachWeekOfInterval","startDateWeek","endDateWeek","startOfMonth","startOfYear","cleanDate","endOfWeek","formatDistanceLocale","formatDistance","token","count","tokenValue","buildFormatLongFn","args","width","dateFormats","timeFormats","dateTimeFormats","formatLong","formatRelativeLocale","formatRelative","_baseDate","_options","buildLocalizeFn","valuesArray","defaultWidth","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","number","rem100","localize","quarter","buildMatchFn","string","matchPattern","matchResult","matchedString","parsePatterns","findIndex","pattern","findKey","object","predicate","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","enUS","getDayOfYear","getISOWeek","getWeekYear","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfWeekYear","firstWeek","getWeek","addLeadingZeros","targetLength","sign","output","lightFormatters","signedYear","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","dayPeriodEnum","formatters","era","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","timestamp","delimiter","absOffset","minutes","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","dayOfYearTokenRE","weekYearTokenRE","throwTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","warnOrThrowProtectedError","format","_message","message","subject","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","formatStr","locale","defaultLocale","_f","_e","_h","_g","originalDate","parts","substring","firstCharacter","longFormatter","cleanEscapedString","formatterOptions","part","formatter","matched","isSameMonth","_dateLeft","_dateRight","isToday","formatRelativeLocalePlural","es","formatPrice","price","formatPhoneNumber","phone","cleaned","validatePhoneNumber","generateWhatsAppLink","r","t","o","clsx","CLASS_PART_SEPARATOR","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","className","classParts","getGroupRecursive","getGroupIdForArbitraryProperty","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","classGroupFromNextClassPart","classRest","validator","arbitraryPropertyRegex","arbitraryPropertyClassName","property","theme","prefix","getPrefixedClassGroupEntries","classGroup","processClassesRecursively","classDefinition","classPartObjectToEdit","getPart","isThemeGetter","path","currentClassPartObject","pathPart","classGroupEntries","prefixedClassGroup","createLruCache","maxCacheSize","cacheSize","cache","previousCache","update","IMPORTANT_MODIFIER","createParseClassName","separator","experimentalParseClassName","isSeparatorSingleCharacter","firstSeparatorCharacter","separatorLength","parseClassName","modifiers","bracketDepth","modifierStart","postfixModifierPosition","currentCharacter","baseClassNameWithImportantModifier","hasImportantModifier","baseClassName","maybePostfixModifierPosition","sortModifiers","sortedModifiers","unsortedModifiers","modifier","createConfigUtils","SPLIT_CLASSES_REGEX","mergeClassList","classList","configUtils","getClassGroupId","getConflictingClassGroupIds","classGroupsInConflict","classNames","originalClassName","variantModifier","modifierId","classId","conflictGroups","group","twJoin","resolvedValue","toValue","mix","createTailwindMerge","createConfigFirst","createConfigRest","cacheGet","cacheSet","functionToCall","initTailwindMerge","previousConfig","createConfigCurrent","tailwindMerge","cachedResult","fromTheme","themeGetter","arbitraryValueRegex","fractionRegex","stringLengths","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isLength","isNumber","isArbitraryLength","getIsArbitraryValue","isLengthOnly","isArbitraryNumber","isInteger","isPercent","isArbitraryValue","isTshirtSize","sizeLabels","isArbitrarySize","isNever","isArbitraryPosition","imageLabels","isArbitraryImage","isImage","isArbitraryShadow","isShadow","isAny","label","testValue","getDefaultConfig","colors","spacing","blur","brightness","borderColor","borderRadius","borderSpacing","borderWidth","contrast","grayscale","hueRotate","invert","gap","gradientColorStops","gradientColorStopPositions","inset","margin","opacity","padding","saturate","scale","sepia","skew","space","translate","getOverscroll","getOverflow","getSpacingWithAutoAndArbitrary","getSpacingWithArbitrary","getLengthWithEmptyAndArbitrary","getNumberWithAutoAndArbitrary","getPositions","getLineStyles","getBlendModes","getAlign","getZeroAndEmpty","getBreaks","getNumberAndArbitrary","twMerge","mergeClasses","inputs","SECTORS","BUSINESS_INFO","getSectorFromOrder","order","orderStr","sectorIndex","getSequenceFromOrder","formatOrderNumber","sector","sequence","navigation","LayoutDashboard","Users","Package","ChefHat","ShoppingCart","Calendar","ClipboardCheck","TopNav","isMenuOpen","setIsMenuOpen","X","Menu","item","NavLink","isActive","cn","LogOut","Layout","Button","variant","isLoading","props","baseStyles","variants","sizes","Input","React","type","onChange","isCurrency","ref","displayValue","setDisplayValue","isEditing","setIsEditing","formatNumber","num","handleChange","numericValue","handleFocus","numValue","handleBlur","inputValue","Login","setEmail","setPassword","setError","handleSubmit","Mail","Lock","die","_len","_key","mockGlobal","getGlobal","assign","getDescriptor","defineProperty","objectPrototype","EMPTY_ARRAY","EMPTY_OBJECT","hasProxy","plainObjectString","assertProxies","once","invoked","noop","isFunction","fn","isStringish","isObject","isPlainObject","protoConstructor","isGenerator","addHiddenProp","propName","addHiddenFinalProp","createInstanceofPredicate","name","theClass","x","isES6Map","thing","isPlainES6Map","mapProto","objectProto","nullProto","isES6Set","hasGetOwnPropertySymbols","getPlainObjectKeys","symbols","s","toPrimitive","hasProp","prop","getOwnPropertyDescriptors","res","getFlag","flags","mask","setFlag","newValue","_arrayLikeToArray","a","_defineProperties","_toPropertyKey","_createClass","_createForOfIteratorHelperLoose","_unsupportedIterableToArray","_extends","n","_inheritsLoose","_setPrototypeOf","_toPrimitive","storedAnnotationsSymbol","createDecoratorAnnotation","annotation","is20223Decorator","storeAnnotation","isOverride","collectStoredAnnotations","$mobx","Atom","name_","IDerivationState_","_proto","listener","reportObserved","startBatch","propagateChanged","endBatch","isAtom","createAtom","onBecomeObservedHandler","onBecomeUnobservedHandler","atom","onBecomeObserved","onBecomeUnobserved","identityComparer","b","structuralComparer","deepEqual","shallowComparer","defaultComparer","comparer","deepEnhancer","v","isObservable","observable","isAction","isFlow","flow","autoAction","shallowEnhancer","isObservableObject","isObservableArray","isObservableMap","isObservableSet","referenceEnhancer","refStructEnhancer","oldValue","OVERRIDE","createActionAnnotation","make_$1","extend_$1","decorate_20223_$1","adm","source","_this$options_","actionDescriptor","createActionDescriptor","proxyTrap","mthd","kind","addInitializer","ann","_createAction","_ann$options_$name","_ann$options_","_ann$options_$autoAct","_ann$options_2","createAction","initMthd","_ann$options_3","_this$options_2","self","bound","assertActionDescriptor","_ref","_ref2","safeDescriptors","_annotation$options_","_annotation$options_$","_annotation$options_2","_annotation$options_$2","_annotation$options_3","_annotation$options_4","_adm$proxy_2","globalState","_adm$proxy_","createFlowAnnotation","make_$2","extend_$2","decorate_20223_$2","flowDescriptor","createFlowDescriptor","_this$options_3","assertFlowDescriptor","createComputedAnnotation","make_$3","extend_$3","decorate_20223_$3","assertComputedDescriptor","get","asObservableObject","ComputedValue","createObservableAnnotation","make_$4","extend_$4","decorate_20223_$4","_this$options_$enhanc","assertObservableDescriptor","desc","initializedObjects","initializeObservable","_ann$options_$enhance","ObservableValue","AUTO","autoAnnotation","createAutoAnnotation","make_$5","extend_$5","decorate_20223_$5","_this$options_4","computed","flowAnnotation","actionAnnotation","observableAnnotation","_this$options_5","_this$options_6","OBSERVABLE","OBSERVABLE_REF","OBSERVABLE_SHALLOW","OBSERVABLE_STRUCT","defaultCreateObservableOptions","asCreateObservableOptions","observableRefAnnotation","observableShallowAnnotation","observableStructAnnotation","observableDecoratorAnnotation","getEnhancerFromOptions","getEnhancerFromAnnotation","getAnnotationFromOptions","_options$defaultDecor","createObservable","arg2","arg3","observableFactories","initialValues","createLegacyArray","createObservableArray","ObservableMap","ObservableSet","initObservable","extendObservable","asDynamicObservableObject","COMPUTED","COMPUTED_STRUCT","computedAnnotation","computedStructAnnotation","arg1","opts","_getDescriptor$config","_getDescriptor","currentActionId","nextActionId","isFunctionNameConfigurable","tmpNameDescriptor","actionName","executeAction","canRunAsDerivation","scope","runInfo","_startAction","err","_endAction","notifySpy_","startTime_","prevDerivation_","runAsAction","prevAllowStateChanges_","untrackedStart","allowStateChangesStart","prevAllowStateReads_","allowStateReadsStart","allowStateChangesEnd","allowStateReadsEnd","untrackedEnd","allowStateChanges","prev","_Atom","enhancer","notifySpy","equals","_this","hasInterceptors","change","interceptChange","UPDATE","hasListeners","notifyListeners","handler","registerInterceptor","fireImmediately","registerListener","CaughtException","TraceMode","propagateMaybeChanged","shouldCompute","prevTrackingContext","propagateChangeConfirmed","isCaughtException","wasSuspended","changed","track","trackDerivedFunction","clearObserving","firstTime","prevValue","autorun","prevU","isComputedValue","cause","derivation","prevAllowStateReads","prevUntracked","obs","l","changeDependenciesStateTo0","prevTracking","bindDependencies","prevObserving","observing","lowestNewObservingDerivationState","i0","dep","_dep","removeObserver","_dep2","addObserver","untracked","action","allowStateReads","MobXGlobals","canMergeGlobalState","isolateCalled","isolateGlobalState","node","queueForUnobservation","runReactions","list","d","Reaction","onInvalidate_","errorHandler_","requiresObservable_","prevReaction","abortSignal","_this2","dispose","enterBreakPoint","MAX_REACTION_ITERATIONS","reactionScheduler","runReactionsHelper","allReactions","iterations","remainingReactions","isReaction","setReactionScheduler","baseScheduler","isSpyEnabled","spy","ACTION","ACTION_BOUND","AUTOACTION","AUTOACTION_BOUND","DEFAULT_ACTION_NAME","actionBoundAnnotation","autoActionAnnotation","autoActionBoundAnnotation","createActionFactory","runInAction","view","_opts$name","_opts","_opts2","_opts3","runSync","reaction","reactionRunner","scheduler","createSchedulerFromOptions","isScheduled","run","ON_BECOME_OBSERVED","ON_BECOME_UNOBSERVED","interceptHook","hook","getAtom","cb","listenersKey","hookListeners","NEVER","ALWAYS","OBSERVED","configure","useProxies","enforceActions","ea","properties","annotations","descriptors","getDependencyTree","nodeToDependencyTree","unique","generatorId","FlowCancellationError","flowBoundAnnotation","generator","ctx","runId","gen","rejector","pendingPromise","promise","resolve","reject","stepId","onFulfilled","ret","onRejected","cancelPromise","_res","yieldedPromise","_isObservable","transaction","thisArg","getAdm","objectProxyTraps","_getAdm$set_","_getAdm$delete_","_getAdm$definePropert","_target$$mobx","_target$$mobx$proxy_","interceptable","interceptors","idx","listenable","listeners","makeObservable","_annotations","keysSymbol","makeAutoObservable","overrides","SPLICE","MAX_SPLICE_SIZE","arrayTraps","arrayExtensions","ObservableArrayAdministration","owned_","legacyMode_","newV","oldV","newLength","currentLength","newItems","oldLength","delta","reserveArrayBuffer","deleteCount","length","lengthDelta","_this$values_","oldItems","notify","added","removed","owned","proxy","_len2","items","_key2","_len3","_key3","copy","addArrayExtension","simpleFunc","mapLikeFunc","reduceLikeFunc","funcName","funcFactory","dehancedValues","callback","element","_this3","accumulator","currentValue","isObservableArrayAdministration","ObservableMapMarker","ADD","DELETE","initialData","enhancer_","entry","newEntry","_change","_this3$hasMap_$get","_this4","_this4$hasMap_$get","makeIterableForMap","_keys$next","done","_keys$next2","_iterator","_step","_step$value","other","_this5","_this6","_iterator2","_step2","_this7","replacementMap","convertToMap","orderedData","keysReportChangedCalled","_iterator3","_step3","deleted","_iterator4","_step4","_step4$value","_value","keyExisted","_value2","iter1","iter2","next1","next2","makeIterable","dataStructure","ObservableSetMarker","callbackFn","_change2","nextIndex","makeIterableForSet","observableValues","otherSet","dehancedSet","descriptorCache","REMOVE","ObservableObjectAdministration","target_","values_","defaultAnnotation_","_this$target_$storedA","outcome","recordAnnotationApplied","deleteOutcome","cachedDescriptor","getCachedObservablePropDescriptor","_this$pendingKeys_","_this$pendingKeys_2","_options$name","isObservableObjectAdministration","_adm$target_$storedAn","ENTRY_0","safariPrototypeSetterInheritanceBug","p","OBSERVABLE_ARRAY_BUFFER_SIZE","StubArray","inherit","ctor","LegacyObservableArray","_StubArray","arrays","createArrayEntryDescriptor","createArrayBufferItem","max","getDebugName","_observable","getAdministration","named","toString","depth","eq","aStack","bStack","unwrap","areArrays","aCtor","bCtor","_getGlobal$Iterator","maybeIteratorPrototype","getSelf","g","defaultNoopBatch","observerBatching","printDebugValue","REGISTRY_FINALIZE_AFTER","REGISTRY_SWEEP_INTERVAL","TimerBasedFinalizationRegistry","finalize","maxAge","now","registration","UniversalFinalizationRegistry","observerFinalizationRegistry","is","objectIs","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","createReaction","useObserver","render","baseComponentName","admRef","adm_1","onStoreChange","useSyncExternalStore","renderResult","exception","hasSymbol","ReactForwardRefSymbol","forwardRef","ReactMemoSymbol","memo","observer","baseComponent","useForwardRef","observerComponent","copyStaticProperties","hoistBlackList","base","batch","Card","isSelected","onClick","r$1","__publicField","__privateAdd","__privateSet","__privateGet","c","u","f$1","h","j","I","w","M","N","E","D","A","x$1","_t","C","T","_n","_r","_o","S","B","q","F","$","W","G","K","H","U","L","J","Y","z","Q","Z","tt","nt","et","it","st","at","ot","ct","dt","ut","yt","ht","lt","gt","pt","ft","wt","bt","vt","mt","At","St","It","Tt","Dt","Nt","Ct","xt","Rt","Et","Mt","Bt","Pt","TYPES","ConsoleLogger","level","formattedArgs","arg","BaseError","FirebaseOrderRepository","DatabaseError","ordersRef","snapshot","id","orderRef","providerId","providerOrdersQuery","query","orderByChild","equalTo","newOrderRef","push","updates","remove","onValue","orders","validateProduct","FirebaseProductRepository","productsRef","productRef","providerProductsQuery","product","validationError","newProductRef","productData","currentProduct","updatedProduct","products","FirebaseProviderRepository","providersRef","providerRef","newProviderRef","providers","AnalyticsService","orderRepository","productRepository","providerRepository","logger","total","totalAmount","sum","stats","current","productsMap","providersMap","weekStart","weekEnd","monthStart","monthEnd","todayOrders","weekOrders","monthOrders","DashboardViewModel","analyticsService","dayName","container","Container","orderRepo","productRepo","providerRepo","useDashboardViewModel","AnalyticsCard","title","icon","Dialog","isOpen","onClose","TopProductsModal","TopProductsByTags","tagStats","expandedTag","setExpandedTag","tagStat","Tag","TagProductsCard","topTag","TrendingUp","useGlobalProducts","setProducts","unsubscribe","productsData","useProviders","setProviders","providersList","updateProduct","parseCSVLine","line","insideQuotes","char","parseCSVContent","content","normalizeHeaders","headers","header","parseCsvRows","rows","requiredHeaders","missingHeaders","headerIndexes","validateRow","row","cleanRut","cleanPrice","parsePrice","priceStr","clean","processCsvImport","newPrice","CsvImportResultsModal","searchTerm","setSearchTerm","filteredResults","useMemo","term","hasUpdates","hasErrors","CheckCircle","AlertCircle","XCircle","Search","CsvImportCard","fileInputRef","useRef","isProcessing","setIsProcessing","importResult","setImportResult","isResultsModalOpen","setIsResultsModalOpen","productsLoading","providersLoading","handleFileSelect","event","file","text","handleClick","Fragment","FileUp","Dashboard","viewModel","isTopProductsModalOpen","setIsTopProductsModalOpen","isTopProductsByTagsModalOpen","setIsTopProductsByTagsModalOpen","isRefreshing","setIsRefreshing","handleRefresh","topProduct","RefreshCw","Archive","BarChart2","WEEK_DAYS","MONTH_DAYS","ProviderForm","onSubmit","onCancel","formData","setFormData","phoneError","setPhoneError","handlePhoneChange","handleDayToggle","handleBillingDaySelect","formattedPhone","Providers","addProvider","updateProvider","deleteProvider","isFormOpen","setIsFormOpen","editingProvider","setEditingProvider","isSubmitting","setIsSubmitting","providerToDelete","setProviderToDelete","handleCloseForm","handleDelete","confirmDelete","handleEdit","handleNewProvider","dialog","Plus","Pencil","Trash2","Phone","ProviderSelector","selectedProviderId","setIsOpen","selectedProvider","containerRef","handleClickOutside","filteredProviders","handleSelect","handleClear","Building2","ChevronDown","useProducts","repository","updatedProducts","ProductCard","onEdit","onDelete","FileText","ArrowUpDown","useMediaQuery","matches","setMatches","mediaQuery","ProductCarousel","isLargeScreen","sortedProducts","GlobalProductSearch","onProductSelect","searchResults","setSearchResults","searchTermLower","results","tag","aNameMatch","bNameMatch","ProviderProductSearch","onFilter","showProductionOnly","setShowProductionOnly","sortedFiltered","productionCount","Filter","TagsInput","suggestions","setInputValue","showSuggestions","setShowSuggestions","inputRef","handleInputChange","handleKeyDown","addTag","removeTag","normalizedTag","tagToRemove","handleSuggestionClick","suggestion","filteredSuggestions","useMeasures","measures","setMeasures","measuresRef","units","measure","newMeasureRef","MeasureSelect","required","placeholder","useTags","tags","setTags","tagsRef","unsubscribeTags","customTags","unsubscribeProducts","productTags","newTagRef","SKU_PREFIX","SKU_PADDING","useSkuSuggestion","suggestedSku","setSuggestedSku","skuRegex","matchingSKUs","sku","paddedNumber","SECTOR_COLORS","getSectorColor","sectorCode","ProductForm","initialProviderId","onDirtyChange","tagSuggestions","updateField","field","handleNameBlur","sectorColor","FullscreenProductForm","isDirty","setIsDirty","handleClose","calculateNewOrder","Products","setSelectedProviderId","addProduct","deleteProduct","filteredProducts","setFilteredProducts","editingProduct","setEditingProduct","productToDelete","setProductToDelete","isFiltering","setIsFiltering","defaultSector","sectorProducts","newOrder","handleNewProduct","handleFilter","useCallback","filtered","isActiveFilter","thermalPrintStyles","printScripts","generateRecipePrintTemplate","recipe","materialsHtml","productA","productB","material","RecipeList","recipes","showHistory","setShowHistory","handlePrint","template","printTab","lastEntry","threshold","exceedsThreshold","isIncrease","History","Printer","isSignificantChange","COLLECTION","initializeCollection","collectionRef","saveMonthlyFixedCosts","existingCosts","getMonthlyFixedCosts","costsRef","fixedCostsRef","newRef","monthQuery","getCurrentMonthFixedCosts","getFixedCostsHistory","useFixedCosts","currentCosts","setCurrentCosts","history","setHistory","loadData","costs","historyData","MaterialSelector","onSelect","selectedMaterials","selectedMaterial","setSelectedMaterial","quantity","setQuantity","showResults","setShowResults","availableProducts","availableRecipes","filteredMaterials","searchLower","handleAdd","MaterialList","materials","onRemove","totalCost","isRecipe","Scale","calculateFixedCostPercentage","totalMaterialsCost","totalFixedCosts","calculateMaterialsCost","calculateRecipeCosts","yield_","fixedCostPercentage","profitPercentage","previousUnitCost","materialsCost","fixedCosts","unitCost","profitDecimal","suggestedPrice","costHistory","updateDependentRecipes","updatedRecipeId","visited","dependentRecipes","updatedRecipes","recipeIndex","RecipeForm","formState","setFormState","handleAddMaterial","FixedCostsForm","isSaving","setIsSaving","productionSalesPercentage","productionFixedCosts","currentFixedCostPercentage","groupedHistory","acc","sortedYears","entries","monthName","latestEntry","previousEntry","percentageChange","TrendingDown","Loader2","useRecipes","setRecipes","recipesRef","recipesData","recipeRef","Recipes","addRecipe","updateRecipe","deleteRecipe","costsLoading","updateFixedCosts","isFixedCostsFormOpen","setIsFixedCostsFormOpen","editingRecipe","setEditingRecipe","isUpdatingCosts","setIsUpdatingCosts","filteredRecipes","handleUpdateAllCosts","updatedCount","errorCount","baseRecipes","updatedRecipe","nonBaseRecipes","Calculator","createDocument","updateDocument","docRef","deleteDocument","queryByField","queryRef","STANDARD_MEASURES","initializeMeasures","existingMeasuresUpper","measuresToAdd","COLLECTIONS","checkCollection","collection","createCollection","initializeCollections","createPromises","status","ORDERS_COLLECTION","getProviderOrders","orderService","sortedOrders","updatedOrder","useOrders","setOrders","initialOrders","updatedOrders","orderId","useGlobalOrders","fromTimestamp","getCurrentTimestamp","formatHeader","dateStr","formatProductLine","packaging","formatProducts","formatSummary","totalItems","totalUnits","formatReport","isWhatsApp","summary","formattedProducts","formatWhatsAppReport","generatePrintTemplate","sortedItems","productsHtml","OrderActions","onReopen","updateOrder","deleteOrder","isDeleteDialogOpen","setIsDeleteDialogOpen","handleWhatsApp","whatsappUrl","Share2","Edit","OrderList","uniqueProducts","totalQuantity","orderNumber","orderProvider","Clock","OrderSummary","preview","report","OrderDetails","isReopenDialogOpen","setIsReopenDialogOpen","orderDate","totalProducts","handleReopen","ArrowLeft","AlertTriangle","OrderListSearch","onOrderSelect","matchingProducts","FullscreenProductEditor","OrderProductCard","onQuantityChange","onReview","isReviewed","allowEdit","showQuantityInput","setShowQuantityInput","quantityControlsRef","clickTimeoutRef","handleProductUpdate","handleCardClick","handleQuantityClick","handleQuantityChange","newQuantity","handleDecrement","handleIncrement","Check","Minus","ProductFilter","ProductSelector","selectedProducts","reviewedProducts","setReviewedProducts","filterValue","setFilterValue","showOnlySelected","setShowOnlySelected","productId","markAsReviewed","calculateOrderTotal","createOrderItem","subtotal","createOrder","validateOrder","seenProducts","expectedSubtotal","calculatedTotal","AUTOSAVE_INTERVAL","DEBOUNCE_DELAY","useOrderAutosave","onSave","enabled","lastSaveRef","saveTimeoutRef","debounceTimeoutRef","isSavingRef","isMountedRef","lastDataHashRef","getDataHash","orderData","qty","cleanup","scheduleSave","currentHash","FullscreenOrderEditor","onConfirm","allProducts","setAllProducts","addOrder","prevProducts","productIds","externalProducts","today","todayStart","todayEnd","todayOrder","Orders","navigate","useNavigate","searchParams","setSearchParams","useSearchParams","allOrders","globalOrdersLoading","globalProductsLoading","selectedOrder","setSelectedOrder","viewingOrder","setViewingOrder","setSelectedProducts","shouldReturnToDashboard","setShouldReturnToDashboard","recentOrders","isNewOrder","initialProducts","handleProductSelect","newSelected","handleSelectOrder","handleEditOrder","DayDetailsModal","events","WEEKDAYS","WEEKDAY_TO_NUMBER","NUMBER_TO_WEEKDAY","Schedule","isMonthView","setIsMonthView","selectedDate","setSelectedDate","selectedEvents","setSelectedEvents","currentDay","currentWeekday","ordersByProvider","monthlyBillingProviders","weeks","getDayEvents","dayOfMonth","billing","deliveries","handleDayClick","List","CalendarIcon","weekIndex","dayIndex","isCurrentMonth","isCurrentDay","hasEvents","providerOrders","itemSum","weekdayNumber","billingProviders","orderProviders","deliveryProviders","Truck","authenticateZureo","getZureoStock","articleCode","response","errorMessage","contentType","parseError","stock","errorInfo","StockControl","currentStock","onStockUpdate","isEnabled","isChecking","setIsChecking","zureoStock","setZureoStock","manualStock","setManualStock","showInput","setShowInput","handleCheckStock","loadingToast","handleConfirmStock","newStock","handleCancel","StockReport","maxDate","sortedData","Inventory","isAuthenticated","setIsAuthenticated","isAuthenticating","setIsAuthenticating","showReport","setShowReport","maxReportDate","setMaxReportDate","handleAuthenticate","success","productGroups","groups","handleStockUpdate","handleShowReport","reportData","LogIn","daysSinceCheck","App","Router","Toaster","Routes","Route","StrictMode"],"mappings":"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","x_google_ignoreList":[0,1,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,63,64,73,74,75,76,77,78,79,80,81,82,83,85,86,87,88]}